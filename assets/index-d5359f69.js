(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Nb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rb={exports:{}},Kd={},Pb={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),hM=Symbol.for("react.portal"),pM=Symbol.for("react.fragment"),gM=Symbol.for("react.strict_mode"),mM=Symbol.for("react.profiler"),yM=Symbol.for("react.provider"),_M=Symbol.for("react.context"),vM=Symbol.for("react.forward_ref"),bM=Symbol.for("react.suspense"),wM=Symbol.for("react.memo"),SM=Symbol.for("react.lazy"),$y=Symbol.iterator;function xM(e){return e===null||typeof e!="object"?null:(e=$y&&e[$y]||e["@@iterator"],typeof e=="function"?e:null)}var Lb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fb=Object.assign,Bb={};function Qo(e,t,n){this.props=e,this.context=t,this.refs=Bb,this.updater=n||Lb}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zb(){}zb.prototype=Qo.prototype;function Rg(e,t,n){this.props=e,this.context=t,this.refs=Bb,this.updater=n||Lb}var Pg=Rg.prototype=new zb;Pg.constructor=Rg;Fb(Pg,Qo.prototype);Pg.isPureReactComponent=!0;var Vy=Array.isArray,Ub=Object.prototype.hasOwnProperty,Lg={current:null},$b={key:!0,ref:!0,__self:!0,__source:!0};function Vb(e,t,n){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Ub.call(t,i)&&!$b.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Wl,type:e,key:s,ref:o,props:r,_owner:Lg.current}}function EM(e,t){return{$$typeof:Wl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wl}function IM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jy=/\/+/g;function jf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IM(""+e.key):t.toString(36)}function Jc(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wl:case hM:o=!0}}if(o)return o=e,r=r(o),e=i===""?"."+jf(o,0):i,Vy(r)?(n="",e!=null&&(n=e.replace(jy,"$&/")+"/"),Jc(r,t,n,"",function(c){return c})):r!=null&&(Fg(r)&&(r=EM(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(jy,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=i===""?".":i+":",Vy(e))for(var a=0;a<e.length;a++){s=e[a];var l=i+jf(s,a);o+=Jc(s,t,n,l,r)}else if(l=xM(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=i+jf(s,a++),o+=Jc(s,t,n,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function uc(e,t,n){if(e==null)return e;var i=[],r=0;return Jc(e,i,"","",function(s){return t.call(n,s,r++)}),i}function kM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},tu={transition:null},MM={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:tu,ReactCurrentOwner:Lg};function jb(){throw Error("act(...) is not supported in production builds of React.")}pt.Children={map:uc,forEach:function(e,t,n){uc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uc(e,function(){t++}),t},toArray:function(e){return uc(e,function(t){return t})||[]},only:function(e){if(!Fg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pt.Component=Qo;pt.Fragment=pM;pt.Profiler=mM;pt.PureComponent=Rg;pt.StrictMode=gM;pt.Suspense=bM;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MM;pt.act=jb;pt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Fb({},e.props),r=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Lg.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Ub.call(t,l)&&!$b.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Wl,type:e.type,key:r,ref:s,props:i,_owner:o}};pt.createContext=function(e){return e={$$typeof:_M,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yM,_context:e},e.Consumer=e};pt.createElement=Vb;pt.createFactory=function(e){var t=Vb.bind(null,e);return t.type=e,t};pt.createRef=function(){return{current:null}};pt.forwardRef=function(e){return{$$typeof:vM,render:e}};pt.isValidElement=Fg;pt.lazy=function(e){return{$$typeof:SM,_payload:{_status:-1,_result:e},_init:kM}};pt.memo=function(e,t){return{$$typeof:wM,type:e,compare:t===void 0?null:t}};pt.startTransition=function(e){var t=tu.transition;tu.transition={};try{e()}finally{tu.transition=t}};pt.unstable_act=jb;pt.useCallback=function(e,t){return Ue.current.useCallback(e,t)};pt.useContext=function(e){return Ue.current.useContext(e)};pt.useDebugValue=function(){};pt.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};pt.useEffect=function(e,t){return Ue.current.useEffect(e,t)};pt.useId=function(){return Ue.current.useId()};pt.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};pt.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};pt.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};pt.useMemo=function(e,t){return Ue.current.useMemo(e,t)};pt.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};pt.useRef=function(e){return Ue.current.useRef(e)};pt.useState=function(e){return Ue.current.useState(e)};pt.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};pt.useTransition=function(){return Ue.current.useTransition()};pt.version="18.3.1";Pb.exports=pt;var O=Pb.exports;const B=Nb(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TM=O,AM=Symbol.for("react.element"),DM=Symbol.for("react.fragment"),OM=Object.prototype.hasOwnProperty,CM=TM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NM={key:!0,ref:!0,__self:!0,__source:!0};function Hb(e,t,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)OM.call(t,i)&&!NM.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:AM,type:e,key:s,ref:o,props:r,_owner:CM.current}}Kd.Fragment=DM;Kd.jsx=Hb;Kd.jsxs=Hb;Rb.exports=Kd;var Wb=Rb.exports;const St=Wb.jsx,yr=Wb.jsxs;var Jh={},Yb={exports:{}},hn={},Xb={exports:{}},Kb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,T){var R=N.length;N.push(T);t:for(;0<R;){var P=R-1>>>1,F=N[P];if(0<r(F,T))N[P]=T,N[R]=F,R=P;else break t}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var T=N[0],R=N.pop();if(R!==T){N[0]=R;t:for(var P=0,F=N.length,j=F>>>1;P<j;){var H=2*(P+1)-1,W=N[H],Q=H+1,ut=N[Q];if(0>r(W,R))Q<F&&0>r(ut,W)?(N[P]=ut,N[Q]=R,P=Q):(N[P]=W,N[H]=R,P=H);else if(Q<F&&0>r(ut,R))N[P]=ut,N[Q]=R,P=Q;else break t}}return T}function r(N,T){var R=N.sortIndex-T.sortIndex;return R!==0?R:N.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var T=n(c);T!==null;){if(T.callback===null)i(c);else if(T.startTime<=N)i(c),T.sortIndex=T.expirationTime,t(l,T);else break;T=n(c)}}function v(N){if(y=!1,_(N),!p)if(n(l)!==null)p=!0,M(w);else{var T=n(c);T!==null&&L(v,T.startTime-N)}}function w(N,T){p=!1,y&&(y=!1,g(D),D=-1),h=!0;var R=f;try{for(_(T),d=n(l);d!==null&&(!(d.expirationTime>T)||N&&!z());){var P=d.callback;if(typeof P=="function"){d.callback=null,f=d.priorityLevel;var F=P(d.expirationTime<=T);T=e.unstable_now(),typeof F=="function"?d.callback=F:d===n(l)&&i(l),_(T)}else i(l);d=n(l)}if(d!==null)var j=!0;else{var H=n(c);H!==null&&L(v,H.startTime-T),j=!1}return j}finally{d=null,f=R,h=!1}}var x=!1,E=null,D=-1,A=5,C=-1;function z(){return!(e.unstable_now()-C<A)}function U(){if(E!==null){var N=e.unstable_now();C=N;var T=!0;try{T=E(!0,N)}finally{T?$():(x=!1,E=null)}}else x=!1}var $;if(typeof m=="function")$=function(){m(U)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,k=S.port2;S.port1.onmessage=U,$=function(){k.postMessage(null)}}else $=function(){b(U,0)};function M(N){E=N,x||(x=!0,$())}function L(N,T){D=b(function(){N(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,M(w))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var R=f;f=T;try{return N()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,T){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var R=f;f=N;try{return T()}finally{f=R}},e.unstable_scheduleCallback=function(N,T,R){var P=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?P+R:P):R=P,N){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=R+F,N={id:u++,callback:T,priorityLevel:N,startTime:R,expirationTime:F,sortIndex:-1},R>P?(N.sortIndex=R,t(c,N),n(l)===null&&N===n(c)&&(y?(g(D),D=-1):y=!0,L(v,R-P))):(N.sortIndex=F,t(l,N),p||h||(p=!0,M(w))),N},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(N){var T=f;return function(){var R=f;f=T;try{return N.apply(this,arguments)}finally{f=R}}}})(Kb);Xb.exports=Kb;var RM=Xb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PM=O,un=RM;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gb=new Set,al={};function Ms(e,t){Do(e,t),Do(e+"Capture",t)}function Do(e,t){for(al[e]=t,e=0;e<t.length;e++)Gb.add(t[e])}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tp=Object.prototype.hasOwnProperty,LM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hy={},Wy={};function FM(e){return tp.call(Wy,e)?!0:tp.call(Hy,e)?!1:LM.test(e)?Wy[e]=!0:(Hy[e]=!0,!1)}function BM(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zM(e,t,n,i){if(t===null||typeof t>"u"||BM(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bg=/[\-:]([a-z])/g;function zg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bg,zg);be[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bg,zg);be[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bg,zg);be[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ug(e,t,n,i){var r=be.hasOwnProperty(t)?be[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zM(t,n,r,i)&&(n=null),i||r===null?FM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Gi=PM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dc=Symbol.for("react.element"),to=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),$g=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),Qb=Symbol.for("react.provider"),qb=Symbol.for("react.context"),Vg=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),ip=Symbol.for("react.suspense_list"),jg=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),Zb=Symbol.for("react.offscreen"),Yy=Symbol.iterator;function oa(e){return e===null||typeof e!="object"?null:(e=Yy&&e[Yy]||e["@@iterator"],typeof e=="function"?e:null)}var Qt=Object.assign,Hf;function ka(e){if(Hf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hf=t&&t[1]||""}return`
`+Hf+e}var Wf=!1;function Yf(e,t){if(!e||Wf)return"";Wf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ka(e):""}function UM(e){switch(e.tag){case 5:return ka(e.type);case 16:return ka("Lazy");case 13:return ka("Suspense");case 19:return ka("SuspenseList");case 0:case 2:case 15:return e=Yf(e.type,!1),e;case 11:return e=Yf(e.type.render,!1),e;case 1:return e=Yf(e.type,!0),e;default:return""}}function rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eo:return"Fragment";case to:return"Portal";case ep:return"Profiler";case $g:return"StrictMode";case np:return"Suspense";case ip:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qb:return(e.displayName||"Context")+".Consumer";case Qb:return(e._context.displayName||"Context")+".Provider";case Vg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jg:return t=e.displayName||null,t!==null?t:rp(e.type)||"Memo";case rr:t=e._payload,e=e._init;try{return rp(e(t))}catch{}}return null}function $M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(t);case 8:return t===$g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VM(e){var t=Jb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fc(e){e._valueTracker||(e._valueTracker=VM(e))}function tw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Jb(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Mu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sp(e,t){var n=t.checked;return Qt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xy(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ar(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ew(e,t){t=t.checked,t!=null&&Ug(e,"checked",t,!1)}function op(e,t){ew(e,t);var n=Ar(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ap(e,t.type,n):t.hasOwnProperty("defaultValue")&&ap(e,t.type,Ar(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ky(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ap(e,t,n){(t!=="number"||Mu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ma=Array.isArray;function mo(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ar(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function lp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Qt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Ma(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ar(n)}}function nw(e,t){var n=Ar(t.value),i=Ar(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Qy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hc,rw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hc=hc||document.createElement("div"),hc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ll(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jM=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(e){jM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wa[t]=Wa[e]})});function sw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wa.hasOwnProperty(e)&&Wa[e]?(""+t).trim():t+"px"}function ow(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=sw(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var HM=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function up(e,t){if(t){if(HM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function dp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fp=null;function Hg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hp=null,yo=null,_o=null;function qy(e){if(e=Kl(e)){if(typeof hp!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Jd(t),hp(e.stateNode,e.type,t))}}function aw(e){yo?_o?_o.push(e):_o=[e]:yo=e}function lw(){if(yo){var e=yo,t=_o;if(_o=yo=null,qy(e),t)for(e=0;e<t.length;e++)qy(t[e])}}function cw(e,t){return e(t)}function uw(){}var Xf=!1;function dw(e,t,n){if(Xf)return e(t,n);Xf=!0;try{return cw(e,t,n)}finally{Xf=!1,(yo!==null||_o!==null)&&(uw(),lw())}}function cl(e,t){var n=e.stateNode;if(n===null)return null;var i=Jd(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var pp=!1;if(ji)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){pp=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{pp=!1}function WM(e,t,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ya=!1,Tu=null,Au=!1,gp=null,YM={onError:function(e){Ya=!0,Tu=e}};function XM(e,t,n,i,r,s,o,a,l){Ya=!1,Tu=null,WM.apply(YM,arguments)}function KM(e,t,n,i,r,s,o,a,l){if(XM.apply(this,arguments),Ya){if(Ya){var c=Tu;Ya=!1,Tu=null}else throw Error(V(198));Au||(Au=!0,gp=c)}}function Ts(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zy(e){if(Ts(e)!==e)throw Error(V(188))}function GM(e){var t=e.alternate;if(!t){if(t=Ts(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Zy(r),e;if(s===i)return Zy(r),t;s=s.sibling}throw Error(V(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==i)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function hw(e){return e=GM(e),e!==null?pw(e):null}function pw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pw(e);if(t!==null)return t;e=e.sibling}return null}var gw=un.unstable_scheduleCallback,Jy=un.unstable_cancelCallback,QM=un.unstable_shouldYield,qM=un.unstable_requestPaint,ne=un.unstable_now,ZM=un.unstable_getCurrentPriorityLevel,Wg=un.unstable_ImmediatePriority,mw=un.unstable_UserBlockingPriority,Du=un.unstable_NormalPriority,JM=un.unstable_LowPriority,yw=un.unstable_IdlePriority,Gd=null,fi=null;function t2(e){if(fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(Gd,e,void 0,(e.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:i2,e2=Math.log,n2=Math.LN2;function i2(e){return e>>>=0,e===0?32:31-(e2(e)/n2|0)|0}var pc=64,gc=4194304;function Ta(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ou(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Ta(a):(s&=o,s!==0&&(i=Ta(s)))}else o=n&~r,o!==0?i=Ta(o):s!==0&&(i=Ta(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-jn(t),r=1<<n,i|=e[n],t&=~r;return i}function r2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s2(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-jn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=r2(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function mp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _w(){var e=pc;return pc<<=1,!(pc&4194240)&&(pc=64),e}function Kf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jn(t),e[t]=n}function o2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-jn(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function Yg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-jn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var Nt=0;function vw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bw,Xg,ww,Sw,xw,yp=!1,mc=[],_r=null,vr=null,br=null,ul=new Map,dl=new Map,ur=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t0(e,t){switch(e){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":ul.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(t.pointerId)}}function la(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Kl(t),t!==null&&Xg(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function l2(e,t,n,i,r){switch(t){case"focusin":return _r=la(_r,e,t,n,i,r),!0;case"dragenter":return vr=la(vr,e,t,n,i,r),!0;case"mouseover":return br=la(br,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return ul.set(s,la(ul.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,dl.set(s,la(dl.get(s)||null,e,t,n,i,r)),!0}return!1}function Ew(e){var t=is(e.target);if(t!==null){var n=Ts(t);if(n!==null){if(t=n.tag,t===13){if(t=fw(n),t!==null){e.blockedOn=t,xw(e.priority,function(){ww(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_p(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);fp=i,n.target.dispatchEvent(i),fp=null}else return t=Kl(n),t!==null&&Xg(t),e.blockedOn=n,!1;t.shift()}return!0}function e0(e,t,n){eu(e)&&n.delete(t)}function c2(){yp=!1,_r!==null&&eu(_r)&&(_r=null),vr!==null&&eu(vr)&&(vr=null),br!==null&&eu(br)&&(br=null),ul.forEach(e0),dl.forEach(e0)}function ca(e,t){e.blockedOn===t&&(e.blockedOn=null,yp||(yp=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,c2)))}function fl(e){function t(r){return ca(r,e)}if(0<mc.length){ca(mc[0],e);for(var n=1;n<mc.length;n++){var i=mc[n];i.blockedOn===e&&(i.blockedOn=null)}}for(_r!==null&&ca(_r,e),vr!==null&&ca(vr,e),br!==null&&ca(br,e),ul.forEach(t),dl.forEach(t),n=0;n<ur.length;n++)i=ur[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<ur.length&&(n=ur[0],n.blockedOn===null);)Ew(n),n.blockedOn===null&&ur.shift()}var vo=Gi.ReactCurrentBatchConfig,Cu=!0;function u2(e,t,n,i){var r=Nt,s=vo.transition;vo.transition=null;try{Nt=1,Kg(e,t,n,i)}finally{Nt=r,vo.transition=s}}function d2(e,t,n,i){var r=Nt,s=vo.transition;vo.transition=null;try{Nt=4,Kg(e,t,n,i)}finally{Nt=r,vo.transition=s}}function Kg(e,t,n,i){if(Cu){var r=_p(e,t,n,i);if(r===null)rh(e,t,i,Nu,n),t0(e,i);else if(l2(r,e,t,n,i))i.stopPropagation();else if(t0(e,i),t&4&&-1<a2.indexOf(e)){for(;r!==null;){var s=Kl(r);if(s!==null&&bw(s),s=_p(e,t,n,i),s===null&&rh(e,t,i,Nu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else rh(e,t,i,null,n)}}var Nu=null;function _p(e,t,n,i){if(Nu=null,e=Hg(i),e=is(e),e!==null)if(t=Ts(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nu=e,null}function Iw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZM()){case Wg:return 1;case mw:return 4;case Du:case JM:return 16;case yw:return 536870912;default:return 16}default:return 16}}var hr=null,Gg=null,nu=null;function kw(){if(nu)return nu;var e,t=Gg,n=t.length,i,r="value"in hr?hr.value:hr.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return nu=r.slice(e,1<i?1-i:void 0)}function iu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yc(){return!0}function n0(){return!1}function pn(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yc:n0,this.isPropagationStopped=n0,this}return Qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),t}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qg=pn(qo),Xl=Qt({},qo,{view:0,detail:0}),f2=pn(Xl),Gf,Qf,ua,Qd=Qt({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ua&&(ua&&e.type==="mousemove"?(Gf=e.screenX-ua.screenX,Qf=e.screenY-ua.screenY):Qf=Gf=0,ua=e),Gf)},movementY:function(e){return"movementY"in e?e.movementY:Qf}}),i0=pn(Qd),h2=Qt({},Qd,{dataTransfer:0}),p2=pn(h2),g2=Qt({},Xl,{relatedTarget:0}),qf=pn(g2),m2=Qt({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),y2=pn(m2),_2=Qt({},qo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),v2=pn(_2),b2=Qt({},qo,{data:0}),r0=pn(b2),w2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x2[e])?!!t[e]:!1}function qg(){return E2}var I2=Qt({},Xl,{key:function(e){if(e.key){var t=w2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=iu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?S2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qg,charCode:function(e){return e.type==="keypress"?iu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?iu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k2=pn(I2),M2=Qt({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s0=pn(M2),T2=Qt({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qg}),A2=pn(T2),D2=Qt({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),O2=pn(D2),C2=Qt({},Qd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N2=pn(C2),R2=[9,13,27,32],Zg=ji&&"CompositionEvent"in window,Xa=null;ji&&"documentMode"in document&&(Xa=document.documentMode);var P2=ji&&"TextEvent"in window&&!Xa,Mw=ji&&(!Zg||Xa&&8<Xa&&11>=Xa),o0=String.fromCharCode(32),a0=!1;function Tw(e,t){switch(e){case"keyup":return R2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var no=!1;function L2(e,t){switch(e){case"compositionend":return Aw(t);case"keypress":return t.which!==32?null:(a0=!0,o0);case"textInput":return e=t.data,e===o0&&a0?null:e;default:return null}}function F2(e,t){if(no)return e==="compositionend"||!Zg&&Tw(e,t)?(e=kw(),nu=Gg=hr=null,no=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mw&&t.locale!=="ko"?null:t.data;default:return null}}var B2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B2[e.type]:t==="textarea"}function Dw(e,t,n,i){aw(i),t=Ru(t,"onChange"),0<t.length&&(n=new Qg("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ka=null,hl=null;function z2(e){$w(e,0)}function qd(e){var t=so(e);if(tw(t))return e}function U2(e,t){if(e==="change")return t}var Ow=!1;if(ji){var Zf;if(ji){var Jf="oninput"in document;if(!Jf){var c0=document.createElement("div");c0.setAttribute("oninput","return;"),Jf=typeof c0.oninput=="function"}Zf=Jf}else Zf=!1;Ow=Zf&&(!document.documentMode||9<document.documentMode)}function u0(){Ka&&(Ka.detachEvent("onpropertychange",Cw),hl=Ka=null)}function Cw(e){if(e.propertyName==="value"&&qd(hl)){var t=[];Dw(t,hl,e,Hg(e)),dw(z2,t)}}function $2(e,t,n){e==="focusin"?(u0(),Ka=t,hl=n,Ka.attachEvent("onpropertychange",Cw)):e==="focusout"&&u0()}function V2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qd(hl)}function j2(e,t){if(e==="click")return qd(t)}function H2(e,t){if(e==="input"||e==="change")return qd(t)}function W2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xn=typeof Object.is=="function"?Object.is:W2;function pl(e,t){if(Xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!tp.call(t,r)||!Xn(e[r],t[r]))return!1}return!0}function d0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f0(e,t){var n=d0(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=d0(n)}}function Nw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rw(){for(var e=window,t=Mu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mu(e.document)}return t}function Jg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Y2(e){var t=Rw(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nw(n.ownerDocument.documentElement,n)){if(i!==null&&Jg(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=f0(n,s);var o=f0(n,i);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var X2=ji&&"documentMode"in document&&11>=document.documentMode,io=null,vp=null,Ga=null,bp=!1;function h0(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bp||io==null||io!==Mu(i)||(i=io,"selectionStart"in i&&Jg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ga&&pl(Ga,i)||(Ga=i,i=Ru(vp,"onSelect"),0<i.length&&(t=new Qg("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=io)))}function _c(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ro={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},th={},Pw={};ji&&(Pw=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Zd(e){if(th[e])return th[e];if(!ro[e])return e;var t=ro[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pw)return th[e]=t[n];return e}var Lw=Zd("animationend"),Fw=Zd("animationiteration"),Bw=Zd("animationstart"),zw=Zd("transitionend"),Uw=new Map,p0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(e,t){Uw.set(e,t),Ms(t,[e])}for(var eh=0;eh<p0.length;eh++){var nh=p0[eh],K2=nh.toLowerCase(),G2=nh[0].toUpperCase()+nh.slice(1);Fr(K2,"on"+G2)}Fr(Lw,"onAnimationEnd");Fr(Fw,"onAnimationIteration");Fr(Bw,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(zw,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function g0(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,KM(i,t,void 0,e),e.currentTarget=null}function $w(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;g0(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;g0(r,a,c),s=l}}}if(Au)throw e=gp,Au=!1,gp=null,e}function Vt(e,t){var n=t[Ip];n===void 0&&(n=t[Ip]=new Set);var i=e+"__bubble";n.has(i)||(Vw(t,e,2,!1),n.add(i))}function ih(e,t,n){var i=0;t&&(i|=4),Vw(n,e,i,t)}var vc="_reactListening"+Math.random().toString(36).slice(2);function gl(e){if(!e[vc]){e[vc]=!0,Gb.forEach(function(n){n!=="selectionchange"&&(Q2.has(n)||ih(n,!1,e),ih(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vc]||(t[vc]=!0,ih("selectionchange",!1,t))}}function Vw(e,t,n,i){switch(Iw(t)){case 1:var r=u2;break;case 4:r=d2;break;default:r=Kg}n=r.bind(null,t,n,e),r=void 0,!pp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function rh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=is(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue t}a=a.parentNode}}i=i.return}dw(function(){var c=s,u=Hg(n),d=[];t:{var f=Uw.get(e);if(f!==void 0){var h=Qg,p=e;switch(e){case"keypress":if(iu(n)===0)break t;case"keydown":case"keyup":h=k2;break;case"focusin":p="focus",h=qf;break;case"focusout":p="blur",h=qf;break;case"beforeblur":case"afterblur":h=qf;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=i0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=p2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=A2;break;case Lw:case Fw:case Bw:h=y2;break;case zw:h=O2;break;case"scroll":h=f2;break;case"wheel":h=N2;break;case"copy":case"cut":case"paste":h=v2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=s0}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=c,_;m!==null;){_=m;var v=_.stateNode;if(_.tag===5&&v!==null&&(_=v,g!==null&&(v=cl(m,g),v!=null&&y.push(ml(m,v,_)))),b)break;m=m.return}0<y.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:y}))}}if(!(t&7)){t:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==fp&&(p=n.relatedTarget||n.fromElement)&&(is(p)||p[Hi]))break t;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?is(p):null,p!==null&&(b=Ts(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(y=i0,v="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=s0,v="onPointerLeave",g="onPointerEnter",m="pointer"),b=h==null?f:so(h),_=p==null?f:so(p),f=new y(v,m+"leave",h,n,u),f.target=b,f.relatedTarget=_,v=null,is(u)===c&&(y=new y(g,m+"enter",p,n,u),y.target=_,y.relatedTarget=b,v=y),b=v,h&&p)e:{for(y=h,g=p,m=0,_=y;_;_=Ls(_))m++;for(_=0,v=g;v;v=Ls(v))_++;for(;0<m-_;)y=Ls(y),m--;for(;0<_-m;)g=Ls(g),_--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break e;y=Ls(y),g=Ls(g)}y=null}else y=null;h!==null&&m0(d,f,h,y,!1),p!==null&&b!==null&&m0(d,b,p,y,!0)}}t:{if(f=c?so(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var w=U2;else if(l0(f))if(Ow)w=H2;else{w=V2;var x=$2}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=j2);if(w&&(w=w(e,c))){Dw(d,w,n,u);break t}x&&x(e,f,c),e==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&ap(f,"number",f.value)}switch(x=c?so(c):window,e){case"focusin":(l0(x)||x.contentEditable==="true")&&(io=x,vp=c,Ga=null);break;case"focusout":Ga=vp=io=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,h0(d,n,u);break;case"selectionchange":if(X2)break;case"keydown":case"keyup":h0(d,n,u)}var E;if(Zg)t:{switch(e){case"compositionstart":var D="onCompositionStart";break t;case"compositionend":D="onCompositionEnd";break t;case"compositionupdate":D="onCompositionUpdate";break t}D=void 0}else no?Tw(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Mw&&n.locale!=="ko"&&(no||D!=="onCompositionStart"?D==="onCompositionEnd"&&no&&(E=kw()):(hr=u,Gg="value"in hr?hr.value:hr.textContent,no=!0)),x=Ru(c,D),0<x.length&&(D=new r0(D,e,null,n,u),d.push({event:D,listeners:x}),E?D.data=E:(E=Aw(n),E!==null&&(D.data=E)))),(E=P2?L2(e,n):F2(e,n))&&(c=Ru(c,"onBeforeInput"),0<c.length&&(u=new r0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}$w(d,t)})}function ml(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ru(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=cl(e,n),s!=null&&i.unshift(ml(e,s,r)),s=cl(e,t),s!=null&&i.push(ml(e,s,r))),e=e.return}return i}function Ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function m0(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=cl(n,s),l!=null&&o.unshift(ml(n,l,a))):r||(l=cl(n,s),l!=null&&o.push(ml(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var q2=/\r\n?/g,Z2=/\u0000|\uFFFD/g;function y0(e){return(typeof e=="string"?e:""+e).replace(q2,`
`).replace(Z2,"")}function bc(e,t,n){if(t=y0(t),y0(e)!==t&&n)throw Error(V(425))}function Pu(){}var wp=null,Sp=null;function xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ep=typeof setTimeout=="function"?setTimeout:void 0,J2=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(e){return _0.resolve(null).then(e).catch(eT)}:Ep;function eT(e){setTimeout(function(){throw e})}function sh(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),fl(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);fl(t)}function wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function v0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),si="__reactFiber$"+Zo,yl="__reactProps$"+Zo,Hi="__reactContainer$"+Zo,Ip="__reactEvents$"+Zo,nT="__reactListeners$"+Zo,iT="__reactHandles$"+Zo;function is(e){var t=e[si];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hi]||n[si]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=v0(e);e!==null;){if(n=e[si])return n;e=v0(e)}return t}e=n,n=e.parentNode}return null}function Kl(e){return e=e[si]||e[Hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function so(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Jd(e){return e[yl]||null}var kp=[],oo=-1;function Br(e){return{current:e}}function jt(e){0>oo||(e.current=kp[oo],kp[oo]=null,oo--)}function zt(e,t){oo++,kp[oo]=e.current,e.current=t}var Dr={},De=Br(Dr),Qe=Br(!1),ms=Dr;function Oo(e,t){var n=e.type.contextTypes;if(!n)return Dr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function qe(e){return e=e.childContextTypes,e!=null}function Lu(){jt(Qe),jt(De)}function b0(e,t,n){if(De.current!==Dr)throw Error(V(168));zt(De,t),zt(Qe,n)}function jw(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(V(108,$M(e)||"Unknown",r));return Qt({},n,i)}function Fu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dr,ms=De.current,zt(De,e),zt(Qe,Qe.current),!0}function w0(e,t,n){var i=e.stateNode;if(!i)throw Error(V(169));n?(e=jw(e,t,ms),i.__reactInternalMemoizedMergedChildContext=e,jt(Qe),jt(De),zt(De,e)):jt(Qe),zt(Qe,n)}var Ci=null,tf=!1,oh=!1;function Hw(e){Ci===null?Ci=[e]:Ci.push(e)}function rT(e){tf=!0,Hw(e)}function zr(){if(!oh&&Ci!==null){oh=!0;var e=0,t=Nt;try{var n=Ci;for(Nt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Ci=null,tf=!1}catch(r){throw Ci!==null&&(Ci=Ci.slice(e+1)),gw(Wg,zr),r}finally{Nt=t,oh=!1}}return null}var ao=[],lo=0,Bu=null,zu=0,vn=[],bn=0,ys=null,Li=1,Fi="";function Zr(e,t){ao[lo++]=zu,ao[lo++]=Bu,Bu=e,zu=t}function Ww(e,t,n){vn[bn++]=Li,vn[bn++]=Fi,vn[bn++]=ys,ys=e;var i=Li;e=Fi;var r=32-jn(i)-1;i&=~(1<<r),n+=1;var s=32-jn(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Li=1<<32-jn(t)+r|n<<r|i,Fi=s+e}else Li=1<<s|n<<r|i,Fi=e}function tm(e){e.return!==null&&(Zr(e,1),Ww(e,1,0))}function em(e){for(;e===Bu;)Bu=ao[--lo],ao[lo]=null,zu=ao[--lo],ao[lo]=null;for(;e===ys;)ys=vn[--bn],vn[bn]=null,Fi=vn[--bn],vn[bn]=null,Li=vn[--bn],vn[bn]=null}var cn=null,ln=null,Wt=!1,Un=null;function Yw(e,t){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function S0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cn=e,ln=wr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cn=e,ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ys!==null?{id:Li,overflow:Fi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,cn=e,ln=null,!0):!1;default:return!1}}function Mp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tp(e){if(Wt){var t=ln;if(t){var n=t;if(!S0(e,t)){if(Mp(e))throw Error(V(418));t=wr(n.nextSibling);var i=cn;t&&S0(e,t)?Yw(i,n):(e.flags=e.flags&-4097|2,Wt=!1,cn=e)}}else{if(Mp(e))throw Error(V(418));e.flags=e.flags&-4097|2,Wt=!1,cn=e}}}function x0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cn=e}function wc(e){if(e!==cn)return!1;if(!Wt)return x0(e),Wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xp(e.type,e.memoizedProps)),t&&(t=ln)){if(Mp(e))throw Xw(),Error(V(418));for(;t;)Yw(e,t),t=wr(t.nextSibling)}if(x0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ln=wr(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ln=null}}else ln=cn?wr(e.stateNode.nextSibling):null;return!0}function Xw(){for(var e=ln;e;)e=wr(e.nextSibling)}function Co(){ln=cn=null,Wt=!1}function nm(e){Un===null?Un=[e]:Un.push(e)}var sT=Gi.ReactCurrentBatchConfig;function da(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var i=n.stateNode}if(!i)throw Error(V(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Sc(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function E0(e){var t=e._init;return t(e._payload)}function Kw(e){function t(g,m){if(e){var _=g.deletions;_===null?(g.deletions=[m],g.flags|=16):_.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function i(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function r(g,m){return g=Ir(g,m),g.index=0,g.sibling=null,g}function s(g,m,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<m?(g.flags|=2,m):_):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,_,v){return m===null||m.tag!==6?(m=hh(_,g.mode,v),m.return=g,m):(m=r(m,_),m.return=g,m)}function l(g,m,_,v){var w=_.type;return w===eo?u(g,m,_.props.children,v,_.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===rr&&E0(w)===m.type)?(v=r(m,_.props),v.ref=da(g,m,_),v.return=g,v):(v=uu(_.type,_.key,_.props,null,g.mode,v),v.ref=da(g,m,_),v.return=g,v)}function c(g,m,_,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=ph(_,g.mode,v),m.return=g,m):(m=r(m,_.children||[]),m.return=g,m)}function u(g,m,_,v,w){return m===null||m.tag!==7?(m=us(_,g.mode,v,w),m.return=g,m):(m=r(m,_),m.return=g,m)}function d(g,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=hh(""+m,g.mode,_),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case dc:return _=uu(m.type,m.key,m.props,null,g.mode,_),_.ref=da(g,null,m),_.return=g,_;case to:return m=ph(m,g.mode,_),m.return=g,m;case rr:var v=m._init;return d(g,v(m._payload),_)}if(Ma(m)||oa(m))return m=us(m,g.mode,_,null),m.return=g,m;Sc(g,m)}return null}function f(g,m,_,v){var w=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:a(g,m,""+_,v);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dc:return _.key===w?l(g,m,_,v):null;case to:return _.key===w?c(g,m,_,v):null;case rr:return w=_._init,f(g,m,w(_._payload),v)}if(Ma(_)||oa(_))return w!==null?null:u(g,m,_,v,null);Sc(g,_)}return null}function h(g,m,_,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(_)||null,a(m,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dc:return g=g.get(v.key===null?_:v.key)||null,l(m,g,v,w);case to:return g=g.get(v.key===null?_:v.key)||null,c(m,g,v,w);case rr:var x=v._init;return h(g,m,_,x(v._payload),w)}if(Ma(v)||oa(v))return g=g.get(_)||null,u(m,g,v,w,null);Sc(m,v)}return null}function p(g,m,_,v){for(var w=null,x=null,E=m,D=m=0,A=null;E!==null&&D<_.length;D++){E.index>D?(A=E,E=null):A=E.sibling;var C=f(g,E,_[D],v);if(C===null){E===null&&(E=A);break}e&&E&&C.alternate===null&&t(g,E),m=s(C,m,D),x===null?w=C:x.sibling=C,x=C,E=A}if(D===_.length)return n(g,E),Wt&&Zr(g,D),w;if(E===null){for(;D<_.length;D++)E=d(g,_[D],v),E!==null&&(m=s(E,m,D),x===null?w=E:x.sibling=E,x=E);return Wt&&Zr(g,D),w}for(E=i(g,E);D<_.length;D++)A=h(E,g,D,_[D],v),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?D:A.key),m=s(A,m,D),x===null?w=A:x.sibling=A,x=A);return e&&E.forEach(function(z){return t(g,z)}),Wt&&Zr(g,D),w}function y(g,m,_,v){var w=oa(_);if(typeof w!="function")throw Error(V(150));if(_=w.call(_),_==null)throw Error(V(151));for(var x=w=null,E=m,D=m=0,A=null,C=_.next();E!==null&&!C.done;D++,C=_.next()){E.index>D?(A=E,E=null):A=E.sibling;var z=f(g,E,C.value,v);if(z===null){E===null&&(E=A);break}e&&E&&z.alternate===null&&t(g,E),m=s(z,m,D),x===null?w=z:x.sibling=z,x=z,E=A}if(C.done)return n(g,E),Wt&&Zr(g,D),w;if(E===null){for(;!C.done;D++,C=_.next())C=d(g,C.value,v),C!==null&&(m=s(C,m,D),x===null?w=C:x.sibling=C,x=C);return Wt&&Zr(g,D),w}for(E=i(g,E);!C.done;D++,C=_.next())C=h(E,g,D,C.value,v),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?D:C.key),m=s(C,m,D),x===null?w=C:x.sibling=C,x=C);return e&&E.forEach(function(U){return t(g,U)}),Wt&&Zr(g,D),w}function b(g,m,_,v){if(typeof _=="object"&&_!==null&&_.type===eo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case dc:t:{for(var w=_.key,x=m;x!==null;){if(x.key===w){if(w=_.type,w===eo){if(x.tag===7){n(g,x.sibling),m=r(x,_.props.children),m.return=g,g=m;break t}}else if(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===rr&&E0(w)===x.type){n(g,x.sibling),m=r(x,_.props),m.ref=da(g,x,_),m.return=g,g=m;break t}n(g,x);break}else t(g,x);x=x.sibling}_.type===eo?(m=us(_.props.children,g.mode,v,_.key),m.return=g,g=m):(v=uu(_.type,_.key,_.props,null,g.mode,v),v.ref=da(g,m,_),v.return=g,g=v)}return o(g);case to:t:{for(x=_.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(g,m.sibling),m=r(m,_.children||[]),m.return=g,g=m;break t}else{n(g,m);break}else t(g,m);m=m.sibling}m=ph(_,g.mode,v),m.return=g,g=m}return o(g);case rr:return x=_._init,b(g,m,x(_._payload),v)}if(Ma(_))return p(g,m,_,v);if(oa(_))return y(g,m,_,v);Sc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(g,m.sibling),m=r(m,_),m.return=g,g=m):(n(g,m),m=hh(_,g.mode,v),m.return=g,g=m),o(g)):n(g,m)}return b}var No=Kw(!0),Gw=Kw(!1),Uu=Br(null),$u=null,co=null,im=null;function rm(){im=co=$u=null}function sm(e){var t=Uu.current;jt(Uu),e._currentValue=t}function Ap(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function bo(e,t){$u=e,im=co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function An(e){var t=e._currentValue;if(im!==e)if(e={context:e,memoizedValue:t,next:null},co===null){if($u===null)throw Error(V(308));co=e,$u.dependencies={lanes:0,firstContext:e}}else co=co.next=e;return t}var rs=null;function om(e){rs===null?rs=[e]:rs.push(e)}function Qw(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,om(t)):(n.next=r.next,r.next=n),t.interleaved=n,Wi(e,i)}function Wi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sr=!1;function am(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,vt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Wi(e,n)}return r=i.interleaved,r===null?(t.next=t,om(i)):(t.next=r.next,r.next=t),i.interleaved=t,Wi(e,n)}function ru(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Yg(e,n)}}function I0(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vu(e,t,n,i){var r=e.updateQueue;sr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=e,y=a;switch(f=t,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){d=p.call(h,d,f);break t}d=p;break t;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break t;d=Qt({},d,f);break t;case 2:sr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);vs|=o,e.lanes=o,e.memoizedState=d}}function k0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(V(191,r));r.call(i)}}}var Gl={},hi=Br(Gl),_l=Br(Gl),vl=Br(Gl);function ss(e){if(e===Gl)throw Error(V(174));return e}function lm(e,t){switch(zt(vl,t),zt(_l,e),zt(hi,Gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cp(t,e)}jt(hi),zt(hi,t)}function Ro(){jt(hi),jt(_l),jt(vl)}function Zw(e){ss(vl.current);var t=ss(hi.current),n=cp(t,e.type);t!==n&&(zt(_l,e),zt(hi,n))}function cm(e){_l.current===e&&(jt(hi),jt(_l))}var Xt=Br(0);function ju(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ah=[];function um(){for(var e=0;e<ah.length;e++)ah[e]._workInProgressVersionPrimary=null;ah.length=0}var su=Gi.ReactCurrentDispatcher,lh=Gi.ReactCurrentBatchConfig,_s=0,Gt=null,ae=null,he=null,Hu=!1,Qa=!1,bl=0,oT=0;function Ee(){throw Error(V(321))}function dm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function fm(e,t,n,i,r,s){if(_s=s,Gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,su.current=e===null||e.memoizedState===null?uT:dT,e=n(i,r),Qa){s=0;do{if(Qa=!1,bl=0,25<=s)throw Error(V(301));s+=1,he=ae=null,t.updateQueue=null,su.current=fT,e=n(i,r)}while(Qa)}if(su.current=Wu,t=ae!==null&&ae.next!==null,_s=0,he=ae=Gt=null,Hu=!1,t)throw Error(V(300));return e}function hm(){var e=bl!==0;return bl=0,e}function ni(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?Gt.memoizedState=he=e:he=he.next=e,he}function Dn(){if(ae===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var t=he===null?Gt.memoizedState:he.next;if(t!==null)he=t,ae=e;else{if(e===null)throw Error(V(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},he===null?Gt.memoizedState=he=e:he=he.next=e}return he}function wl(e,t){return typeof t=="function"?t(e):t}function ch(e){var t=Dn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var i=ae,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((_s&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Gt.lanes|=u,vs|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Xn(i,t.memoizedState)||(Ke=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,Gt.lanes|=s,vs|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uh(e){var t=Dn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);Xn(s,t.memoizedState)||(Ke=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Jw(){}function t1(e,t){var n=Gt,i=Dn(),r=t(),s=!Xn(i.memoizedState,r);if(s&&(i.memoizedState=r,Ke=!0),i=i.queue,pm(i1.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,Sl(9,n1.bind(null,n,i,r,t),void 0,null),ge===null)throw Error(V(349));_s&30||e1(n,t,r)}return r}function e1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function n1(e,t,n,i){t.value=n,t.getSnapshot=i,r1(t)&&s1(e)}function i1(e,t,n){return n(function(){r1(t)&&s1(e)})}function r1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch{return!0}}function s1(e){var t=Wi(e,1);t!==null&&Hn(t,e,1,-1)}function M0(e){var t=ni();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:e},t.queue=e,e=e.dispatch=cT.bind(null,Gt,e),[t.memoizedState,e]}function Sl(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function o1(){return Dn().memoizedState}function ou(e,t,n,i){var r=ni();Gt.flags|=e,r.memoizedState=Sl(1|t,n,void 0,i===void 0?null:i)}function ef(e,t,n,i){var r=Dn();i=i===void 0?null:i;var s=void 0;if(ae!==null){var o=ae.memoizedState;if(s=o.destroy,i!==null&&dm(i,o.deps)){r.memoizedState=Sl(t,n,s,i);return}}Gt.flags|=e,r.memoizedState=Sl(1|t,n,s,i)}function T0(e,t){return ou(8390656,8,e,t)}function pm(e,t){return ef(2048,8,e,t)}function a1(e,t){return ef(4,2,e,t)}function l1(e,t){return ef(4,4,e,t)}function c1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function u1(e,t,n){return n=n!=null?n.concat([e]):null,ef(4,4,c1.bind(null,t,e),n)}function gm(){}function d1(e,t){var n=Dn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&dm(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function f1(e,t){var n=Dn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&dm(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function h1(e,t,n){return _s&21?(Xn(n,t)||(n=_w(),Gt.lanes|=n,vs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function aT(e,t){var n=Nt;Nt=n!==0&&4>n?n:4,e(!0);var i=lh.transition;lh.transition={};try{e(!1),t()}finally{Nt=n,lh.transition=i}}function p1(){return Dn().memoizedState}function lT(e,t,n){var i=Er(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},g1(e))m1(t,n);else if(n=Qw(e,t,n,i),n!==null){var r=ze();Hn(n,e,i,r),y1(n,t,i)}}function cT(e,t,n){var i=Er(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(g1(e))m1(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Xn(a,o)){var l=t.interleaved;l===null?(r.next=r,om(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=Qw(e,t,r,i),n!==null&&(r=ze(),Hn(n,e,i,r),y1(n,t,i))}}function g1(e){var t=e.alternate;return e===Gt||t!==null&&t===Gt}function m1(e,t){Qa=Hu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function y1(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Yg(e,n)}}var Wu={readContext:An,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},uT={readContext:An,useCallback:function(e,t){return ni().memoizedState=[e,t===void 0?null:t],e},useContext:An,useEffect:T0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ou(4194308,4,c1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ou(4194308,4,e,t)},useInsertionEffect:function(e,t){return ou(4,2,e,t)},useMemo:function(e,t){var n=ni();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ni();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=lT.bind(null,Gt,e),[i.memoizedState,e]},useRef:function(e){var t=ni();return e={current:e},t.memoizedState=e},useState:M0,useDebugValue:gm,useDeferredValue:function(e){return ni().memoizedState=e},useTransition:function(){var e=M0(!1),t=e[0];return e=aT.bind(null,e[1]),ni().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Gt,r=ni();if(Wt){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),ge===null)throw Error(V(349));_s&30||e1(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,T0(i1.bind(null,i,s,e),[e]),i.flags|=2048,Sl(9,n1.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=ni(),t=ge.identifierPrefix;if(Wt){var n=Fi,i=Li;n=(i&~(1<<32-jn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=bl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dT={readContext:An,useCallback:d1,useContext:An,useEffect:pm,useImperativeHandle:u1,useInsertionEffect:a1,useLayoutEffect:l1,useMemo:f1,useReducer:ch,useRef:o1,useState:function(){return ch(wl)},useDebugValue:gm,useDeferredValue:function(e){var t=Dn();return h1(t,ae.memoizedState,e)},useTransition:function(){var e=ch(wl)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:Jw,useSyncExternalStore:t1,useId:p1,unstable_isNewReconciler:!1},fT={readContext:An,useCallback:d1,useContext:An,useEffect:pm,useImperativeHandle:u1,useInsertionEffect:a1,useLayoutEffect:l1,useMemo:f1,useReducer:uh,useRef:o1,useState:function(){return uh(wl)},useDebugValue:gm,useDeferredValue:function(e){var t=Dn();return ae===null?t.memoizedState=e:h1(t,ae.memoizedState,e)},useTransition:function(){var e=uh(wl)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:Jw,useSyncExternalStore:t1,useId:p1,unstable_isNewReconciler:!1};function Ln(e,t){if(e&&e.defaultProps){t=Qt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Dp(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Qt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nf={isMounted:function(e){return(e=e._reactInternals)?Ts(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ze(),r=Er(e),s=$i(i,r);s.payload=t,n!=null&&(s.callback=n),t=Sr(e,s,r),t!==null&&(Hn(t,e,r,i),ru(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ze(),r=Er(e),s=$i(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Sr(e,s,r),t!==null&&(Hn(t,e,r,i),ru(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),i=Er(e),r=$i(n,i);r.tag=2,t!=null&&(r.callback=t),t=Sr(e,r,i),t!==null&&(Hn(t,e,i,n),ru(t,e,i))}};function A0(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!pl(n,i)||!pl(r,s):!0}function _1(e,t,n){var i=!1,r=Dr,s=t.contextType;return typeof s=="object"&&s!==null?s=An(s):(r=qe(t)?ms:De.current,i=t.contextTypes,s=(i=i!=null)?Oo(e,r):Dr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nf,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function D0(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&nf.enqueueReplaceState(t,t.state,null)}function Op(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},am(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=An(s):(s=qe(t)?ms:De.current,r.context=Oo(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Dp(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&nf.enqueueReplaceState(r,r.state,null),Vu(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Po(e,t){try{var n="",i=t;do n+=UM(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function dh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hT=typeof WeakMap=="function"?WeakMap:Map;function v1(e,t,n){n=$i(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Xu||(Xu=!0,Vp=i),Cp(e,t)},n}function b1(e,t,n){n=$i(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){Cp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Cp(e,t),typeof i!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function O0(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new hT;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=MT.bind(null,e,t,n),t.then(e,e))}function C0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function N0(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$i(-1,1),t.tag=2,Sr(n,t,1))),n.lanes|=1),e)}var pT=Gi.ReactCurrentOwner,Ke=!1;function Pe(e,t,n,i){t.child=e===null?Gw(t,null,n,i):No(t,e.child,n,i)}function R0(e,t,n,i,r){n=n.render;var s=t.ref;return bo(t,r),i=fm(e,t,n,i,s,r),n=hm(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Yi(e,t,r)):(Wt&&n&&tm(t),t.flags|=1,Pe(e,t,i,r),t.child)}function P0(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!xm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,w1(e,t,s,i,r)):(e=uu(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:pl,n(o,i)&&e.ref===t.ref)return Yi(e,t,r)}return t.flags|=1,e=Ir(s,i),e.ref=t.ref,e.return=t,t.child=e}function w1(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(pl(s,i)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Yi(e,t,r)}return Np(e,t,n,i,r)}function S1(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(fo,rn),rn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(fo,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,zt(fo,rn),rn|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,zt(fo,rn),rn|=i;return Pe(e,t,r,n),t.child}function x1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Np(e,t,n,i,r){var s=qe(n)?ms:De.current;return s=Oo(t,s),bo(t,r),n=fm(e,t,n,i,s,r),i=hm(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Yi(e,t,r)):(Wt&&i&&tm(t),t.flags|=1,Pe(e,t,n,r),t.child)}function L0(e,t,n,i,r){if(qe(n)){var s=!0;Fu(t)}else s=!1;if(bo(t,r),t.stateNode===null)au(e,t),_1(t,n,i),Op(t,n,i,r),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=An(c):(c=qe(n)?ms:De.current,c=Oo(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&D0(t,o,i,c),sr=!1;var f=t.memoizedState;o.state=f,Vu(t,i,o,r),l=t.memoizedState,a!==i||f!==l||Qe.current||sr?(typeof u=="function"&&(Dp(t,n,u,i),l=t.memoizedState),(a=sr||A0(t,n,a,i,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,qw(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ln(t.type,a),o.props=c,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=qe(n)?ms:De.current,l=Oo(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&D0(t,o,i,l),sr=!1,f=t.memoizedState,o.state=f,Vu(t,i,o,r);var p=t.memoizedState;a!==d||f!==p||Qe.current||sr?(typeof h=="function"&&(Dp(t,n,h,i),p=t.memoizedState),(c=sr||A0(t,n,c,i,f,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return Rp(e,t,n,i,s,r)}function Rp(e,t,n,i,r,s){x1(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&w0(t,n,!1),Yi(e,t,s);i=t.stateNode,pT.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=No(t,e.child,null,s),t.child=No(t,null,a,s)):Pe(e,t,a,s),t.memoizedState=i.state,r&&w0(t,n,!0),t.child}function E1(e){var t=e.stateNode;t.pendingContext?b0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b0(e,t.context,!1),lm(e,t.containerInfo)}function F0(e,t,n,i,r){return Co(),nm(r),t.flags|=256,Pe(e,t,n,i),t.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function Lp(e){return{baseLanes:e,cachePool:null,transitions:null}}function I1(e,t,n){var i=t.pendingProps,r=Xt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),zt(Xt,r&1),e===null)return Tp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=of(o,i,0,null),e=us(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Lp(n),t.memoizedState=Pp,e):mm(t,o));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return gT(e,t,o,i,a,r,n);if(s){s=i.fallback,o=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ir(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ir(a,s):(s=us(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?Lp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Pp,i}return s=e.child,e=s.sibling,i=Ir(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function mm(e,t){return t=of({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xc(e,t,n,i){return i!==null&&nm(i),No(t,e.child,null,n),e=mm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gT(e,t,n,i,r,s,o){if(n)return t.flags&256?(t.flags&=-257,i=dh(Error(V(422))),xc(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=of({mode:"visible",children:i.children},r,0,null),s=us(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&No(t,e.child,null,o),t.child.memoizedState=Lp(o),t.memoizedState=Pp,s);if(!(t.mode&1))return xc(e,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(V(419)),i=dh(s,i,void 0),xc(e,t,o,i)}if(a=(o&e.childLanes)!==0,Ke||a){if(i=ge,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Wi(e,r),Hn(i,e,r,-1))}return Sm(),i=dh(Error(V(421))),xc(e,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=TT.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ln=wr(r.nextSibling),cn=t,Wt=!0,Un=null,e!==null&&(vn[bn++]=Li,vn[bn++]=Fi,vn[bn++]=ys,Li=e.id,Fi=e.overflow,ys=t),t=mm(t,i.children),t.flags|=4096,t)}function B0(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ap(e.return,t,n)}function fh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function k1(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Pe(e,t,i.children,n),i=Xt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B0(e,n,t);else if(e.tag===19)B0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(zt(Xt,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ju(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),fh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ju(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}fh(t,!0,n,null,s);break;case"together":fh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function au(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mT(e,t,n){switch(t.tag){case 3:E1(t),Co();break;case 5:Zw(t);break;case 1:qe(t.type)&&Fu(t);break;case 4:lm(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;zt(Uu,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(zt(Xt,Xt.current&1),t.flags|=128,null):n&t.child.childLanes?I1(e,t,n):(zt(Xt,Xt.current&1),e=Yi(e,t,n),e!==null?e.sibling:null);zt(Xt,Xt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return k1(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),zt(Xt,Xt.current),i)break;return null;case 22:case 23:return t.lanes=0,S1(e,t,n)}return Yi(e,t,n)}var M1,Fp,T1,A1;M1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fp=function(){};T1=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,ss(hi.current);var s=null;switch(n){case"input":r=sp(e,r),i=sp(e,i),s=[];break;case"select":r=Qt({},r,{value:void 0}),i=Qt({},i,{value:void 0}),s=[];break;case"textarea":r=lp(e,r),i=lp(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Pu)}up(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(al.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(al.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Vt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};A1=function(e,t,n,i){n!==i&&(t.flags|=4)};function fa(e,t){if(!Wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function yT(e,t,n){var i=t.pendingProps;switch(em(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return qe(t.type)&&Lu(),Ie(t),null;case 3:return i=t.stateNode,Ro(),jt(Qe),jt(De),um(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(wc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Un!==null&&(Wp(Un),Un=null))),Fp(e,t),Ie(t),null;case 5:cm(t);var r=ss(vl.current);if(n=t.type,e!==null&&t.stateNode!=null)T1(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(V(166));return Ie(t),null}if(e=ss(hi.current),wc(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[si]=t,i[yl]=s,e=(t.mode&1)!==0,n){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(r=0;r<Aa.length;r++)Vt(Aa[r],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Xy(i,s),Vt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Vt("invalid",i);break;case"textarea":Gy(i,s),Vt("invalid",i)}up(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&bc(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&bc(i.textContent,a,e),r=["children",""+a]):al.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Vt("scroll",i)}switch(n){case"input":fc(i),Ky(i,s,!0);break;case"textarea":fc(i),Qy(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Pu)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[si]=t,e[yl]=i,M1(e,t,!1,!1),t.stateNode=e;t:{switch(o=dp(n,i),n){case"dialog":Vt("cancel",e),Vt("close",e),r=i;break;case"iframe":case"object":case"embed":Vt("load",e),r=i;break;case"video":case"audio":for(r=0;r<Aa.length;r++)Vt(Aa[r],e);r=i;break;case"source":Vt("error",e),r=i;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),r=i;break;case"details":Vt("toggle",e),r=i;break;case"input":Xy(e,i),r=sp(e,i),Vt("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Qt({},i,{value:void 0}),Vt("invalid",e);break;case"textarea":Gy(e,i),r=lp(e,i),Vt("invalid",e);break;default:r=i}up(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ow(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rw(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ll(e,l):typeof l=="number"&&ll(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(al.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Vt("scroll",e):l!=null&&Ug(e,s,l,o))}switch(n){case"input":fc(e),Ky(e,i,!1);break;case"textarea":fc(e),Qy(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ar(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?mo(e,!!i.multiple,s,!1):i.defaultValue!=null&&mo(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Pu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)A1(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(V(166));if(n=ss(vl.current),ss(hi.current),wc(t)){if(i=t.stateNode,n=t.memoizedProps,i[si]=t,(s=i.nodeValue!==n)&&(e=cn,e!==null))switch(e.tag){case 3:bc(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bc(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[si]=t,t.stateNode=i}return Ie(t),null;case 13:if(jt(Xt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Wt&&ln!==null&&t.mode&1&&!(t.flags&128))Xw(),Co(),t.flags|=98560,s=!1;else if(s=wc(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[si]=t}else Co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),s=!1}else Un!==null&&(Wp(Un),Un=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Xt.current&1?ue===0&&(ue=3):Sm())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return Ro(),Fp(e,t),e===null&&gl(t.stateNode.containerInfo),Ie(t),null;case 10:return sm(t.type._context),Ie(t),null;case 17:return qe(t.type)&&Lu(),Ie(t),null;case 19:if(jt(Xt),s=t.memoizedState,s===null)return Ie(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)fa(s,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ju(e),o!==null){for(t.flags|=128,fa(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return zt(Xt,Xt.current&1|2),t.child}e=e.sibling}s.tail!==null&&ne()>Lo&&(t.flags|=128,i=!0,fa(s,!1),t.lanes=4194304)}else{if(!i)if(e=ju(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Wt)return Ie(t),null}else 2*ne()-s.renderingStartTime>Lo&&n!==1073741824&&(t.flags|=128,i=!0,fa(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ne(),t.sibling=null,n=Xt.current,zt(Xt,i?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return wm(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?rn&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function _T(e,t){switch(em(t),t.tag){case 1:return qe(t.type)&&Lu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ro(),jt(Qe),jt(De),um(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cm(t),null;case 13:if(jt(Xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jt(Xt),null;case 4:return Ro(),null;case 10:return sm(t.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var Ec=!1,Me=!1,vT=typeof WeakSet=="function"?WeakSet:Set,Y=null;function uo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Zt(e,t,i)}else n.current=null}function Bp(e,t,n){try{n()}catch(i){Zt(e,t,i)}}var z0=!1;function bT(e,t){if(wp=Cu,e=Rw(),Jg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var o=0,a=-1,l=-1,c=0,u=0,d=e,f=null;e:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break e;if(f===n&&++c===r&&(a=o),f===s&&++u===i&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sp={focusedElem:e,selectionRange:n},Cu=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,b=p.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ln(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(v){Zt(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return p=z0,z0=!1,p}function qa(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&Bp(t,n,s)}r=r.next}while(r!==i)}}function rf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function zp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function D1(e){var t=e.alternate;t!==null&&(e.alternate=null,D1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[si],delete t[yl],delete t[Ip],delete t[nT],delete t[iT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function O1(e){return e.tag===5||e.tag===3||e.tag===4}function U0(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||O1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Up(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pu));else if(i!==4&&(e=e.child,e!==null))for(Up(e,t,n),e=e.sibling;e!==null;)Up(e,t,n),e=e.sibling}function $p(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for($p(e,t,n),e=e.sibling;e!==null;)$p(e,t,n),e=e.sibling}var _e=null,Fn=!1;function Ji(e,t,n){for(n=n.child;n!==null;)C1(e,t,n),n=n.sibling}function C1(e,t,n){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(Gd,n)}catch{}switch(n.tag){case 5:Me||uo(n,t);case 6:var i=_e,r=Fn;_e=null,Ji(e,t,n),_e=i,Fn=r,_e!==null&&(Fn?(e=_e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_e.removeChild(n.stateNode));break;case 18:_e!==null&&(Fn?(e=_e,n=n.stateNode,e.nodeType===8?sh(e.parentNode,n):e.nodeType===1&&sh(e,n),fl(e)):sh(_e,n.stateNode));break;case 4:i=_e,r=Fn,_e=n.stateNode.containerInfo,Fn=!0,Ji(e,t,n),_e=i,Fn=r;break;case 0:case 11:case 14:case 15:if(!Me&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Bp(n,t,o),r=r.next}while(r!==i)}Ji(e,t,n);break;case 1:if(!Me&&(uo(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Zt(n,t,a)}Ji(e,t,n);break;case 21:Ji(e,t,n);break;case 22:n.mode&1?(Me=(i=Me)||n.memoizedState!==null,Ji(e,t,n),Me=i):Ji(e,t,n);break;default:Ji(e,t,n)}}function $0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vT),t.forEach(function(i){var r=AT.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Pn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:_e=a.stateNode,Fn=!1;break t;case 3:_e=a.stateNode.containerInfo,Fn=!0;break t;case 4:_e=a.stateNode.containerInfo,Fn=!0;break t}a=a.return}if(_e===null)throw Error(V(160));C1(s,o,r),_e=null,Fn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Zt(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)N1(t,e),t=t.sibling}function N1(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pn(t,e),Jn(e),i&4){try{qa(3,e,e.return),rf(3,e)}catch(y){Zt(e,e.return,y)}try{qa(5,e,e.return)}catch(y){Zt(e,e.return,y)}}break;case 1:Pn(t,e),Jn(e),i&512&&n!==null&&uo(n,n.return);break;case 5:if(Pn(t,e),Jn(e),i&512&&n!==null&&uo(n,n.return),e.flags&32){var r=e.stateNode;try{ll(r,"")}catch(y){Zt(e,e.return,y)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ew(r,s),dp(a,o);var c=dp(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?ow(r,d):u==="dangerouslySetInnerHTML"?rw(r,d):u==="children"?ll(r,d):Ug(r,u,d,c)}switch(a){case"input":op(r,s);break;case"textarea":nw(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?mo(r,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?mo(r,!!s.multiple,s.defaultValue,!0):mo(r,!!s.multiple,s.multiple?[]:"",!1))}r[yl]=s}catch(y){Zt(e,e.return,y)}}break;case 6:if(Pn(t,e),Jn(e),i&4){if(e.stateNode===null)throw Error(V(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(y){Zt(e,e.return,y)}}break;case 3:if(Pn(t,e),Jn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(t.containerInfo)}catch(y){Zt(e,e.return,y)}break;case 4:Pn(t,e),Jn(e);break;case 13:Pn(t,e),Jn(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(vm=ne())),i&4&&$0(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(c=Me)||u,Pn(t,e),Me=c):Pn(t,e),Jn(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Y=e,u=e.child;u!==null;){for(d=Y=u;Y!==null;){switch(f=Y,h=f.child,f.tag){case 0:case 11:case 14:case 15:qa(4,f,f.return);break;case 1:uo(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){i=f,n=f.return;try{t=i,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Zt(i,n,y)}}break;case 5:uo(f,f.return);break;case 22:if(f.memoizedState!==null){j0(d);continue}}h!==null?(h.return=f,Y=h):j0(d)}u=u.sibling}t:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sw("display",o))}catch(y){Zt(e,e.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Zt(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break t;for(;d.sibling===null;){if(d.return===null||d.return===e)break t;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Pn(t,e),Jn(e),i&4&&$0(e);break;case 21:break;default:Pn(t,e),Jn(e)}}function Jn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(O1(n)){var i=n;break t}n=n.return}throw Error(V(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ll(r,""),i.flags&=-33);var s=U0(e);$p(e,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=U0(e);Up(e,a,o);break;default:throw Error(V(161))}}catch(l){Zt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wT(e,t,n){Y=e,R1(e)}function R1(e,t,n){for(var i=(e.mode&1)!==0;Y!==null;){var r=Y,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Ec;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Me;a=Ec;var c=Me;if(Ec=o,(Me=l)&&!c)for(Y=r;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?H0(r):l!==null?(l.return=o,Y=l):H0(r);for(;s!==null;)Y=s,R1(s),s=s.sibling;Y=r,Ec=a,Me=c}V0(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Y=s):V0(e)}}function V0(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||rf(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Me)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Ln(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&k0(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}k0(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&fl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Me||t.flags&512&&zp(t)}catch(f){Zt(t,t.return,f)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function j0(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function H0(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rf(4,t)}catch(l){Zt(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){Zt(t,r,l)}}var s=t.return;try{zp(t)}catch(l){Zt(t,s,l)}break;case 5:var o=t.return;try{zp(t)}catch(l){Zt(t,o,l)}}}catch(l){Zt(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var ST=Math.ceil,Yu=Gi.ReactCurrentDispatcher,ym=Gi.ReactCurrentOwner,Mn=Gi.ReactCurrentBatchConfig,vt=0,ge=null,se=null,ve=0,rn=0,fo=Br(0),ue=0,xl=null,vs=0,sf=0,_m=0,Za=null,He=null,vm=0,Lo=1/0,Ti=null,Xu=!1,Vp=null,xr=null,Ic=!1,pr=null,Ku=0,Ja=0,jp=null,lu=-1,cu=0;function ze(){return vt&6?ne():lu!==-1?lu:lu=ne()}function Er(e){return e.mode&1?vt&2&&ve!==0?ve&-ve:sT.transition!==null?(cu===0&&(cu=_w()),cu):(e=Nt,e!==0||(e=window.event,e=e===void 0?16:Iw(e.type)),e):1}function Hn(e,t,n,i){if(50<Ja)throw Ja=0,jp=null,Error(V(185));Yl(e,n,i),(!(vt&2)||e!==ge)&&(e===ge&&(!(vt&2)&&(sf|=n),ue===4&&dr(e,ve)),Ze(e,i),n===1&&vt===0&&!(t.mode&1)&&(Lo=ne()+500,tf&&zr()))}function Ze(e,t){var n=e.callbackNode;s2(e,t);var i=Ou(e,e===ge?ve:0);if(i===0)n!==null&&Jy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Jy(n),t===1)e.tag===0?rT(W0.bind(null,e)):Hw(W0.bind(null,e)),tT(function(){!(vt&6)&&zr()}),n=null;else{switch(vw(i)){case 1:n=Wg;break;case 4:n=mw;break;case 16:n=Du;break;case 536870912:n=yw;break;default:n=Du}n=V1(n,P1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function P1(e,t){if(lu=-1,cu=0,vt&6)throw Error(V(327));var n=e.callbackNode;if(wo()&&e.callbackNode!==n)return null;var i=Ou(e,e===ge?ve:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Gu(e,i);else{t=i;var r=vt;vt|=2;var s=F1();(ge!==e||ve!==t)&&(Ti=null,Lo=ne()+500,cs(e,t));do try{IT();break}catch(a){L1(e,a)}while(1);rm(),Yu.current=s,vt=r,se!==null?t=0:(ge=null,ve=0,t=ue)}if(t!==0){if(t===2&&(r=mp(e),r!==0&&(i=r,t=Hp(e,r))),t===1)throw n=xl,cs(e,0),dr(e,i),Ze(e,ne()),n;if(t===6)dr(e,i);else{if(r=e.current.alternate,!(i&30)&&!xT(r)&&(t=Gu(e,i),t===2&&(s=mp(e),s!==0&&(i=s,t=Hp(e,s))),t===1))throw n=xl,cs(e,0),dr(e,i),Ze(e,ne()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(V(345));case 2:Jr(e,He,Ti);break;case 3:if(dr(e,i),(i&130023424)===i&&(t=vm+500-ne(),10<t)){if(Ou(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){ze(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Ep(Jr.bind(null,e,He,Ti),t);break}Jr(e,He,Ti);break;case 4:if(dr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-jn(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=ne()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ST(i/1960))-i,10<i){e.timeoutHandle=Ep(Jr.bind(null,e,He,Ti),i);break}Jr(e,He,Ti);break;case 5:Jr(e,He,Ti);break;default:throw Error(V(329))}}}return Ze(e,ne()),e.callbackNode===n?P1.bind(null,e):null}function Hp(e,t){var n=Za;return e.current.memoizedState.isDehydrated&&(cs(e,t).flags|=256),e=Gu(e,t),e!==2&&(t=He,He=n,t!==null&&Wp(t)),e}function Wp(e){He===null?He=e:He.push.apply(He,e)}function xT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Xn(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~_m,t&=~sf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jn(t),i=1<<n;e[n]=-1,t&=~i}}function W0(e){if(vt&6)throw Error(V(327));wo();var t=Ou(e,0);if(!(t&1))return Ze(e,ne()),null;var n=Gu(e,t);if(e.tag!==0&&n===2){var i=mp(e);i!==0&&(t=i,n=Hp(e,i))}if(n===1)throw n=xl,cs(e,0),dr(e,t),Ze(e,ne()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jr(e,He,Ti),Ze(e,ne()),null}function bm(e,t){var n=vt;vt|=1;try{return e(t)}finally{vt=n,vt===0&&(Lo=ne()+500,tf&&zr())}}function bs(e){pr!==null&&pr.tag===0&&!(vt&6)&&wo();var t=vt;vt|=1;var n=Mn.transition,i=Nt;try{if(Mn.transition=null,Nt=1,e)return e()}finally{Nt=i,Mn.transition=n,vt=t,!(vt&6)&&zr()}}function wm(){rn=fo.current,jt(fo)}function cs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,J2(n)),se!==null)for(n=se.return;n!==null;){var i=n;switch(em(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Lu();break;case 3:Ro(),jt(Qe),jt(De),um();break;case 5:cm(i);break;case 4:Ro();break;case 13:jt(Xt);break;case 19:jt(Xt);break;case 10:sm(i.type._context);break;case 22:case 23:wm()}n=n.return}if(ge=e,se=e=Ir(e.current,null),ve=rn=t,ue=0,xl=null,_m=sf=vs=0,He=Za=null,rs!==null){for(t=0;t<rs.length;t++)if(n=rs[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}rs=null}return e}function L1(e,t){do{var n=se;try{if(rm(),su.current=Wu,Hu){for(var i=Gt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Hu=!1}if(_s=0,he=ae=Gt=null,Qa=!1,bl=0,ym.current=null,n===null||n.return===null){ue=1,xl=t,se=null;break}t:{var s=e,o=n.return,a=n,l=t;if(t=ve,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=C0(o);if(h!==null){h.flags&=-257,N0(h,o,a,s,t),h.mode&1&&O0(s,c,t),t=h,l=c;var p=t.updateQueue;if(p===null){var y=new Set;y.add(l),t.updateQueue=y}else p.add(l);break t}else{if(!(t&1)){O0(s,c,t),Sm();break t}l=Error(V(426))}}else if(Wt&&a.mode&1){var b=C0(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),N0(b,o,a,s,t),nm(Po(l,a));break t}}s=l=Po(l,a),ue!==4&&(ue=2),Za===null?Za=[s]:Za.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=v1(s,l,t);I0(s,g);break t;case 1:a=l;var m=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xr===null||!xr.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=b1(s,a,t);I0(s,v);break t}}s=s.return}while(s!==null)}z1(n)}catch(w){t=w,se===n&&n!==null&&(se=n=n.return);continue}break}while(1)}function F1(){var e=Yu.current;return Yu.current=Wu,e===null?Wu:e}function Sm(){(ue===0||ue===3||ue===2)&&(ue=4),ge===null||!(vs&268435455)&&!(sf&268435455)||dr(ge,ve)}function Gu(e,t){var n=vt;vt|=2;var i=F1();(ge!==e||ve!==t)&&(Ti=null,cs(e,t));do try{ET();break}catch(r){L1(e,r)}while(1);if(rm(),vt=n,Yu.current=i,se!==null)throw Error(V(261));return ge=null,ve=0,ue}function ET(){for(;se!==null;)B1(se)}function IT(){for(;se!==null&&!QM();)B1(se)}function B1(e){var t=$1(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?z1(e):se=t,ym.current=null}function z1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_T(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,se=null;return}}else if(n=yT(n,t,rn),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ue===0&&(ue=5)}function Jr(e,t,n){var i=Nt,r=Mn.transition;try{Mn.transition=null,Nt=1,kT(e,t,n,i)}finally{Mn.transition=r,Nt=i}return null}function kT(e,t,n,i){do wo();while(pr!==null);if(vt&6)throw Error(V(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(o2(e,s),e===ge&&(se=ge=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ic||(Ic=!0,V1(Du,function(){return wo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mn.transition,Mn.transition=null;var o=Nt;Nt=1;var a=vt;vt|=4,ym.current=null,bT(e,n),N1(n,e),Y2(Sp),Cu=!!wp,Sp=wp=null,e.current=n,wT(n),qM(),vt=a,Nt=o,Mn.transition=s}else e.current=n;if(Ic&&(Ic=!1,pr=e,Ku=r),s=e.pendingLanes,s===0&&(xr=null),t2(n.stateNode),Ze(e,ne()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Xu)throw Xu=!1,e=Vp,Vp=null,e;return Ku&1&&e.tag!==0&&wo(),s=e.pendingLanes,s&1?e===jp?Ja++:(Ja=0,jp=e):Ja=0,zr(),null}function wo(){if(pr!==null){var e=vw(Ku),t=Mn.transition,n=Nt;try{if(Mn.transition=null,Nt=16>e?16:e,pr===null)var i=!1;else{if(e=pr,pr=null,Ku=0,vt&6)throw Error(V(331));var r=vt;for(vt|=4,Y=e.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var u=Y;switch(u.tag){case 0:case 11:case 15:qa(8,u,s)}var d=u.child;if(d!==null)d.return=u,Y=d;else for(;Y!==null;){u=Y;var f=u.sibling,h=u.return;if(D1(u),u===c){Y=null;break}if(f!==null){f.return=h,Y=f;break}Y=h}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else t:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qa(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Y=g;break t}Y=s.return}}var m=e.current;for(Y=m;Y!==null;){o=Y;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Y=_;else t:for(o=m;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rf(9,a)}}catch(w){Zt(a,a.return,w)}if(a===o){Y=null;break t}var v=a.sibling;if(v!==null){v.return=a.return,Y=v;break t}Y=a.return}}if(vt=r,zr(),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(Gd,e)}catch{}i=!0}return i}finally{Nt=n,Mn.transition=t}}return!1}function Y0(e,t,n){t=Po(n,t),t=v1(e,t,1),e=Sr(e,t,1),t=ze(),e!==null&&(Yl(e,1,t),Ze(e,t))}function Zt(e,t,n){if(e.tag===3)Y0(e,e,n);else for(;t!==null;){if(t.tag===3){Y0(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(xr===null||!xr.has(i))){e=Po(n,e),e=b1(t,e,1),t=Sr(t,e,1),e=ze(),t!==null&&(Yl(t,1,e),Ze(t,e));break}}t=t.return}}function MT(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(ve&n)===n&&(ue===4||ue===3&&(ve&130023424)===ve&&500>ne()-vm?cs(e,0):_m|=n),Ze(e,t)}function U1(e,t){t===0&&(e.mode&1?(t=gc,gc<<=1,!(gc&130023424)&&(gc=4194304)):t=1);var n=ze();e=Wi(e,t),e!==null&&(Yl(e,t,n),Ze(e,n))}function TT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),U1(e,n)}function AT(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(V(314))}i!==null&&i.delete(t),U1(e,n)}var $1;$1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,mT(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,Wt&&t.flags&1048576&&Ww(t,zu,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;au(e,t),e=t.pendingProps;var r=Oo(t,De.current);bo(t,n),r=fm(null,t,i,e,r,n);var s=hm();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(i)?(s=!0,Fu(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,am(t),r.updater=nf,t.stateNode=r,r._reactInternals=t,Op(t,i,e,n),t=Rp(null,t,i,!0,s,n)):(t.tag=0,Wt&&s&&tm(t),Pe(null,t,r,n),t=t.child),t;case 16:i=t.elementType;t:{switch(au(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=OT(i),e=Ln(i,e),r){case 0:t=Np(null,t,i,e,n);break t;case 1:t=L0(null,t,i,e,n);break t;case 11:t=R0(null,t,i,e,n);break t;case 14:t=P0(null,t,i,Ln(i.type,e),n);break t}throw Error(V(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Ln(i,r),Np(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Ln(i,r),L0(e,t,i,r,n);case 3:t:{if(E1(t),e===null)throw Error(V(387));i=t.pendingProps,s=t.memoizedState,r=s.element,qw(e,t),Vu(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=Po(Error(V(423)),t),t=F0(e,t,i,n,r);break t}else if(i!==r){r=Po(Error(V(424)),t),t=F0(e,t,i,n,r);break t}else for(ln=wr(t.stateNode.containerInfo.firstChild),cn=t,Wt=!0,Un=null,n=Gw(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Co(),i===r){t=Yi(e,t,n);break t}Pe(e,t,i,n)}t=t.child}return t;case 5:return Zw(t),e===null&&Tp(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,o=r.children,xp(i,r)?o=null:s!==null&&xp(i,s)&&(t.flags|=32),x1(e,t),Pe(e,t,o,n),t.child;case 6:return e===null&&Tp(t),null;case 13:return I1(e,t,n);case 4:return lm(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=No(t,null,i,n):Pe(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Ln(i,r),R0(e,t,i,r,n);case 7:return Pe(e,t,t.pendingProps,n),t.child;case 8:return Pe(e,t,t.pendingProps.children,n),t.child;case 12:return Pe(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,zt(Uu,i._currentValue),i._currentValue=o,s!==null)if(Xn(s.value,o)){if(s.children===r.children&&!Qe.current){t=Yi(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=$i(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ap(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ap(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pe(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,bo(t,n),r=An(r),i=i(r),t.flags|=1,Pe(e,t,i,n),t.child;case 14:return i=t.type,r=Ln(i,t.pendingProps),r=Ln(i.type,r),P0(e,t,i,r,n);case 15:return w1(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Ln(i,r),au(e,t),t.tag=1,qe(i)?(e=!0,Fu(t)):e=!1,bo(t,n),_1(t,i,r),Op(t,i,r,n),Rp(null,t,i,!0,e,n);case 19:return k1(e,t,n);case 22:return S1(e,t,n)}throw Error(V(156,t.tag))};function V1(e,t){return gw(e,t)}function DT(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,t,n,i){return new DT(e,t,n,i)}function xm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OT(e){if(typeof e=="function")return xm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vg)return 11;if(e===jg)return 14}return 2}function Ir(e,t){var n=e.alternate;return n===null?(n=In(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function uu(e,t,n,i,r,s){var o=2;if(i=e,typeof e=="function")xm(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case eo:return us(n.children,r,s,t);case $g:o=8,r|=8;break;case ep:return e=In(12,n,t,r|2),e.elementType=ep,e.lanes=s,e;case np:return e=In(13,n,t,r),e.elementType=np,e.lanes=s,e;case ip:return e=In(19,n,t,r),e.elementType=ip,e.lanes=s,e;case Zb:return of(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qb:o=10;break t;case qb:o=9;break t;case Vg:o=11;break t;case jg:o=14;break t;case rr:o=16,i=null;break t}throw Error(V(130,e==null?e:typeof e,""))}return t=In(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function us(e,t,n,i){return e=In(7,e,i,t),e.lanes=n,e}function of(e,t,n,i){return e=In(22,e,i,t),e.elementType=Zb,e.lanes=n,e.stateNode={isHidden:!1},e}function hh(e,t,n){return e=In(6,e,null,t),e.lanes=n,e}function ph(e,t,n){return t=In(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CT(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kf(0),this.expirationTimes=Kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kf(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Em(e,t,n,i,r,s,o,a,l){return e=new CT(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=In(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},am(s),e}function NT(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function j1(e){if(!e)return Dr;e=e._reactInternals;t:{if(Ts(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(qe(n))return jw(e,n,t)}return t}function H1(e,t,n,i,r,s,o,a,l){return e=Em(n,i,!0,e,r,s,o,a,l),e.context=j1(null),n=e.current,i=ze(),r=Er(n),s=$i(i,r),s.callback=t??null,Sr(n,s,r),e.current.lanes=r,Yl(e,r,i),Ze(e,i),e}function af(e,t,n,i){var r=t.current,s=ze(),o=Er(r);return n=j1(n),t.context===null?t.context=n:t.pendingContext=n,t=$i(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Sr(r,t,o),e!==null&&(Hn(e,r,o,s),ru(e,r,o)),o}function Qu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function X0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Im(e,t){X0(e,t),(e=e.alternate)&&X0(e,t)}function RT(){return null}var W1=typeof reportError=="function"?reportError:function(e){console.error(e)};function km(e){this._internalRoot=e}lf.prototype.render=km.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));af(e,t,null,null)};lf.prototype.unmount=km.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bs(function(){af(null,e,null,null)}),t[Hi]=null}};function lf(e){this._internalRoot=e}lf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ur.length&&t!==0&&t<ur[n].priority;n++);ur.splice(n,0,e),n===0&&Ew(e)}};function Mm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K0(){}function PT(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Qu(o);s.call(c)}}var o=H1(t,i,e,0,null,!1,!1,"",K0);return e._reactRootContainer=o,e[Hi]=o.current,gl(e.nodeType===8?e.parentNode:e),bs(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Qu(l);a.call(c)}}var l=Em(e,0,!1,null,null,!1,!1,"",K0);return e._reactRootContainer=l,e[Hi]=l.current,gl(e.nodeType===8?e.parentNode:e),bs(function(){af(t,l,n,i)}),l}function uf(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Qu(o);a.call(l)}}af(t,o,e,r)}else o=PT(n,t,e,r,i);return Qu(o)}bw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ta(t.pendingLanes);n!==0&&(Yg(t,n|1),Ze(t,ne()),!(vt&6)&&(Lo=ne()+500,zr()))}break;case 13:bs(function(){var i=Wi(e,1);if(i!==null){var r=ze();Hn(i,e,1,r)}}),Im(e,1)}};Xg=function(e){if(e.tag===13){var t=Wi(e,134217728);if(t!==null){var n=ze();Hn(t,e,134217728,n)}Im(e,134217728)}};ww=function(e){if(e.tag===13){var t=Er(e),n=Wi(e,t);if(n!==null){var i=ze();Hn(n,e,t,i)}Im(e,t)}};Sw=function(){return Nt};xw=function(e,t){var n=Nt;try{return Nt=e,t()}finally{Nt=n}};hp=function(e,t,n){switch(t){case"input":if(op(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Jd(i);if(!r)throw Error(V(90));tw(i),op(i,r)}}}break;case"textarea":nw(e,n);break;case"select":t=n.value,t!=null&&mo(e,!!n.multiple,t,!1)}};cw=bm;uw=bs;var LT={usingClientEntryPoint:!1,Events:[Kl,so,Jd,aw,lw,bm]},ha={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FT={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hw(e),e===null?null:e.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||RT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Gd=kc.inject(FT),fi=kc}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LT;hn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mm(t))throw Error(V(200));return NT(e,t,null,n)};hn.createRoot=function(e,t){if(!Mm(e))throw Error(V(299));var n=!1,i="",r=W1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Em(e,1,!1,null,null,n,!1,i,r),e[Hi]=t.current,gl(e.nodeType===8?e.parentNode:e),new km(t)};hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=hw(t),e=e===null?null:e.stateNode,e};hn.flushSync=function(e){return bs(e)};hn.hydrate=function(e,t,n){if(!cf(t))throw Error(V(200));return uf(null,e,t,!0,n)};hn.hydrateRoot=function(e,t,n){if(!Mm(e))throw Error(V(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=W1;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=H1(t,null,e,1,n??null,r,!1,s,o),e[Hi]=t.current,gl(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new lf(t)};hn.render=function(e,t,n){if(!cf(t))throw Error(V(200));return uf(null,e,t,!1,n)};hn.unmountComponentAtNode=function(e){if(!cf(e))throw Error(V(40));return e._reactRootContainer?(bs(function(){uf(null,null,e,!1,function(){e._reactRootContainer=null,e[Hi]=null})}),!0):!1};hn.unstable_batchedUpdates=bm;hn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!cf(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return uf(e,t,n,!1,i)};hn.version="18.3.1-next-f1338f8080-20240426";function Y1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y1)}catch(e){console.error(e)}}Y1(),Yb.exports=hn;var BT=Yb.exports,G0=BT;Jh.createRoot=G0.createRoot,Jh.hydrateRoot=G0.hydrateRoot;function we(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=we(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var X1={exports:{}},K1={},G1={exports:{}},Q1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=O;function zT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UT=typeof Object.is=="function"?Object.is:zT,$T=Fo.useState,VT=Fo.useEffect,jT=Fo.useLayoutEffect,HT=Fo.useDebugValue;function WT(e,t){var n=t(),i=$T({inst:{value:n,getSnapshot:t}}),r=i[0].inst,s=i[1];return jT(function(){r.value=n,r.getSnapshot=t,gh(r)&&s({inst:r})},[e,n,t]),VT(function(){return gh(r)&&s({inst:r}),e(function(){gh(r)&&s({inst:r})})},[e]),HT(n),n}function gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!UT(e,n)}catch{return!0}}function YT(e,t){return t()}var XT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?YT:WT;Q1.useSyncExternalStore=Fo.useSyncExternalStore!==void 0?Fo.useSyncExternalStore:XT;G1.exports=Q1;var KT=G1.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=O,GT=KT;function QT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qT=typeof Object.is=="function"?Object.is:QT,ZT=GT.useSyncExternalStore,JT=df.useRef,tA=df.useEffect,eA=df.useMemo,nA=df.useDebugValue;K1.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var s=JT(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=eA(function(){function l(h){if(!c){if(c=!0,u=h,h=i(h),r!==void 0&&o.hasValue){var p=o.value;if(r(p,h))return d=p}return d=h}if(p=d,qT(u,h))return p;var y=i(h);return r!==void 0&&r(p,y)?p:(u=h,d=y)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,i,r]);var a=ZT(e,s[0],s[1]);return tA(function(){o.hasValue=!0,o.value=a},[a]),nA(a),a};X1.exports=K1;var iA=X1.exports;const rA=Nb(iA),Q0=e=>{let t;const n=new Set,i=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,h))}},r=()=>t,l={setState:i,getState:r,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{n.clear()}},c=t=e(i,r,l);return l},sA=e=>e?Q0(e):Q0,{useDebugValue:oA}=B,{useSyncExternalStoreWithSelector:aA}=rA,lA=e=>e;function q1(e,t=lA,n){const i=aA(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return oA(i),i}const q0=(e,t)=>{const n=sA(e),i=(r,s=t)=>q1(n,r,s);return Object.assign(i,n),i},cA=(e,t)=>e?q0(e,t):q0;function me(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,r]of e)if(!Object.is(r,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1;return!0}var uA={value:()=>{}};function ff(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new du(n)}function du(e){this._=e}function dA(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}du.prototype=ff.prototype={constructor:du,on:function(e,t){var n=this._,i=dA(e+"",n),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(e=i[s]).type)&&(r=fA(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(e=i[s]).type)n[r]=Z0(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Z0(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new du(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,r=s.length;i<r;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)}};function fA(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function Z0(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=uA,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Yp="http://www.w3.org/1999/xhtml";const J0={svg:"http://www.w3.org/2000/svg",xhtml:Yp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),J0.hasOwnProperty(t)?{space:J0[t],local:e}:e}function hA(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Yp&&t.documentElement.namespaceURI===Yp?t.createElement(e):t.createElementNS(n,e)}}function pA(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Z1(e){var t=hf(e);return(t.local?pA:hA)(t)}function gA(){}function Tm(e){return e==null?gA:function(){return this.querySelector(e)}}function mA(e){typeof e!="function"&&(e=Tm(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new dn(i,this._parents)}function yA(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _A(){return[]}function J1(e){return e==null?_A:function(){return this.querySelectorAll(e)}}function vA(e){return function(){return yA(e.apply(this,arguments))}}function bA(e){typeof e=="function"?e=vA(e):e=J1(e);for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(i.push(e.call(l,l.__data__,c,o)),r.push(l));return new dn(i,r)}function tS(e){return function(){return this.matches(e)}}function eS(e){return function(t){return t.matches(e)}}var wA=Array.prototype.find;function SA(e){return function(){return wA.call(this.children,e)}}function xA(){return this.firstElementChild}function EA(e){return this.select(e==null?xA:SA(typeof e=="function"?e:eS(e)))}var IA=Array.prototype.filter;function kA(){return Array.from(this.children)}function MA(e){return function(){return IA.call(this.children,e)}}function TA(e){return this.selectAll(e==null?kA:MA(typeof e=="function"?e:eS(e)))}function AA(e){typeof e!="function"&&(e=tS(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new dn(i,this._parents)}function nS(e){return new Array(e.length)}function DA(){return new dn(this._enter||this._groups.map(nS),this._parents)}function qu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}qu.prototype={constructor:qu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function OA(e){return function(){return e}}function CA(e,t,n,i,r,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):n[o]=new qu(e,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function NA(e,t,n,i,r,s,o){var a,l,c=new Map,u=t.length,d=s.length,f=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",c.has(h)?r[a]=l:c.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=c.get(h))?(i[a]=l,l.__data__=s[a],c.delete(h)):n[a]=new qu(e,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(r[a]=l)}function RA(e){return e.__data__}function PA(e,t){if(!arguments.length)return Array.from(this,RA);var n=t?NA:CA,i=this._parents,r=this._groups;typeof e!="function"&&(e=OA(e));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],d=r[c],f=d.length,h=LA(e.call(u,u&&u.__data__,c,i)),p=h.length,y=a[c]=new Array(p),b=o[c]=new Array(p),g=l[c]=new Array(f);n(u,d,y,b,g,h,t);for(var m=0,_=0,v,w;m<p;++m)if(v=y[m]){for(m>=_&&(_=m+1);!(w=b[_])&&++_<p;);v._next=w||null}}return o=new dn(o,i),o._enter=a,o._exit=l,o}function LA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FA(){return new dn(this._exit||this._groups.map(nS),this._parents)}function BA(e,t,n){var i=this.enter(),r=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function zA(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,s=i.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var c=n[l],u=i[l],d=c.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=c[p]||u[p])&&(f[p]=h);for(;l<r;++l)a[l]=n[l];return new dn(a,this._parents)}function UA(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function $A(e){e||(e=VA);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o=n[s],a=o.length,l=r[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new dn(r,this._parents).order()}function VA(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function jA(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function HA(){return Array.from(this)}function WA(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function YA(){let e=0;for(const t of this)++e;return e}function XA(){return!this.node()}function KA(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],s=0,o=r.length,a;s<o;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function GA(e){return function(){this.removeAttribute(e)}}function QA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qA(e,t){return function(){this.setAttribute(e,t)}}function ZA(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function JA(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function tD(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function eD(e,t){var n=hf(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?QA:GA:typeof t=="function"?n.local?tD:JA:n.local?ZA:qA)(n,t))}function iS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function nD(e){return function(){this.style.removeProperty(e)}}function iD(e,t,n){return function(){this.style.setProperty(e,t,n)}}function rD(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function sD(e,t,n){return arguments.length>1?this.each((t==null?nD:typeof t=="function"?rD:iD)(e,t,n??"")):Bo(this.node(),e)}function Bo(e,t){return e.style.getPropertyValue(t)||iS(e).getComputedStyle(e,null).getPropertyValue(t)}function oD(e){return function(){delete this[e]}}function aD(e,t){return function(){this[e]=t}}function lD(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function cD(e,t){return arguments.length>1?this.each((t==null?oD:typeof t=="function"?lD:aD)(e,t)):this.node()[e]}function rS(e){return e.trim().split(/^|\s+/)}function Am(e){return e.classList||new sS(e)}function sS(e){this._node=e,this._names=rS(e.getAttribute("class")||"")}sS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function oS(e,t){for(var n=Am(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function aS(e,t){for(var n=Am(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function uD(e){return function(){oS(this,e)}}function dD(e){return function(){aS(this,e)}}function fD(e,t){return function(){(t.apply(this,arguments)?oS:aS)(this,e)}}function hD(e,t){var n=rS(e+"");if(arguments.length<2){for(var i=Am(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?fD:t?uD:dD)(n,t))}function pD(){this.textContent=""}function gD(e){return function(){this.textContent=e}}function mD(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function yD(e){return arguments.length?this.each(e==null?pD:(typeof e=="function"?mD:gD)(e)):this.node().textContent}function _D(){this.innerHTML=""}function vD(e){return function(){this.innerHTML=e}}function bD(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function wD(e){return arguments.length?this.each(e==null?_D:(typeof e=="function"?bD:vD)(e)):this.node().innerHTML}function SD(){this.nextSibling&&this.parentNode.appendChild(this)}function xD(){return this.each(SD)}function ED(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ID(){return this.each(ED)}function kD(e){var t=typeof e=="function"?e:Z1(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function MD(){return null}function TD(e,t){var n=typeof e=="function"?e:Z1(e),i=t==null?MD:typeof t=="function"?t:Tm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function AD(){var e=this.parentNode;e&&e.removeChild(this)}function DD(){return this.each(AD)}function OD(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function CD(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ND(e){return this.select(e?CD:OD)}function RD(e){return arguments.length?this.property("__data__",e):this.node().__data__}function PD(e){return function(t){e.call(this,t,this.__data__)}}function LD(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function FD(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function BD(e,t,n){return function(){var i=this.__on,r,s=PD(t);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(r):this.__on=[r]}}function zD(e,t,n){var i=LD(e+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?BD:FD,r=0;r<s;++r)this.each(a(i[r],t,n));return this}function lS(e,t,n){var i=iS(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function UD(e,t){return function(){return lS(this,e,t)}}function $D(e,t){return function(){return lS(this,e,t.apply(this,arguments))}}function VD(e,t){return this.each((typeof t=="function"?$D:UD)(e,t))}function*jD(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var cS=[null];function dn(e,t){this._groups=e,this._parents=t}function Ql(){return new dn([[document.documentElement]],cS)}function HD(){return this}dn.prototype=Ql.prototype={constructor:dn,select:mA,selectAll:bA,selectChild:EA,selectChildren:TA,filter:AA,data:PA,enter:DA,exit:FA,join:BA,merge:zA,selection:HD,order:UA,sort:$A,call:jA,nodes:HA,node:WA,size:YA,empty:XA,each:KA,attr:eD,style:sD,property:cD,classed:hD,text:yD,html:wD,raise:xD,lower:ID,append:kD,insert:TD,remove:DD,clone:ND,datum:RD,on:zD,dispatch:VD,[Symbol.iterator]:jD};function xn(e){return typeof e=="string"?new dn([[document.querySelector(e)]],[document.documentElement]):new dn([[e]],cS)}function WD(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Bn(e,t){if(e=WD(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const YD={passive:!1},El={capture:!0,passive:!1};function mh(e){e.stopImmediatePropagation()}function So(e){e.preventDefault(),e.stopImmediatePropagation()}function uS(e){var t=e.document.documentElement,n=xn(e).on("dragstart.drag",So,El);"onselectstart"in t?n.on("selectstart.drag",So,El):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function dS(e,t){var n=e.document.documentElement,i=xn(e).on("dragstart.drag",null);t&&(i.on("click.drag",So,El),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Mc=e=>()=>e;function Xp(e,{sourceEvent:t,subject:n,target:i,identifier:r,active:s,x:o,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Xp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function XD(e){return!e.ctrlKey&&!e.button}function KD(){return this.parentNode}function GD(e,t){return t??{x:e.x,y:e.y}}function QD(){return navigator.maxTouchPoints||"ontouchstart"in this}function qD(){var e=XD,t=KD,n=GD,i=QD,r={},s=ff("start","drag","end"),o=0,a,l,c,u,d=0;function f(v){v.on("mousedown.drag",h).filter(i).on("touchstart.drag",b).on("touchmove.drag",g,YD).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(v,w){if(!(u||!e.call(this,v,w))){var x=_(this,t.call(this,v,w),v,w,"mouse");x&&(xn(v.view).on("mousemove.drag",p,El).on("mouseup.drag",y,El),uS(v.view),mh(v),c=!1,a=v.clientX,l=v.clientY,x("start",v))}}function p(v){if(So(v),!c){var w=v.clientX-a,x=v.clientY-l;c=w*w+x*x>d}r.mouse("drag",v)}function y(v){xn(v.view).on("mousemove.drag mouseup.drag",null),dS(v.view,c),So(v),r.mouse("end",v)}function b(v,w){if(e.call(this,v,w)){var x=v.changedTouches,E=t.call(this,v,w),D=x.length,A,C;for(A=0;A<D;++A)(C=_(this,E,v,w,x[A].identifier,x[A]))&&(mh(v),C("start",v,x[A]))}}function g(v){var w=v.changedTouches,x=w.length,E,D;for(E=0;E<x;++E)(D=r[w[E].identifier])&&(So(v),D("drag",v,w[E]))}function m(v){var w=v.changedTouches,x=w.length,E,D;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),E=0;E<x;++E)(D=r[w[E].identifier])&&(mh(v),D("end",v,w[E]))}function _(v,w,x,E,D,A){var C=s.copy(),z=Bn(A||x,w),U,$,S;if((S=n.call(v,new Xp("beforestart",{sourceEvent:x,target:f,identifier:D,active:o,x:z[0],y:z[1],dx:0,dy:0,dispatch:C}),E))!=null)return U=S.x-z[0]||0,$=S.y-z[1]||0,function k(M,L,N){var T=z,R;switch(M){case"start":r[D]=k,R=o++;break;case"end":delete r[D],--o;case"drag":z=Bn(N||L,w),R=o;break}C.call(M,v,new Xp(M,{sourceEvent:L,subject:S,target:f,identifier:D,active:R,x:z[0]+U,y:z[1]+$,dx:z[0]-T[0],dy:z[1]-T[1],dispatch:C}),E)}}return f.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Mc(!!v),f):e},f.container=function(v){return arguments.length?(t=typeof v=="function"?v:Mc(v),f):t},f.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Mc(v),f):n},f.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:Mc(!!v),f):i},f.on=function(){var v=s.on.apply(s,arguments);return v===s?f:v},f.clickDistance=function(v){return arguments.length?(d=(v=+v)*v,f):Math.sqrt(d)},f}function Dm(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fS(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function ql(){}var Il=.7,Zu=1/Il,xo="\\s*([+-]?\\d+)\\s*",kl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZD=/^#([0-9a-f]{3,8})$/,JD=new RegExp(`^rgb\\(${xo},${xo},${xo}\\)$`),tO=new RegExp(`^rgb\\(${pi},${pi},${pi}\\)$`),eO=new RegExp(`^rgba\\(${xo},${xo},${xo},${kl}\\)$`),nO=new RegExp(`^rgba\\(${pi},${pi},${pi},${kl}\\)$`),iO=new RegExp(`^hsl\\(${kl},${pi},${pi}\\)$`),rO=new RegExp(`^hsla\\(${kl},${pi},${pi},${kl}\\)$`),t_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dm(ql,Ml,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:e_,formatHex:e_,formatHex8:sO,formatHsl:oO,formatRgb:n_,toString:n_});function e_(){return this.rgb().formatHex()}function sO(){return this.rgb().formatHex8()}function oO(){return hS(this).formatHsl()}function n_(){return this.rgb().formatRgb()}function Ml(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ZD.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?i_(t):n===3?new Ge(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Tc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Tc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=JD.exec(e))?new Ge(t[1],t[2],t[3],1):(t=tO.exec(e))?new Ge(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eO.exec(e))?Tc(t[1],t[2],t[3],t[4]):(t=nO.exec(e))?Tc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iO.exec(e))?o_(t[1],t[2]/100,t[3]/100,1):(t=rO.exec(e))?o_(t[1],t[2]/100,t[3]/100,t[4]):t_.hasOwnProperty(e)?i_(t_[e]):e==="transparent"?new Ge(NaN,NaN,NaN,0):null}function i_(e){return new Ge(e>>16&255,e>>8&255,e&255,1)}function Tc(e,t,n,i){return i<=0&&(e=t=n=NaN),new Ge(e,t,n,i)}function aO(e){return e instanceof ql||(e=Ml(e)),e?(e=e.rgb(),new Ge(e.r,e.g,e.b,e.opacity)):new Ge}function Kp(e,t,n,i){return arguments.length===1?aO(e):new Ge(e,t,n,i??1)}function Ge(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Dm(Ge,Kp,fS(ql,{brighter(e){return e=e==null?Zu:Math.pow(Zu,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Il:Math.pow(Il,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ge(ds(this.r),ds(this.g),ds(this.b),Ju(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r_,formatHex:r_,formatHex8:lO,formatRgb:s_,toString:s_}));function r_(){return`#${os(this.r)}${os(this.g)}${os(this.b)}`}function lO(){return`#${os(this.r)}${os(this.g)}${os(this.b)}${os((isNaN(this.opacity)?1:this.opacity)*255)}`}function s_(){const e=Ju(this.opacity);return`${e===1?"rgb(":"rgba("}${ds(this.r)}, ${ds(this.g)}, ${ds(this.b)}${e===1?")":`, ${e})`}`}function Ju(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ds(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function os(e){return e=ds(e),(e<16?"0":"")+e.toString(16)}function o_(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $n(e,t,n,i)}function hS(e){if(e instanceof $n)return new $n(e.h,e.s,e.l,e.opacity);if(e instanceof ql||(e=Ml(e)),!e)return new $n;if(e instanceof $n)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),o=NaN,a=s-r,l=(s+r)/2;return a?(t===s?o=(n-i)/a+(n<i)*6:n===s?o=(i-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new $n(o,a,l,e.opacity)}function cO(e,t,n,i){return arguments.length===1?hS(e):new $n(e,t,n,i??1)}function $n(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Dm($n,cO,fS(ql,{brighter(e){return e=e==null?Zu:Math.pow(Zu,e),new $n(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Il:Math.pow(Il,e),new $n(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Ge(yh(e>=240?e-240:e+120,r,i),yh(e,r,i),yh(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new $n(a_(this.h),Ac(this.s),Ac(this.l),Ju(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ju(this.opacity);return`${e===1?"hsl(":"hsla("}${a_(this.h)}, ${Ac(this.s)*100}%, ${Ac(this.l)*100}%${e===1?")":`, ${e})`}`}}));function a_(e){return e=(e||0)%360,e<0?e+360:e}function Ac(e){return Math.max(0,Math.min(1,e||0))}function yh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const pS=e=>()=>e;function uO(e,t){return function(n){return e+n*t}}function dO(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function fO(e){return(e=+e)==1?gS:function(t,n){return n-t?dO(t,n,e):pS(isNaN(t)?n:t)}}function gS(e,t){var n=t-e;return n?uO(e,n):pS(isNaN(e)?t:e)}const l_=function e(t){var n=fO(t);function i(r,s){var o=n((r=Kp(r)).r,(s=Kp(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),c=gS(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=e,i}(1);function or(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Gp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_h=new RegExp(Gp.source,"g");function hO(e){return function(){return e}}function pO(e){return function(t){return e(t)+""}}function gO(e,t){var n=Gp.lastIndex=_h.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(i=Gp.exec(e))&&(r=_h.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:or(i,r)})),n=_h.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?pO(l[0].x):hO(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var c_=180/Math.PI,Qp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mS(e,t,n,i,r,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*c_,skewX:Math.atan(l)*c_,scaleX:o,scaleY:a}}var Dc;function mO(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Qp:mS(t.a,t.b,t.c,t.d,t.e,t.f)}function yO(e){return e==null||(Dc||(Dc=document.createElementNS("http://www.w3.org/2000/svg","g")),Dc.setAttribute("transform",e),!(e=Dc.transform.baseVal.consolidate()))?Qp:(e=e.matrix,mS(e.a,e.b,e.c,e.d,e.e,e.f))}function yS(e,t,n,i){function r(c){return c.length?c.pop()+" ":""}function s(c,u,d,f,h,p){if(c!==d||u!==f){var y=h.push("translate(",null,t,null,n);p.push({i:y-4,x:or(c,d)},{i:y-2,x:or(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(r(d)+"rotate(",null,i)-2,x:or(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}function a(c,u,d,f){c!==u?f.push({i:d.push(r(d)+"skewX(",null,i)-2,x:or(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}function l(c,u,d,f,h,p){if(c!==d||u!==f){var y=h.push(r(h)+"scale(",null,",",null,")");p.push({i:y-4,x:or(c,d)},{i:y-2,x:or(u,f)})}else(d!==1||f!==1)&&h.push(r(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var p=-1,y=f.length,b;++p<y;)d[(b=f[p]).i]=b.x(h);return d.join("")}}}var _O=yS(mO,"px, ","px)","deg)"),vO=yS(yO,", ",")",")"),bO=1e-12;function u_(e){return((e=Math.exp(e))+1/e)/2}function wO(e){return((e=Math.exp(e))-1/e)/2}function SO(e){return((e=Math.exp(2*e))-1)/(e+1)}const xO=function e(t,n,i){function r(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],d=o[1],f=o[2],h=u-a,p=d-l,y=h*h+p*p,b,g;if(y<bO)g=Math.log(f/c)/t,b=function(E){return[a+E*h,l+E*p,c*Math.exp(t*E*g)]};else{var m=Math.sqrt(y),_=(f*f-c*c+i*y)/(2*c*n*m),v=(f*f-c*c-i*y)/(2*f*n*m),w=Math.log(Math.sqrt(_*_+1)-_),x=Math.log(Math.sqrt(v*v+1)-v);g=(x-w)/t,b=function(E){var D=E*g,A=u_(w),C=c/(n*m)*(A*SO(t*D+w)-wO(w));return[a+C*h,l+C*p,c*A/u_(t*D+w)]}}return b.duration=g*1e3*t/Math.SQRT2,b}return r.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},r}(Math.SQRT2,2,4);var zo=0,Da=0,pa=0,_S=1e3,td,Oa,ed=0,ws=0,pf=0,Tl=typeof performance=="object"&&performance.now?performance:Date,vS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Om(){return ws||(vS(EO),ws=Tl.now()+pf)}function EO(){ws=0}function nd(){this._call=this._time=this._next=null}nd.prototype=bS.prototype={constructor:nd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Om():+n)+(t==null?0:+t),!this._next&&Oa!==this&&(Oa?Oa._next=this:td=this,Oa=this),this._call=e,this._time=n,qp()},stop:function(){this._call&&(this._call=null,this._time=1/0,qp())}};function bS(e,t,n){var i=new nd;return i.restart(e,t,n),i}function IO(){Om(),++zo;for(var e=td,t;e;)(t=ws-e._time)>=0&&e._call.call(void 0,t),e=e._next;--zo}function d_(){ws=(ed=Tl.now())+pf,zo=Da=0;try{IO()}finally{zo=0,MO(),ws=0}}function kO(){var e=Tl.now(),t=e-ed;t>_S&&(pf-=t,ed=e)}function MO(){for(var e,t=td,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:td=n);Oa=e,qp(i)}function qp(e){if(!zo){Da&&(Da=clearTimeout(Da));var t=e-ws;t>24?(e<1/0&&(Da=setTimeout(d_,e-Tl.now()-pf)),pa&&(pa=clearInterval(pa))):(pa||(ed=Tl.now(),pa=setInterval(kO,_S)),zo=1,vS(d_))}}function f_(e,t,n){var i=new nd;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var TO=ff("start","end","cancel","interrupt"),AO=[],wS=0,h_=1,Zp=2,fu=3,p_=4,Jp=5,hu=6;function gf(e,t,n,i,r,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;DO(e,n,{name:t,index:i,group:r,on:TO,tween:AO,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:wS})}function Cm(e,t){var n=Kn(e,t);if(n.state>wS)throw new Error("too late; already scheduled");return n}function vi(e,t){var n=Kn(e,t);if(n.state>fu)throw new Error("too late; already running");return n}function Kn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function DO(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=bS(s,0,n.time);function s(c){n.state=h_,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,h;if(n.state!==h_)return l();for(u in i)if(h=i[u],h.name===n.name){if(h.state===fu)return f_(o);h.state===p_?(h.state=hu,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[u]):+u<t&&(h.state=hu,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[u])}if(f_(function(){n.state===fu&&(n.state=p_,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Zp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Zp){for(n.state=fu,r=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=h);r.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Jp,1),d=-1,f=r.length;++d<f;)r[d].call(e,u);n.state===Jp&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=hu,n.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function pu(e,t){var n=e.__transition,i,r,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){s=!1;continue}r=i.state>Zp&&i.state<Jp,i.state=hu,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}s&&delete e.__transition}}function OO(e){return this.each(function(){pu(this,e)})}function CO(e,t){var n,i;return function(){var r=vi(this,e),s=r.tween;if(s!==n){i=n=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function NO(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=vi(this,e),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function RO(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Kn(this.node(),n).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===e)return o.value;return null}return this.each((t==null?CO:NO)(n,e,t))}function Nm(e,t,n){var i=e._id;return e.each(function(){var r=vi(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Kn(r,i).value[t]}}function SS(e,t){var n;return(typeof t=="number"?or:t instanceof Ml?l_:(n=Ml(t))?(t=n,l_):gO)(e,t)}function PO(e){return function(){this.removeAttribute(e)}}function LO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function FO(e,t,n){var i,r=n+"",s;return function(){var o=this.getAttribute(e);return o===r?null:o===i?s:s=t(i=o,n)}}function BO(e,t,n){var i,r=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===i?s:s=t(i=o,n)}}function zO(e,t,n){var i,r,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a)))}}function UO(e,t,n){var i,r,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a)))}}function $O(e,t){var n=hf(e),i=n==="transform"?vO:SS;return this.attrTween(e,typeof t=="function"?(n.local?UO:zO)(n,i,Nm(this,"attr."+e,t)):t==null?(n.local?LO:PO)(n):(n.local?BO:FO)(n,i,t))}function VO(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function jO(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function HO(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&jO(e,s)),n}return r._value=t,r}function WO(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&VO(e,s)),n}return r._value=t,r}function YO(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=hf(e);return this.tween(n,(i.local?HO:WO)(i,t))}function XO(e,t){return function(){Cm(this,e).delay=+t.apply(this,arguments)}}function KO(e,t){return t=+t,function(){Cm(this,e).delay=t}}function GO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?XO:KO)(t,e)):Kn(this.node(),t).delay}function QO(e,t){return function(){vi(this,e).duration=+t.apply(this,arguments)}}function qO(e,t){return t=+t,function(){vi(this,e).duration=t}}function ZO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?QO:qO)(t,e)):Kn(this.node(),t).duration}function JO(e,t){if(typeof t!="function")throw new Error;return function(){vi(this,e).ease=t}}function tC(e){var t=this._id;return arguments.length?this.each(JO(t,e)):Kn(this.node(),t).ease}function eC(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;vi(this,e).ease=n}}function nC(e){if(typeof e!="function")throw new Error;return this.each(eC(this._id,e))}function iC(e){typeof e!="function"&&(e=tS(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new Xi(i,this._parents,this._name,this._id)}function rC(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=t[a],c=n[a],u=l.length,d=o[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<i;++a)o[a]=t[a];return new Xi(o,this._parents,this._name,this._id)}function sC(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function oC(e,t,n){var i,r,s=sC(t)?Cm:vi;return function(){var o=s(this,e),a=o.on;a!==i&&(r=(i=a).copy()).on(t,n),o.on=r}}function aC(e,t){var n=this._id;return arguments.length<2?Kn(this.node(),n).on.on(e):this.each(oC(n,e,t))}function lC(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function cC(){return this.on("end.remove",lC(this._id))}function uC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Tm(e));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],l=a.length,c=s[o]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,gf(c[f],t,n,f,c,Kn(u,n)));return new Xi(s,this._parents,t,n)}function dC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=J1(e));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l=i[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),h,p=Kn(u,n),y=0,b=f.length;y<b;++y)(h=f[y])&&gf(h,t,n,y,f,p);s.push(f),o.push(u)}return new Xi(s,o,t,n)}var fC=Ql.prototype.constructor;function hC(){return new fC(this._groups,this._parents)}function pC(e,t){var n,i,r;return function(){var s=Bo(this,e),o=(this.style.removeProperty(e),Bo(this,e));return s===o?null:s===n&&o===i?r:r=t(n=s,i=o)}}function xS(e){return function(){this.style.removeProperty(e)}}function gC(e,t,n){var i,r=n+"",s;return function(){var o=Bo(this,e);return o===r?null:o===i?s:s=t(i=o,n)}}function mC(e,t,n){var i,r,s;return function(){var o=Bo(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Bo(this,e))),o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function yC(e,t){var n,i,r,s="style."+t,o="end."+s,a;return function(){var l=vi(this,e),c=l.on,u=l.value[s]==null?a||(a=xS(t)):void 0;(c!==n||r!==u)&&(i=(n=c).copy()).on(o,r=u),l.on=i}}function _C(e,t,n){var i=(e+="")=="transform"?_O:SS;return t==null?this.styleTween(e,pC(e,i)).on("end.style."+e,xS(e)):typeof t=="function"?this.styleTween(e,mC(e,i,Nm(this,"style."+e,t))).each(yC(this._id,e)):this.styleTween(e,gC(e,i,t),n).on("end.style."+e,null)}function vC(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function bC(e,t,n){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&vC(e,o,n)),i}return s._value=t,s}function wC(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,bC(e,t,n??""))}function SC(e){return function(){this.textContent=e}}function xC(e){return function(){var t=e(this);this.textContent=t??""}}function EC(e){return this.tween("text",typeof e=="function"?xC(Nm(this,"text",e)):SC(e==null?"":e+""))}function IC(e){return function(t){this.textContent=e.call(this,t)}}function kC(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&IC(r)),t}return i._value=e,i}function MC(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,kC(e))}function TC(){for(var e=this._name,t=this._id,n=ES(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=Kn(l,t);gf(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Xi(i,this._parents,e,n)}function AC(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r===0&&s()}};n.each(function(){var c=vi(this,i),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),r===0&&s()})}var DC=0;function Xi(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function ES(){return++DC}var xi=Ql.prototype;Xi.prototype={constructor:Xi,select:uC,selectAll:dC,selectChild:xi.selectChild,selectChildren:xi.selectChildren,filter:iC,merge:rC,selection:hC,transition:TC,call:xi.call,nodes:xi.nodes,node:xi.node,size:xi.size,empty:xi.empty,each:xi.each,on:aC,attr:$O,attrTween:YO,style:_C,styleTween:wC,text:EC,textTween:MC,remove:cC,tween:RO,delay:GO,duration:ZO,ease:tC,easeVarying:nC,end:AC,[Symbol.iterator]:xi[Symbol.iterator]};function OC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var CC={time:null,delay:0,duration:250,ease:OC};function NC(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function RC(e){var t,n;e instanceof Xi?(t=e._id,e=e._name):(t=ES(),(n=CC).time=Om(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&gf(l,e,t,c,o,n||NC(l,t));return new Xi(i,this._parents,e,t)}Ql.prototype.interrupt=OO;Ql.prototype.transition=RC;const Oc=e=>()=>e;function PC(e,{sourceEvent:t,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Bi(e,t,n){this.k=e,this.x=t,this.y=n}Bi.prototype={constructor:Bi,scale:function(e){return e===1?this:new Bi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Bi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vi=new Bi(1,0,0);Bi.prototype;function vh(e){e.stopImmediatePropagation()}function ga(e){e.preventDefault(),e.stopImmediatePropagation()}function LC(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function FC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function g_(){return this.__zoom||Vi}function BC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function zC(){return navigator.maxTouchPoints||"ontouchstart"in this}function UC(e,t,n){var i=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function IS(){var e=LC,t=FC,n=UC,i=BC,r=zC,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=xO,c=ff("start","zoom","end"),u,d,f,h=500,p=150,y=0,b=10;function g(S){S.property("__zoom",g_).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",C).filter(r).on("touchstart.zoom",z).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(S,k,M,L){var N=S.selection?S.selection():S;N.property("__zoom",g_),S!==N?w(S,k,M,L):N.interrupt().each(function(){x(this,arguments).event(L).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},g.scaleBy=function(S,k,M,L){g.scaleTo(S,function(){var N=this.__zoom.k,T=typeof k=="function"?k.apply(this,arguments):k;return N*T},M,L)},g.scaleTo=function(S,k,M,L){g.transform(S,function(){var N=t.apply(this,arguments),T=this.__zoom,R=M==null?v(N):typeof M=="function"?M.apply(this,arguments):M,P=T.invert(R),F=typeof k=="function"?k.apply(this,arguments):k;return n(_(m(T,F),R,P),N,o)},M,L)},g.translateBy=function(S,k,M,L){g.transform(S,function(){return n(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),o)},null,L)},g.translateTo=function(S,k,M,L,N){g.transform(S,function(){var T=t.apply(this,arguments),R=this.__zoom,P=L==null?v(T):typeof L=="function"?L.apply(this,arguments):L;return n(Vi.translate(P[0],P[1]).scale(R.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof M=="function"?-M.apply(this,arguments):-M),T,o)},L,N)};function m(S,k){return k=Math.max(s[0],Math.min(s[1],k)),k===S.k?S:new Bi(k,S.x,S.y)}function _(S,k,M){var L=k[0]-M[0]*S.k,N=k[1]-M[1]*S.k;return L===S.x&&N===S.y?S:new Bi(S.k,L,N)}function v(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function w(S,k,M,L){S.on("start.zoom",function(){x(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(L).end()}).tween("zoom",function(){var N=this,T=arguments,R=x(N,T).event(L),P=t.apply(N,T),F=M==null?v(P):typeof M=="function"?M.apply(N,T):M,j=Math.max(P[1][0]-P[0][0],P[1][1]-P[0][1]),H=N.__zoom,W=typeof k=="function"?k.apply(N,T):k,Q=l(H.invert(F).concat(j/H.k),W.invert(F).concat(j/W.k));return function(ut){if(ut===1)ut=W;else{var Tt=Q(ut),Et=j/Tt[2];ut=new Bi(Et,F[0]-Tt[0]*Et,F[1]-Tt[1]*Et)}R.zoom(null,ut)}})}function x(S,k,M){return!M&&S.__zooming||new E(S,k)}function E(S,k){this.that=S,this.args=k,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,k),this.taps=0}E.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,k){return this.mouse&&S!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var k=xn(this.that).datum();c.call(S,this.that,new PC(S,{sourceEvent:this.sourceEvent,target:g,type:S,transform:this.that.__zoom,dispatch:c}),k)}};function D(S,...k){if(!e.apply(this,arguments))return;var M=x(this,k).event(S),L=this.__zoom,N=Math.max(s[0],Math.min(s[1],L.k*Math.pow(2,i.apply(this,arguments)))),T=Bn(S);if(M.wheel)(M.mouse[0][0]!==T[0]||M.mouse[0][1]!==T[1])&&(M.mouse[1]=L.invert(M.mouse[0]=T)),clearTimeout(M.wheel);else{if(L.k===N)return;M.mouse=[T,L.invert(T)],pu(this),M.start()}ga(S),M.wheel=setTimeout(R,p),M.zoom("mouse",n(_(m(L,N),M.mouse[0],M.mouse[1]),M.extent,o));function R(){M.wheel=null,M.end()}}function A(S,...k){if(f||!e.apply(this,arguments))return;var M=S.currentTarget,L=x(this,k,!0).event(S),N=xn(S.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",j,!0),T=Bn(S,M),R=S.clientX,P=S.clientY;uS(S.view),vh(S),L.mouse=[T,this.__zoom.invert(T)],pu(this),L.start();function F(H){if(ga(H),!L.moved){var W=H.clientX-R,Q=H.clientY-P;L.moved=W*W+Q*Q>y}L.event(H).zoom("mouse",n(_(L.that.__zoom,L.mouse[0]=Bn(H,M),L.mouse[1]),L.extent,o))}function j(H){N.on("mousemove.zoom mouseup.zoom",null),dS(H.view,L.moved),ga(H),L.event(H).end()}}function C(S,...k){if(e.apply(this,arguments)){var M=this.__zoom,L=Bn(S.changedTouches?S.changedTouches[0]:S,this),N=M.invert(L),T=M.k*(S.shiftKey?.5:2),R=n(_(m(M,T),L,N),t.apply(this,k),o);ga(S),a>0?xn(this).transition().duration(a).call(w,R,L,S):xn(this).call(g.transform,R,L,S)}}function z(S,...k){if(e.apply(this,arguments)){var M=S.touches,L=M.length,N=x(this,k,S.changedTouches.length===L).event(S),T,R,P,F;for(vh(S),R=0;R<L;++R)P=M[R],F=Bn(P,this),F=[F,this.__zoom.invert(F),P.identifier],N.touch0?!N.touch1&&N.touch0[2]!==F[2]&&(N.touch1=F,N.taps=0):(N.touch0=F,T=!0,N.taps=1+!!u);u&&(u=clearTimeout(u)),T&&(N.taps<2&&(d=F[0],u=setTimeout(function(){u=null},h)),pu(this),N.start())}}function U(S,...k){if(this.__zooming){var M=x(this,k).event(S),L=S.changedTouches,N=L.length,T,R,P,F;for(ga(S),T=0;T<N;++T)R=L[T],P=Bn(R,this),M.touch0&&M.touch0[2]===R.identifier?M.touch0[0]=P:M.touch1&&M.touch1[2]===R.identifier&&(M.touch1[0]=P);if(R=M.that.__zoom,M.touch1){var j=M.touch0[0],H=M.touch0[1],W=M.touch1[0],Q=M.touch1[1],ut=(ut=W[0]-j[0])*ut+(ut=W[1]-j[1])*ut,Tt=(Tt=Q[0]-H[0])*Tt+(Tt=Q[1]-H[1])*Tt;R=m(R,Math.sqrt(ut/Tt)),P=[(j[0]+W[0])/2,(j[1]+W[1])/2],F=[(H[0]+Q[0])/2,(H[1]+Q[1])/2]}else if(M.touch0)P=M.touch0[0],F=M.touch0[1];else return;M.zoom("touch",n(_(R,P,F),M.extent,o))}}function $(S,...k){if(this.__zooming){var M=x(this,k).event(S),L=S.changedTouches,N=L.length,T,R;for(vh(S),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),T=0;T<N;++T)R=L[T],M.touch0&&M.touch0[2]===R.identifier?delete M.touch0:M.touch1&&M.touch1[2]===R.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(R=Bn(R,this),Math.hypot(d[0]-R[0],d[1]-R[1])<b)){var P=xn(this).on("dblclick.zoom");P&&P.apply(this,arguments)}}}return g.wheelDelta=function(S){return arguments.length?(i=typeof S=="function"?S:Oc(+S),g):i},g.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Oc(!!S),g):e},g.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Oc(!!S),g):r},g.extent=function(S){return arguments.length?(t=typeof S=="function"?S:Oc([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),g):t},g.scaleExtent=function(S){return arguments.length?(s[0]=+S[0],s[1]=+S[1],g):[s[0],s[1]]},g.translateExtent=function(S){return arguments.length?(o[0][0]=+S[0][0],o[1][0]=+S[1][0],o[0][1]=+S[0][1],o[1][1]=+S[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(S){return arguments.length?(n=S,g):n},g.duration=function(S){return arguments.length?(a=+S,g):a},g.interpolate=function(S){return arguments.length?(l=S,g):l},g.on=function(){var S=c.on.apply(c,arguments);return S===c?g:S},g.clickDistance=function(S){return arguments.length?(y=(S=+S)*S,g):Math.sqrt(y)},g.tapDistance=function(S){return arguments.length?(b=+S,g):b},g}const mf=O.createContext(null),$C=mf.Provider,Ki={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},kS=Ki.error001();function $t(e,t){const n=O.useContext(mf);if(n===null)throw new Error(kS);return q1(n,e,t)}const fe=()=>{const e=O.useContext(mf);if(e===null)throw new Error(kS);return O.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},VC=e=>e.userSelectionActive?"none":"all";function Rm({position:e,children:t,className:n,style:i,...r}){const s=$t(VC),o=`${e}`.split("-");return B.createElement("div",{className:we(["react-flow__panel",n,...o]),style:{...i,pointerEvents:s},...r},t)}function jC({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:B.createElement(Rm,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},B.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const HC=({x:e,y:t,label:n,labelStyle:i={},labelShowBg:r=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u})=>{const d=O.useRef(null),[f,h]=O.useState({x:0,y:0,width:0,height:0}),p=we(["react-flow__edge-textwrapper",c]);return O.useEffect(()=>{if(d.current){const y=d.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:B.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:p,visibility:f.width?"visible":"hidden",...u},r&&B.createElement("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),B.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:i},n),l)};var WC=O.memo(HC);const Pm=e=>({width:e.offsetWidth,height:e.offsetHeight}),Uo=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Lm=(e={x:0,y:0},t)=>({x:Uo(e.x,t[0][0],t[1][0]),y:Uo(e.y,t[0][1],t[1][1])}),m_=(e,t,n)=>e<t?Uo(Math.abs(e-t),1,50)/50:e>n?-Uo(Math.abs(e-n),1,50)/50:0,MS=(e,t)=>{const n=m_(e.x,35,t.width-35)*20,i=m_(e.y,35,t.height-35)*20;return[n,i]},TS=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},AS=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Al=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),DS=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),y_=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),YC=(e,t)=>DS(AS(Al(e),Al(t))),tg=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},XC=e=>kn(e.width)&&kn(e.height)&&kn(e.x)&&kn(e.y),kn=e=>!isNaN(e)&&isFinite(e),Jt=Symbol.for("internals"),OS=["Enter"," ","Escape"],KC=(e,t)=>{},GC=e=>"nativeEvent"in e;function eg(e){var r,s;const t=GC(e)?e.nativeEvent:e,n=((s=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const CS=e=>"clientX"in e,kr=(e,t)=>{var s,o;const n=CS(e),i=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,r=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},id=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Zl=({id:e,path:t,labelX:n,labelY:i,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:f,interactionWidth:h=20})=>B.createElement(B.Fragment,null,B.createElement("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),h&&B.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),r&&kn(n)&&kn(i)?B.createElement(WC,{x:n,y:i,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c}):null);Zl.displayName="BaseEdge";function ma(e,t,n){return n===void 0?n:i=>{const r=t().edges.find(s=>s.id===e);r&&n(i,{...r})}}function NS({sourceX:e,sourceY:t,targetX:n,targetY:i}){const r=Math.abs(n-e)/2,s=n<e?n+r:n-r,o=Math.abs(i-t)/2,a=i<t?i+o:i-o;return[s,a,r,o]}function RS({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:r,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=e*.125+r*.375+o*.375+n*.125,c=t*.125+s*.375+a*.375+i*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}var Ss;(function(e){e.Strict="strict",e.Loose="loose"})(Ss||(Ss={}));var as;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(as||(as={}));var Dl;(function(e){e.Partial="partial",e.Full="full"})(Dl||(Dl={}));var fr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(fr||(fr={}));var Ol;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ol||(Ol={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));function __({pos:e,x1:t,y1:n,x2:i,y2:r}){return e===G.Left||e===G.Right?[.5*(t+i),n]:[t,.5*(n+r)]}function PS({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:i,targetY:r,targetPosition:s=G.Top}){const[o,a]=__({pos:n,x1:e,y1:t,x2:i,y2:r}),[l,c]=__({pos:s,x1:i,y1:r,x2:e,y2:t}),[u,d,f,h]=RS({sourceX:e,sourceY:t,targetX:i,targetY:r,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${o},${a} ${l},${c} ${i},${r}`,u,d,f,h]}const Fm=O.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:r=G.Bottom,targetPosition:s=G.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:y})=>{const[b,g,m]=PS({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:i,targetPosition:s});return B.createElement(Zl,{path:b,labelX:g,labelY:m,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:y})});Fm.displayName="SimpleBezierEdge";const v_={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},QC=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},b_=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function qC({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:i=G.Top,center:r,offset:s}){const o=v_[t],a=v_[i],l={x:e.x+o.x*s,y:e.y+o.y*s},c={x:n.x+a.x*s,y:n.y+a.y*s},u=QC({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",f=u[d];let h=[],p,y;const b={x:0,y:0},g={x:0,y:0},[m,_,v,w]=NS({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){p=r.x??m,y=r.y??_;const E=[{x:p,y:l.y},{x:p,y:c.y}],D=[{x:l.x,y},{x:c.x,y}];o[d]===f?h=d==="x"?E:D:h=d==="x"?D:E}else{const E=[{x:l.x,y:c.y}],D=[{x:c.x,y:l.y}];if(d==="x"?h=o.x===f?D:E:h=o.y===f?E:D,t===i){const $=Math.abs(e[d]-n[d]);if($<=s){const S=Math.min(s-1,s-$);o[d]===f?b[d]=(l[d]>e[d]?-1:1)*S:g[d]=(c[d]>n[d]?-1:1)*S}}if(t!==i){const $=d==="x"?"y":"x",S=o[d]===a[$],k=l[$]>c[$],M=l[$]<c[$];(o[d]===1&&(!S&&k||S&&M)||o[d]!==1&&(!S&&M||S&&k))&&(h=d==="x"?E:D)}const A={x:l.x+b.x,y:l.y+b.y},C={x:c.x+g.x,y:c.y+g.y},z=Math.max(Math.abs(A.x-h[0].x),Math.abs(C.x-h[0].x)),U=Math.max(Math.abs(A.y-h[0].y),Math.abs(C.y-h[0].y));z>=U?(p=(A.x+C.x)/2,y=h[0].y):(p=h[0].x,y=(A.y+C.y)/2)}return[[e,{x:l.x+b.x,y:l.y+b.y},...h,{x:c.x+g.x,y:c.y+g.y},n],p,y,v,w]}function ZC(e,t,n,i){const r=Math.min(b_(e,t)/2,b_(t,n)/2,i),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${s+r*c},${o}Q ${s},${o} ${s},${o+r*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${o+r*l}Q ${s},${o} ${s+r*a},${o}`}function ng({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:i,targetY:r,targetPosition:s=G.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20}){const[u,d,f,h,p]=qC({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:r},targetPosition:s,center:{x:a,y:l},offset:c});return[u.reduce((b,g,m)=>{let _="";return m>0&&m<u.length-1?_=ZC(u[m-1],g,u[m+1],o):_=`${m===0?"M":"L"}${g.x} ${g.y}`,b+=_,b},""),d,f,h,p]}const yf=O.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:d=G.Bottom,targetPosition:f=G.Top,markerEnd:h,markerStart:p,pathOptions:y,interactionWidth:b})=>{const[g,m,_]=ng({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:i,targetPosition:f,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return B.createElement(Zl,{path:g,labelX:m,labelY:_,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:h,markerStart:p,interactionWidth:b})});yf.displayName="SmoothStepEdge";const Bm=O.memo(e=>{var t;return B.createElement(yf,{...e,pathOptions:O.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Bm.displayName="StepEdge";function JC({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[r,s,o,a]=NS({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,r,s,o,a]}const zm=O.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:f,interactionWidth:h})=>{const[p,y,b]=JC({sourceX:e,sourceY:t,targetX:n,targetY:i});return B.createElement(Zl,{path:p,labelX:y,labelY:b,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:f,interactionWidth:h})});zm.displayName="StraightEdge";function Cc(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function w_({pos:e,x1:t,y1:n,x2:i,y2:r,c:s}){switch(e){case G.Left:return[t-Cc(t-i,s),n];case G.Right:return[t+Cc(i-t,s),n];case G.Top:return[t,n-Cc(n-r,s)];case G.Bottom:return[t,n+Cc(r-n,s)]}}function LS({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:i,targetY:r,targetPosition:s=G.Top,curvature:o=.25}){const[a,l]=w_({pos:n,x1:e,y1:t,x2:i,y2:r,c:o}),[c,u]=w_({pos:s,x1:i,y1:r,x2:e,y2:t,c:o}),[d,f,h,p]=RS({sourceX:e,sourceY:t,targetX:i,targetY:r,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${i},${r}`,d,f,h,p]}const rd=O.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:r=G.Bottom,targetPosition:s=G.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,pathOptions:y,interactionWidth:b})=>{const[g,m,_]=LS({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:i,targetPosition:s,curvature:y==null?void 0:y.curvature});return B.createElement(Zl,{path:g,labelX:m,labelY:_,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:b})});rd.displayName="BezierEdge";const Um=O.createContext(null),tN=Um.Provider;Um.Consumer;const eN=()=>O.useContext(Um),nN=e=>"id"in e&&"source"in e&&"target"in e,iN=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`reactflow__edge-${e}${t||""}-${n}${i||""}`,ig=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`,rN=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),FS=(e,t)=>{if(!e.source||!e.target)return t;let n;return nN(e)?n={...e}:n={...e,id:iN(e)},rN(n,t)?t:t.concat(n)},rg=({x:e,y:t},[n,i,r],s,[o,a])=>{const l={x:(e-n)/r,y:(t-i)/r};return s?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},BS=({x:e,y:t},[n,i,r])=>({x:e*r+n,y:t*r+i}),fs=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],i=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-i};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-i}:r}},_f=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,r)=>{const{x:s,y:o}=fs(r,t).positionAbsolute;return AS(i,Al({x:s,y:o,width:r.width||0,height:r.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return DS(n)},zS=(e,t,[n,i,r]=[0,0,1],s=!1,o=!1,a=[0,0])=>{const l={x:(t.x-n)/r,y:(t.y-i)/r,width:t.width/r,height:t.height/r},c=[];return e.forEach(u=>{const{width:d,height:f,selectable:h=!0,hidden:p=!1}=u;if(o&&!h||p)return!1;const{positionAbsolute:y}=fs(u,a),b={x:y.x,y:y.y,width:d||0,height:f||0},g=tg(l,b),m=typeof d>"u"||typeof f>"u"||d===null||f===null,_=s&&g>0,v=(d||0)*(f||0);(m||_||g>=v||u.dragging)&&c.push(u)}),c},US=(e,t)=>{const n=e.map(i=>i.id);return t.filter(i=>n.includes(i.source)||n.includes(i.target))},$S=(e,t,n,i,r,s=.1)=>{const o=t/(e.width*(1+s)),a=n/(e.height*(1+s)),l=Math.min(o,a),c=Uo(l,i,r),u=e.x+e.width/2,d=e.y+e.height/2,f=t/2-u*c,h=n/2-d*c;return{x:f,y:h,zoom:c}},ts=(e,t=0)=>e.transition().duration(t);function S_(e,t,n,i){return(t[n]||[]).reduce((r,s)=>{var o,a;return`${e.id}-${s.id}-${n}`!==i&&r.push({id:s.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),r},[])}function sN(e,t,n,i,r,s){const{x:o,y:a}=kr(e),c=t.elementsFromPoint(o,a).find(p=>p.classList.contains("react-flow__handle"));if(c){const p=c.getAttribute("data-nodeid");if(p){const y=$m(void 0,c),b=c.getAttribute("data-handleid"),g=s({nodeId:p,id:b,type:y});if(g){const m=r.find(_=>_.nodeId===p&&_.type===y&&_.id===b);return{handle:{id:b,type:y,nodeId:p,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:g}}}}let u=[],d=1/0;if(r.forEach(p=>{const y=Math.sqrt((p.x-n.x)**2+(p.y-n.y)**2);if(y<=i){const b=s(p);y<=d&&(y<d?u=[{handle:p,validHandleResult:b}]:y===d&&u.push({handle:p,validHandleResult:b}),d=y)}}),!u.length)return{handle:null,validHandleResult:VS()};if(u.length===1)return u[0];const f=u.some(({validHandleResult:p})=>p.isValid),h=u.some(({handle:p})=>p.type==="target");return u.find(({handle:p,validHandleResult:y})=>h?p.type==="target":f?y.isValid:!0)||u[0]}const oN={source:null,target:null,sourceHandle:null,targetHandle:null},VS=()=>({handleDomNode:null,isValid:!1,connection:oN,endHandle:null});function jS(e,t,n,i,r,s,o){const a=r==="target",l=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...VS(),handleDomNode:l};if(l){const u=$m(void 0,l),d=l.getAttribute("data-nodeid"),f=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),p=l.classList.contains("connectableend"),y={source:a?d:n,sourceHandle:a?f:i,target:a?n:d,targetHandle:a?i:f};c.connection=y,h&&p&&(t===Ss.Strict?a&&u==="source"||!a&&u==="target":d!==n||f!==i)&&(c.endHandle={nodeId:d,handleId:f,type:u},c.isValid=s(y))}return c}function aN({nodes:e,nodeId:t,handleId:n,handleType:i}){return e.reduce((r,s)=>{if(s[Jt]){const{handleBounds:o}=s[Jt];let a=[],l=[];o&&(a=S_(s,o,"source",`${t}-${n}-${i}`),l=S_(s,o,"target",`${t}-${n}-${i}`)),r.push(...a,...l)}return r},[])}function $m(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function bh(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function lN(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function HS({event:e,handleId:t,nodeId:n,onConnect:i,isTarget:r,getState:s,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:c}){const u=TS(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:h,connectionRadius:p,onConnectStart:y,panBy:b,getNodes:g,cancelConnection:m}=s();let _=0,v;const{x:w,y:x}=kr(e),E=u==null?void 0:u.elementFromPoint(w,x),D=$m(l,E),A=f==null?void 0:f.getBoundingClientRect();if(!A||!D)return;let C,z=kr(e,A),U=!1,$=null,S=!1,k=null;const M=aN({nodes:g(),nodeId:n,handleId:t,handleType:D}),L=()=>{if(!h)return;const[R,P]=MS(z,A);b({x:R,y:P}),_=requestAnimationFrame(L)};o({connectionPosition:z,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:D,connectionStartHandle:{nodeId:n,handleId:t,type:D},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:D});function N(R){const{transform:P}=s();z=kr(R,A);const{handle:F,validHandleResult:j}=sN(R,u,rg(z,P,!1,[1,1]),p,M,H=>jS(H,d,n,t,r?"target":"source",a,u));if(v=F,U||(L(),U=!0),k=j.handleDomNode,$=j.connection,S=j.isValid,o({connectionPosition:v&&S?BS({x:v.x,y:v.y},P):z,connectionStatus:lN(!!v,S),connectionEndHandle:j.endHandle}),!v&&!S&&!k)return bh(C);$.source!==$.target&&k&&(bh(C),C=k,k.classList.add("connecting","react-flow__handle-connecting"),k.classList.toggle("valid",S),k.classList.toggle("react-flow__handle-valid",S))}function T(R){var P,F;(v||k)&&$&&S&&(i==null||i($)),(F=(P=s()).onConnectEnd)==null||F.call(P,R),l&&(c==null||c(R)),bh(C),m(),cancelAnimationFrame(_),U=!1,S=!1,$=null,k=null,u.removeEventListener("mousemove",N),u.removeEventListener("mouseup",T),u.removeEventListener("touchmove",N),u.removeEventListener("touchend",T)}u.addEventListener("mousemove",N),u.addEventListener("mouseup",T),u.addEventListener("touchmove",N),u.addEventListener("touchend",T)}const x_=()=>!0,cN=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),uN=(e,t,n)=>i=>{const{connectionStartHandle:r,connectionEndHandle:s,connectionClickStartHandle:o}=i;return{connecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.handleId)===t&&(r==null?void 0:r.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},WS=O.forwardRef(({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:i=!0,isConnectableStart:r=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:d,...f},h)=>{var A,C;const p=o||null,y=e==="target",b=fe(),g=eN(),{connectOnClick:m,noPanClassName:_}=$t(cN,me),{connecting:v,clickConnecting:w}=$t(uN(g,p,e),me);g||(C=(A=b.getState()).onError)==null||C.call(A,"010",Ki.error010());const x=z=>{const{defaultEdgeOptions:U,onConnect:$,hasDefaultEdges:S}=b.getState(),k={...U,...z};if(S){const{edges:M,setEdges:L}=b.getState();L(FS(k,M))}$==null||$(k),a==null||a(k)},E=z=>{if(!g)return;const U=CS(z);r&&(U&&z.button===0||!U)&&HS({event:z,handleId:p,nodeId:g,onConnect:x,isTarget:y,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||x_}),U?u==null||u(z):d==null||d(z)},D=z=>{const{onClickConnectStart:U,onClickConnectEnd:$,connectionClickStartHandle:S,connectionMode:k,isValidConnection:M}=b.getState();if(!g||!S&&!r)return;if(!S){U==null||U(z,{nodeId:g,handleId:p,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:g,type:e,handleId:p}});return}const L=TS(z.target),N=n||M||x_,{connection:T,isValid:R}=jS({nodeId:g,id:p,type:e},k,S.nodeId,S.handleId||null,S.type,N,L);R&&x(T),$==null||$(z),b.setState({connectionClickStartHandle:null})};return B.createElement("div",{"data-handleid":p,"data-nodeid":g,"data-handlepos":t,"data-id":`${g}-${p}-${e}`,className:we(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,c,{source:!y,target:y,connectable:i,connectablestart:r,connectableend:s,connecting:w,connectionindicator:i&&(r&&!v||s&&v)}]),onMouseDown:E,onTouchStart:E,onClick:m?D:void 0,ref:h,...f},l)});WS.displayName="Handle";var $o=O.memo(WS);const YS=({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:i=G.Bottom})=>B.createElement(B.Fragment,null,B.createElement($o,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,B.createElement($o,{type:"source",position:i,isConnectable:t}));YS.displayName="DefaultNode";var sg=O.memo(YS);const XS=({data:e,isConnectable:t,sourcePosition:n=G.Bottom})=>B.createElement(B.Fragment,null,e==null?void 0:e.label,B.createElement($o,{type:"source",position:n,isConnectable:t}));XS.displayName="InputNode";var KS=O.memo(XS);const GS=({data:e,isConnectable:t,targetPosition:n=G.Top})=>B.createElement(B.Fragment,null,B.createElement($o,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);GS.displayName="OutputNode";var QS=O.memo(GS);const Vm=()=>null;Vm.displayName="GroupNode";const dN=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Nc=e=>e.id;function fN(e,t){return me(e.selectedNodes.map(Nc),t.selectedNodes.map(Nc))&&me(e.selectedEdges.map(Nc),t.selectedEdges.map(Nc))}const qS=O.memo(({onSelectionChange:e})=>{const t=fe(),{selectedNodes:n,selectedEdges:i}=$t(dN,fN);return O.useEffect(()=>{const r={nodes:n,edges:i};e==null||e(r),t.getState().onSelectionChange.forEach(s=>s(r))},[n,i,e]),null});qS.displayName="SelectionListener";const hN=e=>!!e.onSelectionChange;function pN({onSelectionChange:e}){const t=$t(hN);return e||t?B.createElement(qS,{onSelectionChange:e}):null}const gN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Fs(e,t){O.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ft(e,t,n){O.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const mN=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:r,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:h,elevateNodesOnSelect:p,minZoom:y,maxZoom:b,nodeExtent:g,onNodesChange:m,onEdgesChange:_,elementsSelectable:v,connectionMode:w,snapGrid:x,snapToGrid:E,translateExtent:D,connectOnClick:A,defaultEdgeOptions:C,fitView:z,fitViewOptions:U,onNodesDelete:$,onEdgesDelete:S,onNodeDrag:k,onNodeDragStart:M,onNodeDragStop:L,onSelectionDrag:N,onSelectionDragStart:T,onSelectionDragStop:R,noPanClassName:P,nodeOrigin:F,rfId:j,autoPanOnConnect:H,autoPanOnNodeDrag:W,onError:Q,connectionRadius:ut,isValidConnection:Tt,nodeDragThreshold:Et})=>{const{setNodes:wt,setEdges:ye,setDefaultNodesAndEdges:oe,setMinZoom:Ne,setMaxZoom:Se,setTranslateExtent:ee,setNodeExtent:en,reset:Rt}=$t(gN,me),K=fe();return O.useEffect(()=>{const Re=i==null?void 0:i.map(bi=>({...bi,...C}));return oe(n,Re),()=>{Rt()}},[]),ft("defaultEdgeOptions",C,K.setState),ft("connectionMode",w,K.setState),ft("onConnect",r,K.setState),ft("onConnectStart",s,K.setState),ft("onConnectEnd",o,K.setState),ft("onClickConnectStart",a,K.setState),ft("onClickConnectEnd",l,K.setState),ft("nodesDraggable",c,K.setState),ft("nodesConnectable",u,K.setState),ft("nodesFocusable",d,K.setState),ft("edgesFocusable",f,K.setState),ft("edgesUpdatable",h,K.setState),ft("elementsSelectable",v,K.setState),ft("elevateNodesOnSelect",p,K.setState),ft("snapToGrid",E,K.setState),ft("snapGrid",x,K.setState),ft("onNodesChange",m,K.setState),ft("onEdgesChange",_,K.setState),ft("connectOnClick",A,K.setState),ft("fitViewOnInit",z,K.setState),ft("fitViewOnInitOptions",U,K.setState),ft("onNodesDelete",$,K.setState),ft("onEdgesDelete",S,K.setState),ft("onNodeDrag",k,K.setState),ft("onNodeDragStart",M,K.setState),ft("onNodeDragStop",L,K.setState),ft("onSelectionDrag",N,K.setState),ft("onSelectionDragStart",T,K.setState),ft("onSelectionDragStop",R,K.setState),ft("noPanClassName",P,K.setState),ft("nodeOrigin",F,K.setState),ft("rfId",j,K.setState),ft("autoPanOnConnect",H,K.setState),ft("autoPanOnNodeDrag",W,K.setState),ft("onError",Q,K.setState),ft("connectionRadius",ut,K.setState),ft("isValidConnection",Tt,K.setState),ft("nodeDragThreshold",Et,K.setState),Fs(e,wt),Fs(t,ye),Fs(y,Ne),Fs(b,Se),Fs(D,ee),Fs(g,en),null},E_={display:"none"},yN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ZS="react-flow__node-desc",JS="react-flow__edge-desc",_N="react-flow__aria-live",vN=e=>e.ariaLiveMessage;function bN({rfId:e}){const t=$t(vN);return B.createElement("div",{id:`${_N}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:yN},t)}function wN({rfId:e,disableKeyboardA11y:t}){return B.createElement(B.Fragment,null,B.createElement("div",{id:`${ZS}-${e}`,style:E_},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),B.createElement("div",{id:`${JS}-${e}`,style:E_},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&B.createElement(bN,{rfId:e}))}var Cl=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,i]=O.useState(!1),r=O.useRef(!1),s=O.useRef(new Set([])),[o,a]=O.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),u=c.reduce((d,f)=>d.concat(...f),[]);return[c,u]}return[[],[]]},[e]);return O.useEffect(()=>{const l=typeof document<"u"?document:null,c=(t==null?void 0:t.target)||l;if(e!==null){const u=h=>{if(r.current=h.ctrlKey||h.metaKey||h.shiftKey,(!r.current||r.current&&!t.actInsideInputWithModifier)&&eg(h))return!1;const y=k_(h.code,a);s.current.add(h[y]),I_(o,s.current,!1)&&(h.preventDefault(),i(!0))},d=h=>{if((!r.current||r.current&&!t.actInsideInputWithModifier)&&eg(h))return!1;const y=k_(h.code,a);I_(o,s.current,!0)?(i(!1),s.current.clear()):s.current.delete(h[y]),h.key==="Meta"&&s.current.clear(),r.current=!1},f=()=>{s.current.clear(),i(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,i]),n};function I_(e,t,n){return e.filter(i=>n||i.length===t.size).some(i=>i.every(r=>t.has(r)))}function k_(e,t){return t.includes(e)?"code":"key"}function tx(e,t,n,i){var a,l;const r=e.parentNode||e.parentId;if(!r)return n;const s=t.get(r),o=fs(s,i);return tx(s,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=s[Jt])==null?void 0:a.z)??0)>(n.z??0)?((l=s[Jt])==null?void 0:l.z)??0:n.z??0},i)}function ex(e,t,n){e.forEach(i=>{var s;const r=i.parentNode||i.parentId;if(r&&!e.has(r))throw new Error(`Parent node ${r} not found`);if(r||n!=null&&n[i.id]){const{x:o,y:a,z:l}=tx(i,e,{...i.position,z:((s=i[Jt])==null?void 0:s.z)??0},t);i.positionAbsolute={x:o,y:a},i[Jt].z=l,n!=null&&n[i.id]&&(i[Jt].isParent=!0)}})}function wh(e,t,n,i){const r=new Map,s={},o=i?1e3:0;return e.forEach(a=>{var h;const l=(kn(a.zIndex)?a.zIndex:0)+(a.selected?o:0),c=t.get(a.id),u={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},d=a.parentNode||a.parentId;d&&(s[d]=!0);const f=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==a.type;Object.defineProperty(u,Jt,{enumerable:!1,value:{handleBounds:f||(h=c==null?void 0:c[Jt])==null?void 0:h.handleBounds,z:l}}),r.set(a.id,u)}),ex(r,n,s),r}function nx(e,t={}){const{getNodes:n,width:i,height:r,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),f=t.initial&&!c&&u;if(a&&l&&(f||!t.initial)){const p=n().filter(b=>{var m;const g=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(m=t.nodes)!=null&&m.length?g&&t.nodes.some(_=>_.id===b.id):g}),y=p.every(b=>b.width&&b.height);if(p.length>0&&y){const b=_f(p,d),{x:g,y:m,zoom:_}=$S(b,i,r,t.minZoom??s,t.maxZoom??o,t.padding??.1),v=Vi.translate(g,m).scale(_);return typeof t.duration=="number"&&t.duration>0?a.transform(ts(l,t.duration),v):a.transform(l,v),!0}}return!1}function SN(e,t){return e.forEach(n=>{const i=t.get(n.id);i&&t.set(i.id,{...i,[Jt]:i[Jt],selected:n.selected})}),new Map(t)}function xN(e,t){return t.map(n=>{const i=e.find(r=>r.id===n.id);return i&&(n.selected=i.selected),n})}function Rc({changedNodes:e,changedEdges:t,get:n,set:i}){const{nodeInternals:r,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:c}=n();e!=null&&e.length&&(l&&i({nodeInternals:SN(e,r)}),o==null||o(e)),t!=null&&t.length&&(c&&i({edges:xN(t,s)}),a==null||a(t))}const Bs=()=>{},EN={zoomIn:Bs,zoomOut:Bs,zoomTo:Bs,getZoom:()=>1,setViewport:Bs,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Bs,fitBounds:Bs,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},IN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),kN=()=>{const e=fe(),{d3Zoom:t,d3Selection:n}=$t(IN,me);return O.useMemo(()=>n&&t?{zoomIn:r=>t.scaleBy(ts(n,r==null?void 0:r.duration),1.2),zoomOut:r=>t.scaleBy(ts(n,r==null?void 0:r.duration),1/1.2),zoomTo:(r,s)=>t.scaleTo(ts(n,s==null?void 0:s.duration),r),getZoom:()=>e.getState().transform[2],setViewport:(r,s)=>{const[o,a,l]=e.getState().transform,c=Vi.translate(r.x??o,r.y??a).scale(r.zoom??l);t.transform(ts(n,s==null?void 0:s.duration),c)},getViewport:()=>{const[r,s,o]=e.getState().transform;return{x:r,y:s,zoom:o}},fitView:r=>nx(e.getState,r),setCenter:(r,s,o)=>{const{width:a,height:l,maxZoom:c}=e.getState(),u=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,d=a/2-r*u,f=l/2-s*u,h=Vi.translate(d,f).scale(u);t.transform(ts(n,o==null?void 0:o.duration),h)},fitBounds:(r,s)=>{const{width:o,height:a,minZoom:l,maxZoom:c}=e.getState(),{x:u,y:d,zoom:f}=$S(r,o,a,l,c,(s==null?void 0:s.padding)??.1),h=Vi.translate(u,d).scale(f);t.transform(ts(n,s==null?void 0:s.duration),h)},project:r=>{const{transform:s,snapToGrid:o,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),rg(r,s,o,a)},screenToFlowPosition:r=>{const{transform:s,snapToGrid:o,snapGrid:a,domNode:l}=e.getState();if(!l)return r;const{x:c,y:u}=l.getBoundingClientRect(),d={x:r.x-c,y:r.y-u};return rg(d,s,o,a)},flowToScreenPosition:r=>{const{transform:s,domNode:o}=e.getState();if(!o)return r;const{x:a,y:l}=o.getBoundingClientRect(),c=BS(r,s);return{x:c.x+a,y:c.y+l}},viewportInitialized:!0}:EN,[t,n])};function jm(){const e=kN(),t=fe(),n=O.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),i=O.useCallback(y=>t.getState().nodeInternals.get(y),[]),r=O.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(b=>({...b}))},[]),s=O.useCallback(y=>{const{edges:b=[]}=t.getState();return b.find(g=>g.id===y)},[]),o=O.useCallback(y=>{const{getNodes:b,setNodes:g,hasDefaultNodes:m,onNodesChange:_}=t.getState(),v=b(),w=typeof y=="function"?y(v):y;if(m)g(w);else if(_){const x=w.length===0?v.map(E=>({type:"remove",id:E.id})):w.map(E=>({item:E,type:"reset"}));_(x)}},[]),a=O.useCallback(y=>{const{edges:b=[],setEdges:g,hasDefaultEdges:m,onEdgesChange:_}=t.getState(),v=typeof y=="function"?y(b):y;if(m)g(v);else if(_){const w=v.length===0?b.map(x=>({type:"remove",id:x.id})):v.map(x=>({item:x,type:"reset"}));_(w)}},[]),l=O.useCallback(y=>{const b=Array.isArray(y)?y:[y],{getNodes:g,setNodes:m,hasDefaultNodes:_,onNodesChange:v}=t.getState();if(_){const x=[...g(),...b];m(x)}else if(v){const w=b.map(x=>({item:x,type:"add"}));v(w)}},[]),c=O.useCallback(y=>{const b=Array.isArray(y)?y:[y],{edges:g=[],setEdges:m,hasDefaultEdges:_,onEdgesChange:v}=t.getState();if(_)m([...g,...b]);else if(v){const w=b.map(x=>({item:x,type:"add"}));v(w)}},[]),u=O.useCallback(()=>{const{getNodes:y,edges:b=[],transform:g}=t.getState(),[m,_,v]=g;return{nodes:y().map(w=>({...w})),edges:b.map(w=>({...w})),viewport:{x:m,y:_,zoom:v}}},[]),d=O.useCallback(({nodes:y,edges:b})=>{const{nodeInternals:g,getNodes:m,edges:_,hasDefaultNodes:v,hasDefaultEdges:w,onNodesDelete:x,onEdgesDelete:E,onNodesChange:D,onEdgesChange:A}=t.getState(),C=(y||[]).map(k=>k.id),z=(b||[]).map(k=>k.id),U=m().reduce((k,M)=>{const L=M.parentNode||M.parentId,N=!C.includes(M.id)&&L&&k.find(R=>R.id===L);return(typeof M.deletable=="boolean"?M.deletable:!0)&&(C.includes(M.id)||N)&&k.push(M),k},[]),$=_.filter(k=>typeof k.deletable=="boolean"?k.deletable:!0),S=$.filter(k=>z.includes(k.id));if(U||S){const k=US(U,$),M=[...S,...k],L=M.reduce((N,T)=>(N.includes(T.id)||N.push(T.id),N),[]);if((w||v)&&(w&&t.setState({edges:_.filter(N=>!L.includes(N.id))}),v&&(U.forEach(N=>{g.delete(N.id)}),t.setState({nodeInternals:new Map(g)}))),L.length>0&&(E==null||E(M),A&&A(L.map(N=>({id:N,type:"remove"})))),U.length>0&&(x==null||x(U),D)){const N=U.map(T=>({id:T.id,type:"remove"}));D(N)}}},[]),f=O.useCallback(y=>{const b=XC(y),g=b?null:t.getState().nodeInternals.get(y.id);return!b&&!g?[null,null,b]:[b?y:y_(g),g,b]},[]),h=O.useCallback((y,b=!0,g)=>{const[m,_,v]=f(y);return m?(g||t.getState().getNodes()).filter(w=>{if(!v&&(w.id===_.id||!w.positionAbsolute))return!1;const x=y_(w),E=tg(x,m);return b&&E>0||E>=m.width*m.height}):[]},[]),p=O.useCallback((y,b,g=!0)=>{const[m]=f(y);if(!m)return!1;const _=tg(m,b);return g&&_>0||_>=m.width*m.height},[]);return O.useMemo(()=>({...e,getNodes:n,getNode:i,getEdges:r,getEdge:s,setNodes:o,setEdges:a,addNodes:l,addEdges:c,toObject:u,deleteElements:d,getIntersectingNodes:h,isNodeIntersecting:p}),[e,n,i,r,s,o,a,l,c,u,d,h,p])}const MN={actInsideInputWithModifier:!1};var TN=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=fe(),{deleteElements:i}=jm(),r=Cl(e,MN),s=Cl(t);O.useEffect(()=>{if(r){const{edges:o,getNodes:a}=n.getState(),l=a().filter(u=>u.selected),c=o.filter(u=>u.selected);i({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[r]),O.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function AN(e){const t=fe();O.useEffect(()=>{let n;const i=()=>{var s,o;if(!e.current)return;const r=Pm(e.current);(r.height===0||r.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",Ki.error004())),t.setState({width:r.width||500,height:r.height||500})};return i(),window.addEventListener("resize",i),e.current&&(n=new ResizeObserver(()=>i()),n.observe(e.current)),()=>{window.removeEventListener("resize",i),n&&e.current&&n.unobserve(e.current)}},[])}const Hm={position:"absolute",width:"100%",height:"100%",top:0,left:0},DN=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Pc=e=>({x:e.x,y:e.y,zoom:e.k}),zs=(e,t)=>e.target.closest(`.${t}`),M_=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),T_=e=>{const t=e.ctrlKey&&id()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},ON=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),CN=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:i,zoomOnScroll:r=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=as.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:d=!0,defaultViewport:f,translateExtent:h,minZoom:p,maxZoom:y,zoomActivationKeyCode:b,preventScrolling:g=!0,children:m,noWheelClassName:_,noPanClassName:v})=>{const w=O.useRef(),x=fe(),E=O.useRef(!1),D=O.useRef(!1),A=O.useRef(null),C=O.useRef({x:0,y:0,zoom:0}),{d3Zoom:z,d3Selection:U,d3ZoomHandler:$,userSelectionActive:S}=$t(ON,me),k=Cl(b),M=O.useRef(0),L=O.useRef(!1),N=O.useRef();return AN(A),O.useEffect(()=>{if(A.current){const T=A.current.getBoundingClientRect(),R=IS().scaleExtent([p,y]).translateExtent(h),P=xn(A.current).call(R),F=Vi.translate(f.x,f.y).scale(Uo(f.zoom,p,y)),j=[[0,0],[T.width,T.height]],H=R.constrain()(F,j,h);R.transform(P,H),R.wheelDelta(T_),x.setState({d3Zoom:R,d3Selection:P,d3ZoomHandler:P.on("wheel.zoom"),transform:[H.x,H.y,H.k],domNode:A.current.closest(".react-flow")})}},[]),O.useEffect(()=>{U&&z&&(o&&!k&&!S?U.on("wheel.zoom",T=>{if(zs(T,_))return!1;T.preventDefault(),T.stopImmediatePropagation();const R=U.property("__zoom").k||1;if(T.ctrlKey&&s){const Tt=Bn(T),Et=T_(T),wt=R*Math.pow(2,Et);z.scaleTo(U,wt,Tt,T);return}const P=T.deltaMode===1?20:1;let F=l===as.Vertical?0:T.deltaX*P,j=l===as.Horizontal?0:T.deltaY*P;!id()&&T.shiftKey&&l!==as.Vertical&&(F=T.deltaY*P,j=0),z.translateBy(U,-(F/R)*a,-(j/R)*a,{internal:!0});const H=Pc(U.property("__zoom")),{onViewportChangeStart:W,onViewportChange:Q,onViewportChangeEnd:ut}=x.getState();clearTimeout(N.current),L.current||(L.current=!0,t==null||t(T,H),W==null||W(H)),L.current&&(e==null||e(T,H),Q==null||Q(H),N.current=setTimeout(()=>{n==null||n(T,H),ut==null||ut(H),L.current=!1},150))},{passive:!1}):typeof $<"u"&&U.on("wheel.zoom",function(T,R){if(!g&&T.type==="wheel"&&!T.ctrlKey||zs(T,_))return null;T.preventDefault(),$.call(this,T,R)},{passive:!1}))},[S,o,l,U,z,$,k,s,g,_,t,e,n]),O.useEffect(()=>{z&&z.on("start",T=>{var F,j;if(!T.sourceEvent||T.sourceEvent.internal)return null;M.current=(F=T.sourceEvent)==null?void 0:F.button;const{onViewportChangeStart:R}=x.getState(),P=Pc(T.transform);E.current=!0,C.current=P,((j=T.sourceEvent)==null?void 0:j.type)==="mousedown"&&x.setState({paneDragging:!0}),R==null||R(P),t==null||t(T.sourceEvent,P)})},[z,t]),O.useEffect(()=>{z&&(S&&!E.current?z.on("zoom",null):S||z.on("zoom",T=>{var P;const{onViewportChange:R}=x.getState();if(x.setState({transform:[T.transform.x,T.transform.y,T.transform.k]}),D.current=!!(i&&M_(d,M.current??0)),(e||R)&&!((P=T.sourceEvent)!=null&&P.internal)){const F=Pc(T.transform);R==null||R(F),e==null||e(T.sourceEvent,F)}}))},[S,z,e,d,i]),O.useEffect(()=>{z&&z.on("end",T=>{if(!T.sourceEvent||T.sourceEvent.internal)return null;const{onViewportChangeEnd:R}=x.getState();if(E.current=!1,x.setState({paneDragging:!1}),i&&M_(d,M.current??0)&&!D.current&&i(T.sourceEvent),D.current=!1,(n||R)&&DN(C.current,T.transform)){const P=Pc(T.transform);C.current=P,clearTimeout(w.current),w.current=setTimeout(()=>{R==null||R(P),n==null||n(T.sourceEvent,P)},o?150:0)}})},[z,o,d,n,i]),O.useEffect(()=>{z&&z.filter(T=>{const R=k||r,P=s&&T.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&T.button===1&&T.type==="mousedown"&&(zs(T,"react-flow__node")||zs(T,"react-flow__edge")))return!0;if(!d&&!R&&!o&&!c&&!s||S||!c&&T.type==="dblclick"||zs(T,_)&&T.type==="wheel"||zs(T,v)&&(T.type!=="wheel"||o&&T.type==="wheel"&&!k)||!s&&T.ctrlKey&&T.type==="wheel"||!R&&!o&&!P&&T.type==="wheel"||!d&&(T.type==="mousedown"||T.type==="touchstart")||Array.isArray(d)&&!d.includes(T.button)&&T.type==="mousedown")return!1;const F=Array.isArray(d)&&d.includes(T.button)||!T.button||T.button<=1;return(!T.ctrlKey||T.type==="wheel")&&F})},[S,z,r,s,o,c,d,u,k]),B.createElement("div",{className:"react-flow__renderer",ref:A,style:Hm},m)},NN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function RN(){const{userSelectionActive:e,userSelectionRect:t}=$t(NN,me);return e&&t?B.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function A_(e,t){const n=t.parentNode||t.parentId,i=e.find(r=>r.id===n);if(i){const r=t.position.x+t.width-i.width,s=t.position.y+t.height-i.height;if(r>0||s>0||t.position.x<0||t.position.y<0){if(i.style={...i.style},i.style.width=i.style.width??i.width,i.style.height=i.style.height??i.height,r>0&&(i.style.width+=r),s>0&&(i.style.height+=s),t.position.x<0){const o=Math.abs(t.position.x);i.position.x=i.position.x-o,i.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);i.position.y=i.position.y-o,i.style.height+=o,t.position.y=0}i.width=i.style.width,i.height=i.style.height}}}function ix(e,t){if(e.some(i=>i.type==="reset"))return e.filter(i=>i.type==="reset").map(i=>i.item);const n=e.filter(i=>i.type==="add").map(i=>i.item);return t.reduce((i,r)=>{const s=e.filter(a=>a.id===r.id);if(s.length===0)return i.push(r),i;const o={...r};for(const a of s)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&A_(i,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&A_(i,o);break}case"remove":return i}return i.push(o),i},n)}function rx(e,t){return ix(e,t)}function PN(e,t){return ix(e,t)}const ar=(e,t)=>({id:e,type:"select",selected:t});function ho(e,t){return e.reduce((n,i)=>{const r=t.includes(i.id);return!i.selected&&r?(i.selected=!0,n.push(ar(i.id,!0))):i.selected&&!r&&(i.selected=!1,n.push(ar(i.id,!1))),n},[])}const Sh=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},LN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),sx=O.memo(({isSelecting:e,selectionMode:t=Dl.Full,panOnDrag:n,onSelectionStart:i,onSelectionEnd:r,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:d})=>{const f=O.useRef(null),h=fe(),p=O.useRef(0),y=O.useRef(0),b=O.useRef(),{userSelectionActive:g,elementsSelectable:m,dragging:_}=$t(LN,me),v=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,y.current=0},w=$=>{s==null||s($),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},x=$=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){$.preventDefault();return}o==null||o($)},E=a?$=>a($):void 0,D=$=>{const{resetSelectedElements:S,domNode:k}=h.getState();if(b.current=k==null?void 0:k.getBoundingClientRect(),!m||!e||$.button!==0||$.target!==f.current||!b.current)return;const{x:M,y:L}=kr($,b.current);S(),h.setState({userSelectionRect:{width:0,height:0,startX:M,startY:L,x:M,y:L}}),i==null||i($)},A=$=>{const{userSelectionRect:S,nodeInternals:k,edges:M,transform:L,onNodesChange:N,onEdgesChange:T,nodeOrigin:R,getNodes:P}=h.getState();if(!e||!b.current||!S)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const F=kr($,b.current),j=S.startX??0,H=S.startY??0,W={...S,x:F.x<j?F.x:j,y:F.y<H?F.y:H,width:Math.abs(F.x-j),height:Math.abs(F.y-H)},Q=P(),ut=zS(k,W,L,t===Dl.Partial,!0,R),Tt=US(ut,M).map(wt=>wt.id),Et=ut.map(wt=>wt.id);if(p.current!==Et.length){p.current=Et.length;const wt=ho(Q,Et);wt.length&&(N==null||N(wt))}if(y.current!==Tt.length){y.current=Tt.length;const wt=ho(M,Tt);wt.length&&(T==null||T(wt))}h.setState({userSelectionRect:W})},C=$=>{if($.button!==0)return;const{userSelectionRect:S}=h.getState();!g&&S&&$.target===f.current&&(w==null||w($)),h.setState({nodesSelectionActive:p.current>0}),v(),r==null||r($)},z=$=>{g&&(h.setState({nodesSelectionActive:p.current>0}),r==null||r($)),v()},U=m&&(e||g);return B.createElement("div",{className:we(["react-flow__pane",{dragging:_,selection:e}]),onClick:U?void 0:Sh(w,f),onContextMenu:Sh(x,f),onWheel:Sh(E,f),onMouseEnter:U?void 0:l,onMouseDown:U?D:void 0,onMouseMove:U?A:c,onMouseUp:U?C:void 0,onMouseLeave:U?z:u,ref:f,style:Hm},d,B.createElement(RN,null))});sx.displayName="Pane";function ox(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const i=t.get(n);return i?i.selected?!0:ox(i,t):!1}function D_(e,t,n){let i=e;do{if(i!=null&&i.matches(t))return!0;if(i===n.current)return!1;i=i.parentElement}while(i);return!1}function FN(e,t,n,i){return Array.from(e.values()).filter(r=>(r.selected||r.id===i)&&(!r.parentNode||r.parentId||!ox(r,e))&&(r.draggable||t&&typeof r.draggable>"u")).map(r=>{var s,o;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=r.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((o=r.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode||r.parentId,parentId:r.parentNode||r.parentId,width:r.width,height:r.height,expandParent:r.expandParent}})}function BN(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function ax(e,t,n,i,r=[0,0],s){const o=BN(e,e.extent||i);let a=o;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=n.get(l),{x:f,y:h}=fs(d,r).positionAbsolute;a=d&&kn(f)&&kn(h)&&kn(d.width)&&kn(d.height)?[[f+e.width*r[0],h+e.height*r[1]],[f+d.width-e.width+e.width*r[0],h+d.height-e.height+e.height*r[1]]]:a}else s==null||s("005",Ki.error005()),a=o;else if(e.extent&&l&&e.extent!=="parent"){const d=n.get(l),{x:f,y:h}=fs(d,r).positionAbsolute;a=[[e.extent[0][0]+f,e.extent[0][1]+h],[e.extent[1][0]+f,e.extent[1][1]+h]]}let c={x:0,y:0};if(l){const d=n.get(l);c=fs(d,r).positionAbsolute}const u=a&&a!=="parent"?Lm(t,a):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function xh({nodeId:e,dragItems:t,nodeInternals:n}){const i=t.map(r=>({...n.get(r.id),position:r.position,positionAbsolute:r.positionAbsolute}));return[e?i.find(r=>r.id===e):i[0],i]}const O_=(e,t,n,i)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const s=Array.from(r),o=t.getBoundingClientRect(),a={x:o.width*i[0],y:o.height*i[1]};return s.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-o.left-a.x)/n,y:(c.top-o.top-a.y)/n,...Pm(l)}})};function ya(e,t,n){return n===void 0?n:i=>{const r=t().nodeInternals.get(e);r&&n(i,{...r})}}function og({id:e,store:t,unselect:n=!1,nodeRef:i}){const{addSelectedNodes:r,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:a,onError:l}=t.getState(),c=a.get(e);if(!c){l==null||l("012",Ki.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=i==null?void 0:i.current)==null?void 0:u.blur()})):r([e])}function zN(){const e=fe();return O.useCallback(({sourceEvent:n})=>{const{transform:i,snapGrid:r,snapToGrid:s}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-i[0])/i[2],y:(a-i[1])/i[2]};return{xSnapped:s?r[0]*Math.round(l.x/r[0]):l.x,ySnapped:s?r[1]*Math.round(l.y/r[1]):l.y,...l}},[])}function Eh(e){return(t,n,i)=>e==null?void 0:e(t,i)}function lx({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:i,nodeId:r,isSelectable:s,selectNodesOnDrag:o}){const a=fe(),[l,c]=O.useState(!1),u=O.useRef([]),d=O.useRef({x:null,y:null}),f=O.useRef(0),h=O.useRef(null),p=O.useRef({x:0,y:0}),y=O.useRef(null),b=O.useRef(!1),g=O.useRef(!1),m=O.useRef(!1),_=zN();return O.useEffect(()=>{if(e!=null&&e.current){const v=xn(e.current),w=({x:D,y:A})=>{const{nodeInternals:C,onNodeDrag:z,onSelectionDrag:U,updateNodePositions:$,nodeExtent:S,snapGrid:k,snapToGrid:M,nodeOrigin:L,onError:N}=a.getState();d.current={x:D,y:A};let T=!1,R={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&S){const F=_f(u.current,L);R=Al(F)}if(u.current=u.current.map(F=>{const j={x:D-F.distance.x,y:A-F.distance.y};M&&(j.x=k[0]*Math.round(j.x/k[0]),j.y=k[1]*Math.round(j.y/k[1]));const H=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];u.current.length>1&&S&&!F.extent&&(H[0][0]=F.positionAbsolute.x-R.x+S[0][0],H[1][0]=F.positionAbsolute.x+(F.width??0)-R.x2+S[1][0],H[0][1]=F.positionAbsolute.y-R.y+S[0][1],H[1][1]=F.positionAbsolute.y+(F.height??0)-R.y2+S[1][1]);const W=ax(F,j,C,H,L,N);return T=T||F.position.x!==W.position.x||F.position.y!==W.position.y,F.position=W.position,F.positionAbsolute=W.positionAbsolute,F}),!T)return;$(u.current,!0,!0),c(!0);const P=r?z:Eh(U);if(P&&y.current){const[F,j]=xh({nodeId:r,dragItems:u.current,nodeInternals:C});P(y.current,F,j)}},x=()=>{if(!h.current)return;const[D,A]=MS(p.current,h.current);if(D!==0||A!==0){const{transform:C,panBy:z}=a.getState();d.current.x=(d.current.x??0)-D/C[2],d.current.y=(d.current.y??0)-A/C[2],z({x:D,y:A})&&w(d.current)}f.current=requestAnimationFrame(x)},E=D=>{var L;const{nodeInternals:A,multiSelectionActive:C,nodesDraggable:z,unselectNodesAndEdges:U,onNodeDragStart:$,onSelectionDragStart:S}=a.getState();g.current=!0;const k=r?$:Eh(S);(!o||!s)&&!C&&r&&((L=A.get(r))!=null&&L.selected||U()),r&&s&&o&&og({id:r,store:a,nodeRef:e});const M=_(D);if(d.current=M,u.current=FN(A,z,M,r),k&&u.current){const[N,T]=xh({nodeId:r,dragItems:u.current,nodeInternals:A});k(D.sourceEvent,N,T)}};if(t)v.on(".drag",null);else{const D=qD().on("start",A=>{const{domNode:C,nodeDragThreshold:z}=a.getState();z===0&&E(A),m.current=!1;const U=_(A);d.current=U,h.current=(C==null?void 0:C.getBoundingClientRect())||null,p.current=kr(A.sourceEvent,h.current)}).on("drag",A=>{var $,S;const C=_(A),{autoPanOnNodeDrag:z,nodeDragThreshold:U}=a.getState();if(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!b.current&&g.current&&z&&(b.current=!0,x()),!g.current){const k=C.xSnapped-((($=d==null?void 0:d.current)==null?void 0:$.x)??0),M=C.ySnapped-(((S=d==null?void 0:d.current)==null?void 0:S.y)??0);Math.sqrt(k*k+M*M)>U&&E(A)}(d.current.x!==C.xSnapped||d.current.y!==C.ySnapped)&&u.current&&g.current&&(y.current=A.sourceEvent,p.current=kr(A.sourceEvent,h.current),w(C))}}).on("end",A=>{if(!(!g.current||m.current)&&(c(!1),b.current=!1,g.current=!1,cancelAnimationFrame(f.current),u.current)){const{updateNodePositions:C,nodeInternals:z,onNodeDragStop:U,onSelectionDragStop:$}=a.getState(),S=r?U:Eh($);if(C(u.current,!1,!1),S){const[k,M]=xh({nodeId:r,dragItems:u.current,nodeInternals:z});S(A.sourceEvent,k,M)}}}).filter(A=>{const C=A.target;return!A.button&&(!n||!D_(C,`.${n}`,e))&&(!i||D_(C,i,e))});return v.call(D),()=>{v.on(".drag",null)}}}},[e,t,n,i,s,a,r,o,_]),l}function cx(){const e=fe();return O.useCallback(n=>{const{nodeInternals:i,nodeExtent:r,updateNodePositions:s,getNodes:o,snapToGrid:a,snapGrid:l,onError:c,nodesDraggable:u}=e.getState(),d=o().filter(m=>m.selected&&(m.draggable||u&&typeof m.draggable>"u")),f=a?l[0]:5,h=a?l[1]:5,p=n.isShiftPressed?4:1,y=n.x*f*p,b=n.y*h*p,g=d.map(m=>{if(m.positionAbsolute){const _={x:m.positionAbsolute.x+y,y:m.positionAbsolute.y+b};a&&(_.x=l[0]*Math.round(_.x/l[0]),_.y=l[1]*Math.round(_.y/l[1]));const{positionAbsolute:v,position:w}=ax(m,_,i,r,void 0,c);m.position=w,m.positionAbsolute=v}return m});s(g,!0,!1)},[])}const Eo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var _a=e=>{const t=({id:n,type:i,data:r,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onContextMenu:p,onDoubleClick:y,style:b,className:g,isDraggable:m,isSelectable:_,isConnectable:v,isFocusable:w,selectNodesOnDrag:x,sourcePosition:E,targetPosition:D,hidden:A,resizeObserver:C,dragHandle:z,zIndex:U,isParent:$,noDragClassName:S,noPanClassName:k,initialized:M,disableKeyboardA11y:L,ariaLabel:N,rfId:T,hasHandleBounds:R})=>{const P=fe(),F=O.useRef(null),j=O.useRef(null),H=O.useRef(E),W=O.useRef(D),Q=O.useRef(i),ut=_||m||u||d||f||h,Tt=cx(),Et=ya(n,P.getState,d),wt=ya(n,P.getState,f),ye=ya(n,P.getState,h),oe=ya(n,P.getState,p),Ne=ya(n,P.getState,y),Se=Rt=>{const{nodeDragThreshold:K}=P.getState();if(_&&(!x||!m||K>0)&&og({id:n,store:P,nodeRef:F}),u){const Re=P.getState().nodeInternals.get(n);Re&&u(Rt,{...Re})}},ee=Rt=>{if(!eg(Rt)&&!L)if(OS.includes(Rt.key)&&_){const K=Rt.key==="Escape";og({id:n,store:P,unselect:K,nodeRef:F})}else m&&c&&Object.prototype.hasOwnProperty.call(Eo,Rt.key)&&(P.setState({ariaLiveMessage:`Moved selected node ${Rt.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),Tt({x:Eo[Rt.key].x,y:Eo[Rt.key].y,isShiftPressed:Rt.shiftKey}))};O.useEffect(()=>()=>{j.current&&(C==null||C.unobserve(j.current),j.current=null)},[]),O.useEffect(()=>{if(F.current&&!A){const Rt=F.current;(!M||!R||j.current!==Rt)&&(j.current&&(C==null||C.unobserve(j.current)),C==null||C.observe(Rt),j.current=Rt)}},[A,M,R]),O.useEffect(()=>{const Rt=Q.current!==i,K=H.current!==E,Re=W.current!==D;F.current&&(Rt||K||Re)&&(Rt&&(Q.current=i),K&&(H.current=E),Re&&(W.current=D),P.getState().updateNodeDimensions([{id:n,nodeElement:F.current,forceUpdate:!0}]))},[n,i,E,D]);const en=lx({nodeRef:F,disabled:A||!m,noDragClassName:S,handleSelector:z,nodeId:n,isSelectable:_,selectNodesOnDrag:x});return A?null:B.createElement("div",{className:we(["react-flow__node",`react-flow__node-${i}`,{[k]:m},g,{selected:c,selectable:_,parent:$,dragging:en}]),ref:F,style:{zIndex:U,transform:`translate(${a}px,${l}px)`,pointerEvents:ut?"all":"none",visibility:M?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Et,onMouseMove:wt,onMouseLeave:ye,onContextMenu:oe,onClick:Se,onDoubleClick:Ne,onKeyDown:w?ee:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":L?void 0:`${ZS}-${T}`,"aria-label":N},B.createElement(tN,{value:n},B.createElement(e,{id:n,data:r,type:i,xPos:s,yPos:o,selected:c,isConnectable:v,sourcePosition:E,targetPosition:D,dragging:en,dragHandle:z,zIndex:U})))};return t.displayName="NodeWrapper",O.memo(t)};const UN=e=>{const t=e.getNodes().filter(n=>n.selected);return{..._f(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function $N({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const i=fe(),{width:r,height:s,x:o,y:a,transformString:l,userSelectionActive:c}=$t(UN,me),u=cx(),d=O.useRef(null);if(O.useEffect(()=>{var p;n||(p=d.current)==null||p.focus({preventScroll:!0})},[n]),lx({nodeRef:d}),c||!r||!s)return null;const f=e?p=>{const y=i.getState().getNodes().filter(b=>b.selected);e(p,y)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(Eo,p.key)&&u({x:Eo[p.key].x,y:Eo[p.key].y,isShiftPressed:p.shiftKey})};return B.createElement("div",{className:we(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},B.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:r,height:s,top:a,left:o}}))}var VN=O.memo($N);const jN=e=>e.nodesSelectionActive,ux=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:r,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:b,panActivationKeyCode:g,zoomActivationKeyCode:m,elementsSelectable:_,zoomOnScroll:v,zoomOnPinch:w,panOnScroll:x,panOnScrollSpeed:E,panOnScrollMode:D,zoomOnDoubleClick:A,panOnDrag:C,defaultViewport:z,translateExtent:U,minZoom:$,maxZoom:S,preventScrolling:k,onSelectionContextMenu:M,noWheelClassName:L,noPanClassName:N,disableKeyboardA11y:T})=>{const R=$t(jN),P=Cl(d),F=Cl(g),j=F||C,H=F||x,W=P||f&&j!==!0;return TN({deleteKeyCode:a,multiSelectionKeyCode:b}),B.createElement(CN,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:s,elementsSelectable:_,zoomOnScroll:v,zoomOnPinch:w,panOnScroll:H,panOnScrollSpeed:E,panOnScrollMode:D,zoomOnDoubleClick:A,panOnDrag:!P&&j,defaultViewport:z,translateExtent:U,minZoom:$,maxZoom:S,zoomActivationKeyCode:m,preventScrolling:k,noWheelClassName:L,noPanClassName:N},B.createElement(sx,{onSelectionStart:p,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:r,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:j,isSelecting:!!W,selectionMode:h},e,R&&B.createElement(VN,{onSelectionContextMenu:M,noPanClassName:N,disableKeyboardA11y:T})))};ux.displayName="FlowRenderer";var HN=O.memo(ux);function WN(e){return $t(O.useCallback(n=>e?zS(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function YN(e){const t={input:_a(e.input||KS),default:_a(e.default||sg),output:_a(e.output||QS),group:_a(e.group||Vm)},n={},i=Object.keys(e).filter(r=>!["input","default","output","group"].includes(r)).reduce((r,s)=>(r[s]=_a(e[s]||sg),r),n);return{...t,...i}}const XN=({x:e,y:t,width:n,height:i,origin:r})=>!n||!i?{x:e,y:t}:r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-i*r[1]},KN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),dx=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:r,updateNodeDimensions:s,onError:o}=$t(KN,me),a=WN(e.onlyRenderVisibleElements),l=O.useRef(),c=O.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(d=>{const f=d.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));s(f)});return l.current=u,u},[]);return O.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),B.createElement("div",{className:"react-flow__nodes",style:Hm},a.map(u=>{var w,x,E;let d=u.type||"default";e.nodeTypes[d]||(o==null||o("003",Ki.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,h=!!(u.draggable||t&&typeof u.draggable>"u"),p=!!(u.selectable||r&&typeof u.selectable>"u"),y=!!(u.connectable||n&&typeof u.connectable>"u"),b=!!(u.focusable||i&&typeof u.focusable>"u"),g=e.nodeExtent?Lm(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,m=(g==null?void 0:g.x)??0,_=(g==null?void 0:g.y)??0,v=XN({x:m,y:_,width:u.width??0,height:u.height??0,origin:e.nodeOrigin});return B.createElement(f,{key:u.id,id:u.id,className:u.className,style:u.style,type:d,data:u.data,sourcePosition:u.sourcePosition||G.Bottom,targetPosition:u.targetPosition||G.Top,hidden:u.hidden,xPos:m,yPos:_,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:h,isSelectable:p,isConnectable:y,isFocusable:b,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((w=u[Jt])==null?void 0:w.z)??0,isParent:!!((x=u[Jt])!=null&&x.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel,hasHandleBounds:!!((E=u[Jt])!=null&&E.handleBounds)})}))};dx.displayName="NodeRenderer";var GN=O.memo(dx);const QN=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,qN=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,C_="react-flow__edgeupdater",N_=({position:e,centerX:t,centerY:n,radius:i=10,onMouseDown:r,onMouseEnter:s,onMouseOut:o,type:a})=>B.createElement("circle",{onMouseDown:r,onMouseEnter:s,onMouseOut:o,className:we([C_,`${C_}-${a}`]),cx:QN(t,i,e),cy:qN(n,i,e),r:i,stroke:"transparent",fill:"transparent"}),ZN=()=>!0;var Us=e=>{const t=({id:n,className:i,type:r,data:s,onClick:o,onEdgeDoubleClick:a,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:b,source:g,target:m,sourceX:_,sourceY:v,targetX:w,targetY:x,sourcePosition:E,targetPosition:D,elementsSelectable:A,hidden:C,sourceHandleId:z,targetHandleId:U,onContextMenu:$,onMouseEnter:S,onMouseMove:k,onMouseLeave:M,reconnectRadius:L,onReconnect:N,onReconnectStart:T,onReconnectEnd:R,markerEnd:P,markerStart:F,rfId:j,ariaLabel:H,isFocusable:W,isReconnectable:Q,pathOptions:ut,interactionWidth:Tt,disableKeyboardA11y:Et})=>{const wt=O.useRef(null),[ye,oe]=O.useState(!1),[Ne,Se]=O.useState(!1),ee=fe(),en=O.useMemo(()=>`url('#${ig(F,j)}')`,[F,j]),Rt=O.useMemo(()=>`url('#${ig(P,j)}')`,[P,j]);if(C)return null;const K=xe=>{var Zn;const{edges:Rn,addSelectedEdges:Wr,unselectNodesAndEdges:Yr,multiSelectionActive:Xr}=ee.getState(),Si=Rn.find(ra=>ra.id===n);Si&&(A&&(ee.setState({nodesSelectionActive:!1}),Si.selected&&Xr?(Yr({nodes:[],edges:[Si]}),(Zn=wt.current)==null||Zn.blur()):Wr([n])),o&&o(xe,Si))},Re=ma(n,ee.getState,a),bi=ma(n,ee.getState,$),na=ma(n,ee.getState,S),Os=ma(n,ee.getState,k),Cs=ma(n,ee.getState,M),wi=(xe,Rn)=>{if(xe.button!==0)return;const{edges:Wr,isValidConnection:Yr}=ee.getState(),Xr=Rn?m:g,Si=(Rn?U:z)||null,Zn=Rn?"target":"source",ra=Yr||ZN,Uf=Rn,sa=Wr.find(Kr=>Kr.id===n);Se(!0),T==null||T(xe,sa,Zn);const $f=Kr=>{Se(!1),R==null||R(Kr,sa,Zn)};HS({event:xe,handleId:Si,nodeId:Xr,onConnect:Kr=>N==null?void 0:N(sa,Kr),isTarget:Uf,getState:ee.getState,setState:ee.setState,isValidConnection:ra,edgeUpdaterType:Zn,onReconnectEnd:$f})},Ns=xe=>wi(xe,!0),jr=xe=>wi(xe,!1),Hr=()=>oe(!0),Rs=()=>oe(!1),Ps=!A&&!o,ia=xe=>{var Rn;if(!Et&&OS.includes(xe.key)&&A){const{unselectNodesAndEdges:Wr,addSelectedEdges:Yr,edges:Xr}=ee.getState();xe.key==="Escape"?((Rn=wt.current)==null||Rn.blur(),Wr({edges:[Xr.find(Zn=>Zn.id===n)]})):Yr([n])}};return B.createElement("g",{className:we(["react-flow__edge",`react-flow__edge-${r}`,i,{selected:l,animated:c,inactive:Ps,updating:ye}]),onClick:K,onDoubleClick:Re,onContextMenu:bi,onMouseEnter:na,onMouseMove:Os,onMouseLeave:Cs,onKeyDown:W?ia:void 0,tabIndex:W?0:void 0,role:W?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":H===null?void 0:H||`Edge from ${g} to ${m}`,"aria-describedby":W?`${JS}-${j}`:void 0,ref:wt},!Ne&&B.createElement(e,{id:n,source:g,target:m,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,data:s,style:b,sourceX:_,sourceY:v,targetX:w,targetY:x,sourcePosition:E,targetPosition:D,sourceHandleId:z,targetHandleId:U,markerStart:en,markerEnd:Rt,pathOptions:ut,interactionWidth:Tt}),Q&&B.createElement(B.Fragment,null,(Q==="source"||Q===!0)&&B.createElement(N_,{position:E,centerX:_,centerY:v,radius:L,onMouseDown:Ns,onMouseEnter:Hr,onMouseOut:Rs,type:"source"}),(Q==="target"||Q===!0)&&B.createElement(N_,{position:D,centerX:w,centerY:x,radius:L,onMouseDown:jr,onMouseEnter:Hr,onMouseOut:Rs,type:"target"})))};return t.displayName="EdgeWrapper",O.memo(t)};function JN(e){const t={default:Us(e.default||rd),straight:Us(e.bezier||zm),step:Us(e.step||Bm),smoothstep:Us(e.step||yf),simplebezier:Us(e.simplebezier||Fm)},n={},i=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,s)=>(r[s]=Us(e[s]||rd),r),n);return{...t,...i}}function R_(e,t,n=null){const i=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case G.Top:return{x:i+s/2,y:r};case G.Right:return{x:i+s,y:r+o/2};case G.Bottom:return{x:i+s/2,y:r+o};case G.Left:return{x:i,y:r+o/2}}}function P_(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const tR=(e,t,n,i,r,s)=>{const o=R_(n,e,t),a=R_(s,i,r);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function eR({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:i,targetWidth:r,targetHeight:s,width:o,height:a,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+i,t.y+s)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=Al({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),f=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*f)>0}function L_(e){var i,r,s,o,a;const t=((i=e==null?void 0:e[Jt])==null?void 0:i.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((r=e==null?void 0:e.positionAbsolute)==null?void 0:r.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const nR=[{level:0,isMaxLevel:!0,edges:[]}];function iR(e,t,n=!1){let i=-1;const r=e.reduce((o,a)=>{var u,d;const l=kn(a.zIndex);let c=l?a.zIndex:0;if(n){const f=t.get(a.target),h=t.get(a.source),p=a.selected||(f==null?void 0:f.selected)||(h==null?void 0:h.selected),y=Math.max(((u=h==null?void 0:h[Jt])==null?void 0:u.z)||0,((d=f==null?void 0:f[Jt])==null?void 0:d.z)||0,1e3);c=(l?a.zIndex:0)+(p?y:0)}return o[c]?o[c].push(a):o[c]=[a],i=c>i?c:i,o},{}),s=Object.entries(r).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===i}});return s.length===0?nR:s}function rR(e,t,n){const i=$t(O.useCallback(r=>e?r.edges.filter(s=>{const o=t.get(s.source),a=t.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&eR({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:r.width,height:r.height,transform:r.transform})}):r.edges,[e,t]));return iR(i,t,n)}const sR=({color:e="none",strokeWidth:t=1})=>B.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),oR=({color:e="none",strokeWidth:t=1})=>B.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),F_={[Ol.Arrow]:sR,[Ol.ArrowClosed]:oR};function aR(e){const t=fe();return O.useMemo(()=>{var r,s;return Object.prototype.hasOwnProperty.call(F_,e)?F_[e]:((s=(r=t.getState()).onError)==null||s.call(r,"009",Ki.error009(e)),null)},[e])}const lR=({id:e,type:t,color:n,width:i=12.5,height:r=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=aR(t);return l?B.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},B.createElement(l,{color:n,strokeWidth:o})):null},cR=({defaultColor:e,rfId:t})=>n=>{const i=[];return n.edges.reduce((r,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=ig(o,t);i.includes(a)||(r.push({id:a,color:o.color||e,...o}),i.push(a))}}),r),[]).sort((r,s)=>r.id.localeCompare(s.id))},fx=({defaultColor:e,rfId:t})=>{const n=$t(O.useCallback(cR({defaultColor:e,rfId:t}),[e,t]),(i,r)=>!(i.length!==r.length||i.some((s,o)=>s.id!==r[o].id)));return B.createElement("defs",null,n.map(i=>B.createElement(lR,{id:i.id,key:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient})))};fx.displayName="MarkerDefinitions";var uR=O.memo(fx);const dR=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),hx=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:i,edgeTypes:r,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:y,children:b,disableKeyboardA11y:g})=>{const{edgesFocusable:m,edgesUpdatable:_,elementsSelectable:v,width:w,height:x,connectionMode:E,nodeInternals:D,onError:A}=$t(dR,me),C=rR(t,D,n);return w?B.createElement(B.Fragment,null,C.map(({level:z,edges:U,isMaxLevel:$})=>B.createElement("svg",{key:z,style:{zIndex:z},width:w,height:x,className:"react-flow__edges react-flow__container"},$&&B.createElement(uR,{defaultColor:e,rfId:i}),B.createElement("g",null,U.map(S=>{const[k,M,L]=L_(D.get(S.source)),[N,T,R]=L_(D.get(S.target));if(!L||!R)return null;let P=S.type||"default";r[P]||(A==null||A("011",Ki.error011(P)),P="default");const F=r[P]||r.default,j=E===Ss.Strict?T.target:(T.target??[]).concat(T.source??[]),H=P_(M.source,S.sourceHandle),W=P_(j,S.targetHandle),Q=(H==null?void 0:H.position)||G.Bottom,ut=(W==null?void 0:W.position)||G.Top,Tt=!!(S.focusable||m&&typeof S.focusable>"u"),Et=S.reconnectable||S.updatable,wt=typeof f<"u"&&(Et||_&&typeof Et>"u");if(!H||!W)return A==null||A("008",Ki.error008(H,S)),null;const{sourceX:ye,sourceY:oe,targetX:Ne,targetY:Se}=tR(k,H,Q,N,W,ut);return B.createElement(F,{key:S.id,id:S.id,className:we([S.className,s]),type:P,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:ye,sourceY:oe,targetX:Ne,targetY:Se,sourcePosition:Q,targetPosition:ut,elementsSelectable:v,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:y,rfId:i,ariaLabel:S.ariaLabel,isFocusable:Tt,isReconnectable:wt,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:g})})))),b):null};hx.displayName="EdgeRenderer";var fR=O.memo(hx);const hR=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function pR({children:e}){const t=$t(hR);return B.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function gR(e){const t=jm(),n=O.useRef(!1);O.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const mR={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top},px=({nodeId:e,handleType:t,style:n,type:i=fr.Bezier,CustomComponent:r,connectionStatus:s})=>{var x,E,D;const{fromNode:o,handleId:a,toX:l,toY:c,connectionMode:u}=$t(O.useCallback(A=>({fromNode:A.nodeInternals.get(e),handleId:A.connectionHandleId,toX:(A.connectionPosition.x-A.transform[0])/A.transform[2],toY:(A.connectionPosition.y-A.transform[1])/A.transform[2],connectionMode:A.connectionMode}),[e]),me),d=(x=o==null?void 0:o[Jt])==null?void 0:x.handleBounds;let f=d==null?void 0:d[t];if(u===Ss.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!o||!f)return null;const h=a?f.find(A=>A.id===a):f[0],p=h?h.x+h.width/2:(o.width??0)/2,y=h?h.y+h.height/2:o.height??0,b=(((E=o.positionAbsolute)==null?void 0:E.x)??0)+p,g=(((D=o.positionAbsolute)==null?void 0:D.y)??0)+y,m=h==null?void 0:h.position,_=m?mR[m]:null;if(!m||!_)return null;if(r)return B.createElement(r,{connectionLineType:i,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:b,fromY:g,toX:l,toY:c,fromPosition:m,toPosition:_,connectionStatus:s});let v="";const w={sourceX:b,sourceY:g,sourcePosition:m,targetX:l,targetY:c,targetPosition:_};return i===fr.Bezier?[v]=LS(w):i===fr.Step?[v]=ng({...w,borderRadius:0}):i===fr.SmoothStep?[v]=ng(w):i===fr.SimpleBezier?[v]=PS(w):v=`M${b},${g} ${l},${c}`,B.createElement("path",{d:v,fill:"none",className:"react-flow__connection-path",style:n})};px.displayName="ConnectionLine";const yR=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function _R({containerStyle:e,style:t,type:n,component:i}){const{nodeId:r,handleType:s,nodesConnectable:o,width:a,height:l,connectionStatus:c}=$t(yR,me);return!(r&&s&&a&&o)?null:B.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},B.createElement("g",{className:we(["react-flow__connection",c])},B.createElement(px,{nodeId:r,handleType:s,style:t,type:n,CustomComponent:i,connectionStatus:c})))}function B_(e,t){return O.useRef(null),fe(),O.useMemo(()=>t(e),[e])}const gx=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:i,onMoveEnd:r,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:y,onSelectionEnd:b,connectionLineType:g,connectionLineStyle:m,connectionLineComponent:_,connectionLineContainerStyle:v,selectionKeyCode:w,selectionOnDrag:x,selectionMode:E,multiSelectionKeyCode:D,panActivationKeyCode:A,zoomActivationKeyCode:C,deleteKeyCode:z,onlyRenderVisibleElements:U,elementsSelectable:$,selectNodesOnDrag:S,defaultViewport:k,translateExtent:M,minZoom:L,maxZoom:N,preventScrolling:T,defaultMarkerColor:R,zoomOnScroll:P,zoomOnPinch:F,panOnScroll:j,panOnScrollSpeed:H,panOnScrollMode:W,zoomOnDoubleClick:Q,panOnDrag:ut,onPaneClick:Tt,onPaneMouseEnter:Et,onPaneMouseMove:wt,onPaneMouseLeave:ye,onPaneScroll:oe,onPaneContextMenu:Ne,onEdgeContextMenu:Se,onEdgeMouseEnter:ee,onEdgeMouseMove:en,onEdgeMouseLeave:Rt,onReconnect:K,onReconnectStart:Re,onReconnectEnd:bi,reconnectRadius:na,noDragClassName:Os,noWheelClassName:Cs,noPanClassName:wi,elevateEdgesOnSelect:Ns,disableKeyboardA11y:jr,nodeOrigin:Hr,nodeExtent:Rs,rfId:Ps})=>{const ia=B_(e,YN),xe=B_(t,JN);return gR(s),B.createElement(HN,{onPaneClick:Tt,onPaneMouseEnter:Et,onPaneMouseMove:wt,onPaneMouseLeave:ye,onPaneContextMenu:Ne,onPaneScroll:oe,deleteKeyCode:z,selectionKeyCode:w,selectionOnDrag:x,selectionMode:E,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:D,panActivationKeyCode:A,zoomActivationKeyCode:C,elementsSelectable:$,onMove:n,onMoveStart:i,onMoveEnd:r,zoomOnScroll:P,zoomOnPinch:F,zoomOnDoubleClick:Q,panOnScroll:j,panOnScrollSpeed:H,panOnScrollMode:W,panOnDrag:ut,defaultViewport:k,translateExtent:M,minZoom:L,maxZoom:N,onSelectionContextMenu:p,preventScrolling:T,noDragClassName:Os,noWheelClassName:Cs,noPanClassName:wi,disableKeyboardA11y:jr},B.createElement(pR,null,B.createElement(fR,{edgeTypes:xe,onEdgeClick:a,onEdgeDoubleClick:c,onlyRenderVisibleElements:U,onEdgeContextMenu:Se,onEdgeMouseEnter:ee,onEdgeMouseMove:en,onEdgeMouseLeave:Rt,onReconnect:K,onReconnectStart:Re,onReconnectEnd:bi,reconnectRadius:na,defaultMarkerColor:R,noPanClassName:wi,elevateEdgesOnSelect:!!Ns,disableKeyboardA11y:jr,rfId:Ps},B.createElement(_R,{style:m,type:g,component:_,containerStyle:v})),B.createElement("div",{className:"react-flow__edgelabel-renderer"}),B.createElement(GN,{nodeTypes:ia,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,selectNodesOnDrag:S,onlyRenderVisibleElements:U,noPanClassName:wi,noDragClassName:Os,disableKeyboardA11y:jr,nodeOrigin:Hr,nodeExtent:Rs,rfId:Ps})))};gx.displayName="GraphView";var vR=O.memo(gx);const ag=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],tr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:ag,nodeExtent:ag,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ss.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:KC,isValidConnection:void 0},bR=()=>cA((e,t)=>({...tr,setNodes:n=>{const{nodeInternals:i,nodeOrigin:r,elevateNodesOnSelect:s}=t();e({nodeInternals:wh(n,i,r,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:i={}}=t();e({edges:n.map(r=>({...i,...r}))})},setDefaultNodesAndEdges:(n,i)=>{const r=typeof n<"u",s=typeof i<"u",o=r?wh(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?i:[],hasDefaultNodes:r,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:i,nodeInternals:r,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:c}=t(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce((y,b)=>{const g=r.get(b.id);if(g!=null&&g.hidden)r.set(g.id,{...g,[Jt]:{...g[Jt],handleBounds:void 0}});else if(g){const m=Pm(b.nodeElement);!!(m.width&&m.height&&(g.width!==m.width||g.height!==m.height||b.forceUpdate))&&(r.set(g.id,{...g,[Jt]:{...g[Jt],handleBounds:{source:O_(".source",b.nodeElement,f,c),target:O_(".target",b.nodeElement,f,c)}},...m}),y.push({id:g.id,type:"dimensions",dimensions:m}))}return y},[]);ex(r,c);const p=o||s&&!o&&nx(t,{initial:!0,...a});e({nodeInternals:new Map(r),fitViewOnInitDone:p}),(h==null?void 0:h.length)>0&&(i==null||i(h))},updateNodePositions:(n,i=!0,r=!1)=>{const{triggerNodeChanges:s}=t(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:r};return i&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});s(o)},triggerNodeChanges:n=>{const{onNodesChange:i,nodeInternals:r,hasDefaultNodes:s,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(s){const c=rx(n,a()),u=wh(c,r,o,l);e({nodeInternals:u})}i==null||i(n)}},addSelectedNodes:n=>{const{multiSelectionActive:i,edges:r,getNodes:s}=t();let o,a=null;i?o=n.map(l=>ar(l,!0)):(o=ho(s(),n),a=ho(r,[])),Rc({changedNodes:o,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:i,edges:r,getNodes:s}=t();let o,a=null;i?o=n.map(l=>ar(l,!0)):(o=ho(r,n),a=ho(s(),[])),Rc({changedNodes:a,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:i}={})=>{const{edges:r,getNodes:s}=t(),o=n||s(),a=i||r,l=o.map(u=>(u.selected=!1,ar(u.id,!1))),c=a.map(u=>ar(u.id,!1));Rc({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:i,maxZoom:r}=t();i==null||i.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:i,minZoom:r}=t();i==null||i.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var i;(i=t().d3Zoom)==null||i.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:i}=t(),s=i().filter(a=>a.selected).map(a=>ar(a.id,!1)),o=n.filter(a=>a.selected).map(a=>ar(a.id,!1));Rc({changedNodes:s,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:i}=t();i.forEach(r=>{r.positionAbsolute=Lm(r.position,n)}),e({nodeExtent:n,nodeInternals:new Map(i)})},panBy:n=>{const{transform:i,width:r,height:s,d3Zoom:o,d3Selection:a,translateExtent:l}=t();if(!o||!a||!n.x&&!n.y)return!1;const c=Vi.translate(i[0]+n.x,i[1]+n.y).scale(i[2]),u=[[0,0],[r,s]],d=o==null?void 0:o.constrain()(c,u,l);return o.transform(a,d),i[0]!==d.x||i[1]!==d.y||i[2]!==d.k},cancelConnection:()=>e({connectionNodeId:tr.connectionNodeId,connectionHandleId:tr.connectionHandleId,connectionHandleType:tr.connectionHandleType,connectionStatus:tr.connectionStatus,connectionStartHandle:tr.connectionStartHandle,connectionEndHandle:tr.connectionEndHandle}),reset:()=>e({...tr})}),Object.is),mx=({children:e})=>{const t=O.useRef(null);return t.current||(t.current=bR()),B.createElement($C,{value:t.current},e)};mx.displayName="ReactFlowProvider";const yx=({children:e})=>O.useContext(mf)?B.createElement(B.Fragment,null,e):B.createElement(mx,null,e);yx.displayName="ReactFlowWrapper";const wR={input:KS,default:sg,output:QS,group:Vm},SR={default:rd,straight:zm,step:Bm,smoothstep:yf,simplebezier:Fm},xR=[0,0],ER=[15,15],IR={x:0,y:0,zoom:1},kR={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},_x=O.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,className:r,nodeTypes:s=wR,edgeTypes:o=SR,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:f,onConnect:h,onConnectStart:p,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:g,onNodeMouseEnter:m,onNodeMouseMove:_,onNodeMouseLeave:v,onNodeContextMenu:w,onNodeDoubleClick:x,onNodeDragStart:E,onNodeDrag:D,onNodeDragStop:A,onNodesDelete:C,onEdgesDelete:z,onSelectionChange:U,onSelectionDragStart:$,onSelectionDrag:S,onSelectionDragStop:k,onSelectionContextMenu:M,onSelectionStart:L,onSelectionEnd:N,connectionMode:T=Ss.Strict,connectionLineType:R=fr.Bezier,connectionLineStyle:P,connectionLineComponent:F,connectionLineContainerStyle:j,deleteKeyCode:H="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:Q=!1,selectionMode:ut=Dl.Full,panActivationKeyCode:Tt="Space",multiSelectionKeyCode:Et=id()?"Meta":"Control",zoomActivationKeyCode:wt=id()?"Meta":"Control",snapToGrid:ye=!1,snapGrid:oe=ER,onlyRenderVisibleElements:Ne=!1,selectNodesOnDrag:Se=!0,nodesDraggable:ee,nodesConnectable:en,nodesFocusable:Rt,nodeOrigin:K=xR,edgesFocusable:Re,edgesUpdatable:bi,elementsSelectable:na,defaultViewport:Os=IR,minZoom:Cs=.5,maxZoom:wi=2,translateExtent:Ns=ag,preventScrolling:jr=!0,nodeExtent:Hr,defaultMarkerColor:Rs="#b1b1b7",zoomOnScroll:Ps=!0,zoomOnPinch:ia=!0,panOnScroll:xe=!1,panOnScrollSpeed:Rn=.5,panOnScrollMode:Wr=as.Free,zoomOnDoubleClick:Yr=!0,panOnDrag:Xr=!0,onPaneClick:Si,onPaneMouseEnter:Zn,onPaneMouseMove:ra,onPaneMouseLeave:Uf,onPaneScroll:sa,onPaneContextMenu:$f,children:Fy,onEdgeContextMenu:Kr,onEdgeDoubleClick:Rk,onEdgeMouseEnter:Pk,onEdgeMouseMove:Lk,onEdgeMouseLeave:Fk,onEdgeUpdate:Bk,onEdgeUpdateStart:zk,onEdgeUpdateEnd:Uk,onReconnect:$k,onReconnectStart:Vk,onReconnectEnd:jk,reconnectRadius:Hk=10,edgeUpdaterRadius:Wk=10,onNodesChange:Yk,onEdgesChange:Xk,noDragClassName:Kk="nodrag",noWheelClassName:Gk="nowheel",noPanClassName:By="nopan",fitView:Qk=!1,fitViewOptions:qk,connectOnClick:Zk=!0,attributionPosition:Jk,proOptions:tM,defaultEdgeOptions:eM,elevateNodesOnSelect:nM=!0,elevateEdgesOnSelect:iM=!1,disableKeyboardA11y:zy=!1,autoPanOnConnect:rM=!0,autoPanOnNodeDrag:sM=!0,connectionRadius:oM=20,isValidConnection:aM,onError:lM,style:cM,id:Uy,nodeDragThreshold:uM,...dM},fM)=>{const Vf=Uy||"1";return B.createElement("div",{...dM,style:{...cM,...kR},ref:fM,className:we(["react-flow",r]),"data-testid":"rf__wrapper",id:Uy},B.createElement(yx,null,B.createElement(vR,{onInit:c,onMove:u,onMoveStart:d,onMoveEnd:f,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:m,onNodeMouseMove:_,onNodeMouseLeave:v,onNodeContextMenu:w,onNodeDoubleClick:x,nodeTypes:s,edgeTypes:o,connectionLineType:R,connectionLineStyle:P,connectionLineComponent:F,connectionLineContainerStyle:j,selectionKeyCode:W,selectionOnDrag:Q,selectionMode:ut,deleteKeyCode:H,multiSelectionKeyCode:Et,panActivationKeyCode:Tt,zoomActivationKeyCode:wt,onlyRenderVisibleElements:Ne,selectNodesOnDrag:Se,defaultViewport:Os,translateExtent:Ns,minZoom:Cs,maxZoom:wi,preventScrolling:jr,zoomOnScroll:Ps,zoomOnPinch:ia,zoomOnDoubleClick:Yr,panOnScroll:xe,panOnScrollSpeed:Rn,panOnScrollMode:Wr,panOnDrag:Xr,onPaneClick:Si,onPaneMouseEnter:Zn,onPaneMouseMove:ra,onPaneMouseLeave:Uf,onPaneScroll:sa,onPaneContextMenu:$f,onSelectionContextMenu:M,onSelectionStart:L,onSelectionEnd:N,onEdgeContextMenu:Kr,onEdgeDoubleClick:Rk,onEdgeMouseEnter:Pk,onEdgeMouseMove:Lk,onEdgeMouseLeave:Fk,onReconnect:$k??Bk,onReconnectStart:Vk??zk,onReconnectEnd:jk??Uk,reconnectRadius:Hk??Wk,defaultMarkerColor:Rs,noDragClassName:Kk,noWheelClassName:Gk,noPanClassName:By,elevateEdgesOnSelect:iM,rfId:Vf,disableKeyboardA11y:zy,nodeOrigin:K,nodeExtent:Hr}),B.createElement(mN,{nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:h,onConnectStart:p,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:g,nodesDraggable:ee,nodesConnectable:en,nodesFocusable:Rt,edgesFocusable:Re,edgesUpdatable:bi,elementsSelectable:na,elevateNodesOnSelect:nM,minZoom:Cs,maxZoom:wi,nodeExtent:Hr,onNodesChange:Yk,onEdgesChange:Xk,snapToGrid:ye,snapGrid:oe,connectionMode:T,translateExtent:Ns,connectOnClick:Zk,defaultEdgeOptions:eM,fitView:Qk,fitViewOptions:qk,onNodesDelete:C,onEdgesDelete:z,onNodeDragStart:E,onNodeDrag:D,onNodeDragStop:A,onSelectionDrag:S,onSelectionDragStart:$,onSelectionDragStop:k,noPanClassName:By,nodeOrigin:K,rfId:Vf,autoPanOnConnect:rM,autoPanOnNodeDrag:sM,onError:lM,connectionRadius:oM,isValidConnection:aM,nodeDragThreshold:uM}),B.createElement(pN,{onSelectionChange:U}),Fy,B.createElement(jC,{proOptions:tM,position:Jk}),B.createElement(wN,{rfId:Vf,disableKeyboardA11y:zy})))});_x.displayName="ReactFlow";function vx(e){return t=>{const[n,i]=O.useState(t),r=O.useCallback(s=>i(o=>e(s,o)),[]);return[n,i,r]}}const MR=vx(rx),TR=vx(PN),bx=({id:e,x:t,y:n,width:i,height:r,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:d,onClick:f,selected:h})=>{const{background:p,backgroundColor:y}=s||{},b=o||p||y;return B.createElement("rect",{className:we(["react-flow__minimap-node",{selected:h},c]),x:t,y:n,rx:u,ry:u,width:i,height:r,fill:b,stroke:a,strokeWidth:l,shapeRendering:d,onClick:f?g=>f(g,e):void 0})};bx.displayName="MiniMapNode";var AR=O.memo(bx);const DR=e=>e.nodeOrigin,OR=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Ih=e=>e instanceof Function?e:()=>e;function CR({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:i=5,nodeStrokeWidth:r=2,nodeComponent:s=AR,onClick:o}){const a=$t(OR,me),l=$t(DR),c=Ih(t),u=Ih(e),d=Ih(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return B.createElement(B.Fragment,null,a.map(h=>{const{x:p,y}=fs(h,l).positionAbsolute;return B.createElement(s,{key:h.id,x:p,y,width:h.width,height:h.height,style:h.style,selected:h.selected,className:d(h),color:c(h),borderRadius:i,strokeColor:u(h),strokeWidth:r,shapeRendering:f,onClick:o,id:h.id})}))}var NR=O.memo(CR);const RR=200,PR=150,LR=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?YC(_f(t,e.nodeOrigin),n):n,rfId:e.rfId}},FR="react-flow__minimap-desc";function wx({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:i="#e2e2e2",nodeClassName:r="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:u=1,position:d="bottom-right",onClick:f,onNodeClick:h,pannable:p=!1,zoomable:y=!1,ariaLabel:b="React Flow mini map",inversePan:g=!1,zoomStep:m=10,offsetScale:_=5}){const v=fe(),w=O.useRef(null),{boundingRect:x,viewBB:E,rfId:D}=$t(LR,me),A=(e==null?void 0:e.width)??RR,C=(e==null?void 0:e.height)??PR,z=x.width/A,U=x.height/C,$=Math.max(z,U),S=$*A,k=$*C,M=_*$,L=x.x-(S-x.width)/2-M,N=x.y-(k-x.height)/2-M,T=S+M*2,R=k+M*2,P=`${FR}-${D}`,F=O.useRef(0);F.current=$,O.useEffect(()=>{if(w.current){const W=xn(w.current),Q=Et=>{const{transform:wt,d3Selection:ye,d3Zoom:oe}=v.getState();if(Et.sourceEvent.type!=="wheel"||!ye||!oe)return;const Ne=-Et.sourceEvent.deltaY*(Et.sourceEvent.deltaMode===1?.05:Et.sourceEvent.deltaMode?1:.002)*m,Se=wt[2]*Math.pow(2,Ne);oe.scaleTo(ye,Se)},ut=Et=>{const{transform:wt,d3Selection:ye,d3Zoom:oe,translateExtent:Ne,width:Se,height:ee}=v.getState();if(Et.sourceEvent.type!=="mousemove"||!ye||!oe)return;const en=F.current*Math.max(1,wt[2])*(g?-1:1),Rt={x:wt[0]-Et.sourceEvent.movementX*en,y:wt[1]-Et.sourceEvent.movementY*en},K=[[0,0],[Se,ee]],Re=Vi.translate(Rt.x,Rt.y).scale(wt[2]),bi=oe.constrain()(Re,K,Ne);oe.transform(ye,bi)},Tt=IS().on("zoom",p?ut:null).on("zoom.wheel",y?Q:null);return W.call(Tt),()=>{W.on("zoom",null)}}},[p,y,g,m]);const j=f?W=>{const Q=Bn(W);f(W,{x:Q[0],y:Q[1]})}:void 0,H=h?(W,Q)=>{const ut=v.getState().nodeInternals.get(Q);h(W,ut)}:void 0;return B.createElement(Rm,{position:d,style:e,className:we(["react-flow__minimap",t]),"data-testid":"rf__minimap"},B.createElement("svg",{width:A,height:C,viewBox:`${L} ${N} ${T} ${R}`,role:"img","aria-labelledby":P,ref:w,onClick:j},b&&B.createElement("title",{id:P},b),B.createElement(NR,{onClick:H,nodeColor:i,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:r,nodeStrokeWidth:o,nodeComponent:a}),B.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-M},${N-M}h${T+M*2}v${R+M*2}h${-T-M*2}z
        M${E.x},${E.y}h${E.width}v${E.height}h${-E.width}z`,fill:l,fillRule:"evenodd",stroke:c,strokeWidth:u,pointerEvents:"none"})))}wx.displayName="MiniMap";var BR=O.memo(wx);function zR(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},B.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function UR(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},B.createElement("path",{d:"M0 0h32v4.2H0z"}))}function $R(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},B.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function VR(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},B.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function jR(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},B.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Ca=({children:e,className:t,...n})=>B.createElement("button",{type:"button",className:we(["react-flow__controls-button",t]),...n},e);Ca.displayName="ControlButton";const HR=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Sx=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:i=!0,fitViewOptions:r,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:u,position:d="bottom-left"})=>{const f=fe(),[h,p]=O.useState(!1),{isInteractive:y,minZoomReached:b,maxZoomReached:g}=$t(HR,me),{zoomIn:m,zoomOut:_,fitView:v}=jm();if(O.useEffect(()=>{p(!0)},[]),!h)return null;const w=()=>{m(),s==null||s()},x=()=>{_(),o==null||o()},E=()=>{v(r),a==null||a()},D=()=>{f.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)};return B.createElement(Rm,{className:we(["react-flow__controls",c]),position:d,style:e,"data-testid":"rf__controls"},t&&B.createElement(B.Fragment,null,B.createElement(Ca,{onClick:w,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},B.createElement(zR,null)),B.createElement(Ca,{onClick:x,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},B.createElement(UR,null))),n&&B.createElement(Ca,{className:"react-flow__controls-fitview",onClick:E,title:"fit view","aria-label":"fit view"},B.createElement($R,null)),i&&B.createElement(Ca,{className:"react-flow__controls-interactive",onClick:D,title:"toggle interactivity","aria-label":"toggle interactivity"},y?B.createElement(jR,null):B.createElement(VR,null)),u)};Sx.displayName="Controls";var WR=O.memo(Sx),Wn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Wn||(Wn={}));function YR({color:e,dimensions:t,lineWidth:n}){return B.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function XR({color:e,radius:t}){return B.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const KR={[Wn.Dots]:"#91919a",[Wn.Lines]:"#eee",[Wn.Cross]:"#e2e2e2"},GR={[Wn.Dots]:1,[Wn.Lines]:1,[Wn.Cross]:6},QR=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function xx({id:e,variant:t=Wn.Dots,gap:n=20,size:i,lineWidth:r=1,offset:s=2,color:o,style:a,className:l}){const c=O.useRef(null),{transform:u,patternId:d}=$t(QR,me),f=o||KR[t],h=i||GR[t],p=t===Wn.Dots,y=t===Wn.Cross,b=Array.isArray(n)?n:[n,n],g=[b[0]*u[2]||1,b[1]*u[2]||1],m=h*u[2],_=y?[m,m]:g,v=p?[m/s,m/s]:[_[0]/s,_[1]/s];return B.createElement("svg",{className:we(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},B.createElement("pattern",{id:d+e,x:u[0]%g[0],y:u[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${v[0]},-${v[1]})`},p?B.createElement(XR,{color:f,radius:m/s}):B.createElement(YR,{dimensions:_,color:f,lineWidth:r})),B.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}xx.displayName="Background";var qR=O.memo(xx);const Wm=({data:e,children:t})=>yr("div",{className:"generic-node",children:[e.hasInput&&St($o,{type:"target",position:"top",id:"input"}),yr("div",{className:"node-content",children:[St("div",{className:"node-title",children:e.label}),t]}),e.hasOutput&&St($o,{type:"source",position:"bottom",id:"output"})]}),ZR=({data:e})=>{const[t,n]=O.useState(null),[i,r]=O.useState(null),[s,o]=O.useState(null),a=async c=>{const u=c.target.files[0];if(u)try{if(o(null),await e.onFileUpload(u),!e.conn)throw new Error("Database connection not available");const d="SELECT * FROM csv_data LIMIT 5",f=await e.conn.query(d);n(f.toArray());const h="SELECT COUNT(*) AS row_count FROM csv_data",p=await e.conn.query(h);console.log(p),r(p.toArray()[0].row_count)}catch(d){console.error("Error processing file:",d),o(d.message),n(null),r(null)}},l=c=>{if(!c||c.length===0)return null;const u=Object.keys(c[0]);return St("div",{className:"node-table-container",children:yr("table",{className:"node-table",children:[St("thead",{children:St("tr",{children:u.map((d,f)=>St("th",{children:d},f))})}),St("tbody",{children:c.map((d,f)=>St("tr",{children:u.map((h,p)=>St("td",{children:d[h]},p))},f))})]})})};return yr(Wm,{data:{...e,hasInput:!1,hasOutput:!0},children:[St("input",{type:"file",onChange:a,accept:".csv",className:"node-button"}),s&&St("div",{style:{color:"red",marginTop:"10px"},children:s}),t&&yr("div",{children:[St("h4",{className:"node-title",children:"Table Sample:"}),l(t)]})]})};function JR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function U_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(n),!0).forEach(function(i){JR(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function tP(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function eP(e,t){if(e==null)return{};var n=tP(e,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function nP(e,t){return iP(e)||rP(e,t)||sP(e,t)||oP()}function iP(e){if(Array.isArray(e))return e}function rP(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],i=!0,r=!1,s=void 0;try{for(var o=e[Symbol.iterator](),a;!(i=(a=o.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(l){r=!0,s=l}finally{try{!i&&o.return!=null&&o.return()}finally{if(r)throw s}}return n}}function sP(e,t){if(e){if(typeof e=="string")return $_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(e,t)}}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function oP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function j_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(n),!0).forEach(function(i){aP(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function lP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduceRight(function(r,s){return s(r)},i)}}function Na(e){return function t(){for(var n=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=e.length?e.apply(this,r):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return t.apply(n,[].concat(r,a))}}}function sd(e){return{}.toString.call(e).includes("Object")}function cP(e){return!Object.keys(e).length}function Nl(e){return typeof e=="function"}function uP(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dP(e,t){return sd(t)||Mr("changeType"),Object.keys(t).some(function(n){return!uP(e,n)})&&Mr("changeField"),t}function fP(e){Nl(e)||Mr("selectorType")}function hP(e){Nl(e)||sd(e)||Mr("handlerType"),sd(e)&&Object.values(e).some(function(t){return!Nl(t)})&&Mr("handlersType")}function pP(e){e||Mr("initialIsRequired"),sd(e)||Mr("initialType"),cP(e)&&Mr("initialContent")}function gP(e,t){throw new Error(e[t]||e.default)}var mP={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Mr=Na(gP)(mP),Lc={changes:dP,selector:fP,handler:hP,initial:pP};function yP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Lc.initial(e),Lc.handler(t);var n={current:e},i=Na(bP)(n,t),r=Na(vP)(n),s=Na(Lc.changes)(e),o=Na(_P)(n);function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return Lc.selector(c),c(n.current)}function l(c){lP(i,r,s,o)(c)}return[a,l]}function _P(e,t){return Nl(t)?t(e.current):t}function vP(e,t){return e.current=j_(j_({},e.current),t),t}function bP(e,t,n){return Nl(t)?t(e.current):Object.keys(n).forEach(function(i){var r;return(r=t[i])===null||r===void 0?void 0:r.call(t,e.current[i])}),n}var wP={create:yP},SP={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function xP(e){return function t(){for(var n=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=e.length?e.apply(this,r):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return t.apply(n,[].concat(r,a))}}}function EP(e){return{}.toString.call(e).includes("Object")}function IP(e){return e||H_("configIsRequired"),EP(e)||H_("configType"),e.urls?(kP(),{paths:{vs:e.urls.monacoBase}}):e}function kP(){console.warn(Ex.deprecation)}function MP(e,t){throw new Error(e[t]||e.default)}var Ex={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},H_=xP(MP)(Ex),TP={config:IP},AP=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(r){return n.reduceRight(function(s,o){return o(s)},r)}};function Ix(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Ix(e[n],t[n]))}),U_(U_({},e),t)}var DP={type:"cancelation",msg:"operation is manually canceled"};function kh(e){var t=!1,n=new Promise(function(i,r){e.then(function(s){return t?r(DP):i(s)}),e.catch(r)});return n.cancel=function(){return t=!0},n}var OP=wP.create({config:SP,isInitialized:!1,resolve:null,reject:null,monaco:null}),kx=nP(OP,2),Jl=kx[0],vf=kx[1];function CP(e){var t=TP.config(e),n=t.monaco,i=eP(t,["monaco"]);vf(function(r){return{config:Ix(r.config,i),monaco:n}})}function NP(){var e=Jl(function(t){var n=t.monaco,i=t.isInitialized,r=t.resolve;return{monaco:n,isInitialized:i,resolve:r}});if(!e.isInitialized){if(vf({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),kh(Mh);if(window.monaco&&window.monaco.editor)return Mx(window.monaco),e.resolve(window.monaco),kh(Mh);AP(RP,LP)(FP)}return kh(Mh)}function RP(e){return document.body.appendChild(e)}function PP(e){var t=document.createElement("script");return e&&(t.src=e),t}function LP(e){var t=Jl(function(i){var r=i.config,s=i.reject;return{config:r,reject:s}}),n=PP("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function FP(){var e=Jl(function(n){var i=n.config,r=n.resolve,s=n.reject;return{config:i,resolve:r,reject:s}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){Mx(n),e.resolve(n)},function(n){e.reject(n)})}function Mx(e){Jl().monaco||vf({monaco:e})}function BP(){return Jl(function(e){var t=e.monaco;return t})}var Mh=new Promise(function(e,t){return vf({resolve:e,reject:t})}),Tx={config:CP,init:NP,__getMonacoInstance:BP},zP={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Th=zP,UP={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},$P=UP;function VP({children:e}){return B.createElement("div",{style:$P.container},e)}var jP=VP,HP=jP;function WP({width:e,height:t,isEditorReady:n,loading:i,_ref:r,className:s,wrapperProps:o}){return B.createElement("section",{style:{...Th.wrapper,width:e,height:t},...o},!n&&B.createElement(HP,null,i),B.createElement("div",{ref:r,style:{...Th.fullWidth,...!n&&Th.hide},className:s}))}var YP=WP,Ax=O.memo(YP);function XP(e){O.useEffect(e,[])}var Dx=XP;function KP(e,t,n=!0){let i=O.useRef(!0);O.useEffect(i.current||!n?()=>{i.current=!1}:e,t)}var sn=KP;function tl(){}function po(e,t,n,i){return GP(e,i)||QP(e,t,n,i)}function GP(e,t){return e.editor.getModel(Ox(e,t))}function QP(e,t,n,i){return e.editor.createModel(t,n,i?Ox(e,i):void 0)}function Ox(e,t){return e.Uri.parse(t)}function qP({original:e,modified:t,language:n,originalLanguage:i,modifiedLanguage:r,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:u="Loading...",options:d={},height:f="100%",width:h="100%",className:p,wrapperProps:y={},beforeMount:b=tl,onMount:g=tl}){let[m,_]=O.useState(!1),[v,w]=O.useState(!0),x=O.useRef(null),E=O.useRef(null),D=O.useRef(null),A=O.useRef(g),C=O.useRef(b),z=O.useRef(!1);Dx(()=>{let k=Tx.init();return k.then(M=>(E.current=M)&&w(!1)).catch(M=>(M==null?void 0:M.type)!=="cancelation"&&console.error("Monaco initialization: error:",M)),()=>x.current?S():k.cancel()}),sn(()=>{if(x.current&&E.current){let k=x.current.getOriginalEditor(),M=po(E.current,e||"",i||n||"text",s||"");M!==k.getModel()&&k.setModel(M)}},[s],m),sn(()=>{if(x.current&&E.current){let k=x.current.getModifiedEditor(),M=po(E.current,t||"",r||n||"text",o||"");M!==k.getModel()&&k.setModel(M)}},[o],m),sn(()=>{let k=x.current.getModifiedEditor();k.getOption(E.current.editor.EditorOption.readOnly)?k.setValue(t||""):t!==k.getValue()&&(k.executeEdits("",[{range:k.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),k.pushUndoStop())},[t],m),sn(()=>{var k,M;(M=(k=x.current)==null?void 0:k.getModel())==null||M.original.setValue(e||"")},[e],m),sn(()=>{let{original:k,modified:M}=x.current.getModel();E.current.editor.setModelLanguage(k,i||n||"text"),E.current.editor.setModelLanguage(M,r||n||"text")},[n,i,r],m),sn(()=>{var k;(k=E.current)==null||k.editor.setTheme(c)},[c],m),sn(()=>{var k;(k=x.current)==null||k.updateOptions(d)},[d],m);let U=O.useCallback(()=>{var L;if(!E.current)return;C.current(E.current);let k=po(E.current,e||"",i||n||"text",s||""),M=po(E.current,t||"",r||n||"text",o||"");(L=x.current)==null||L.setModel({original:k,modified:M})},[n,t,r,e,i,s,o]),$=O.useCallback(()=>{var k;!z.current&&D.current&&(x.current=E.current.editor.createDiffEditor(D.current,{automaticLayout:!0,...d}),U(),(k=E.current)==null||k.editor.setTheme(c),_(!0),z.current=!0)},[d,c,U]);O.useEffect(()=>{m&&A.current(x.current,E.current)},[m]),O.useEffect(()=>{!v&&!m&&$()},[v,m,$]);function S(){var M,L,N,T;let k=(M=x.current)==null?void 0:M.getModel();a||((L=k==null?void 0:k.original)==null||L.dispose()),l||((N=k==null?void 0:k.modified)==null||N.dispose()),(T=x.current)==null||T.dispose()}return B.createElement(Ax,{width:h,height:f,isEditorReady:m,loading:u,_ref:D,className:p,wrapperProps:y})}var ZP=qP;O.memo(ZP);function JP(e){let t=O.useRef();return O.useEffect(()=>{t.current=e},[e]),t.current}var tL=JP,Fc=new Map;function eL({defaultValue:e,defaultLanguage:t,defaultPath:n,value:i,language:r,path:s,theme:o="light",line:a,loading:l="Loading...",options:c={},overrideServices:u={},saveViewState:d=!0,keepCurrentModel:f=!1,width:h="100%",height:p="100%",className:y,wrapperProps:b={},beforeMount:g=tl,onMount:m=tl,onChange:_,onValidate:v=tl}){let[w,x]=O.useState(!1),[E,D]=O.useState(!0),A=O.useRef(null),C=O.useRef(null),z=O.useRef(null),U=O.useRef(m),$=O.useRef(g),S=O.useRef(),k=O.useRef(i),M=tL(s),L=O.useRef(!1),N=O.useRef(!1);Dx(()=>{let P=Tx.init();return P.then(F=>(A.current=F)&&D(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>C.current?R():P.cancel()}),sn(()=>{var F,j,H,W;let P=po(A.current,e||i||"",t||r||"",s||n||"");P!==((F=C.current)==null?void 0:F.getModel())&&(d&&Fc.set(M,(j=C.current)==null?void 0:j.saveViewState()),(H=C.current)==null||H.setModel(P),d&&((W=C.current)==null||W.restoreViewState(Fc.get(s))))},[s],w),sn(()=>{var P;(P=C.current)==null||P.updateOptions(c)},[c],w),sn(()=>{!C.current||i===void 0||(C.current.getOption(A.current.editor.EditorOption.readOnly)?C.current.setValue(i):i!==C.current.getValue()&&(N.current=!0,C.current.executeEdits("",[{range:C.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),C.current.pushUndoStop(),N.current=!1))},[i],w),sn(()=>{var F,j;let P=(F=C.current)==null?void 0:F.getModel();P&&r&&((j=A.current)==null||j.editor.setModelLanguage(P,r))},[r],w),sn(()=>{var P;a!==void 0&&((P=C.current)==null||P.revealLine(a))},[a],w),sn(()=>{var P;(P=A.current)==null||P.editor.setTheme(o)},[o],w);let T=O.useCallback(()=>{var P;if(!(!z.current||!A.current)&&!L.current){$.current(A.current);let F=s||n,j=po(A.current,i||e||"",t||r||"",F||"");C.current=(P=A.current)==null?void 0:P.editor.create(z.current,{model:j,automaticLayout:!0,...c},u),d&&C.current.restoreViewState(Fc.get(F)),A.current.editor.setTheme(o),a!==void 0&&C.current.revealLine(a),x(!0),L.current=!0}},[e,t,n,i,r,s,c,u,d,o,a]);O.useEffect(()=>{w&&U.current(C.current,A.current)},[w]),O.useEffect(()=>{!E&&!w&&T()},[E,w,T]),k.current=i,O.useEffect(()=>{var P,F;w&&_&&((P=S.current)==null||P.dispose(),S.current=(F=C.current)==null?void 0:F.onDidChangeModelContent(j=>{N.current||_(C.current.getValue(),j)}))},[w,_]),O.useEffect(()=>{if(w){let P=A.current.editor.onDidChangeMarkers(F=>{var H;let j=(H=C.current.getModel())==null?void 0:H.uri;if(j&&F.find(W=>W.path===j.path)){let W=A.current.editor.getModelMarkers({resource:j});v==null||v(W)}});return()=>{P==null||P.dispose()}}return()=>{}},[w,v]);function R(){var P,F;(P=S.current)==null||P.dispose(),f?d&&Fc.set(s,C.current.saveViewState()):(F=C.current.getModel())==null||F.dispose(),C.current.dispose()}return B.createElement(Ax,{width:h,height:p,isEditorReady:w,loading:l,_ref:z,className:y,wrapperProps:b})}var nL=eL,iL=O.memo(nL),rL=iL;const sL=({data:e})=>{const t=()=>{if(e.editorRef.current){const i=e.editorRef.current.getValue();e.onRunQuery(i)}},n=i=>{if(!i||i.length===0)return null;const r=Object.keys(i[0]);return St("div",{className:"node-table-container",children:yr("table",{className:"node-table",children:[St("thead",{children:St("tr",{children:r.map((s,o)=>St("th",{children:s},o))})}),St("tbody",{children:i.map((s,o)=>St("tr",{children:r.map((a,l)=>St("td",{children:s[a]},l))},o))})]})})};return yr(Wm,{data:{...e,hasInput:!0,hasOutput:!0},children:[St("div",{style:{width:"100%",height:"200px"},children:St(rL,{height:"200px",defaultLanguage:"sql",defaultValue:"SELECT * FROM csv_data LIMIT 10;",onMount:i=>{e.editorRef.current=i},options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14}})}),St("button",{className:"node-button",onClick:t,children:"Run Query"}),e.result&&n(e.result)]})};/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function Ei(){}const oL=function(){let e=0;return function(){return e++}}();function bt(e){return e===null||typeof e>"u"}function Ut(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function gt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const re=e=>(typeof e=="number"||e instanceof Number)&&isFinite(+e);function yn(e,t){return re(e)?e:t}function ct(e,t){return typeof e>"u"?t:e}const aL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:e/t,Cx=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Bt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Ct(e,t,n,i){let r,s,o;if(Ut(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(gt(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function od(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function ad(e){if(Ut(e))return e.map(ad);if(gt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=ad(e[n[r]]);return t}return e}function Nx(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function lL(e,t,n,i){if(!Nx(e))return;const r=t[e],s=n[e];gt(r)&&gt(s)?Rl(r,s,i):t[e]=ad(s)}function Rl(e,t,n){const i=Ut(t)?t:[t],r=i.length;if(!gt(e))return e;n=n||{};const s=n.merger||lL;for(let o=0;o<r;++o){if(t=i[o],!gt(t))continue;const a=Object.keys(t);for(let l=0,c=a.length;l<c;++l)s(a[l],e,t,n)}return e}function el(e,t){return Rl(e,t,{merger:cL})}function cL(e,t,n){if(!Nx(e))return;const i=t[e],r=n[e];gt(i)&&gt(r)?el(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ad(r))}const W_={"":e=>e,x:e=>e.x,y:e=>e.y};function Or(e,t){return(W_[t]||(W_[t]=uL(t)))(e)}function uL(e){const t=dL(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function dL(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Ym(e){return e.charAt(0).toUpperCase()+e.slice(1)}const On=e=>typeof e<"u",Cr=e=>typeof e=="function",Y_=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function fL(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Yt=Math.PI,Pt=2*Yt,hL=Pt+Yt,ld=Number.POSITIVE_INFINITY,pL=Yt/180,te=Yt/2,va=Yt/4,X_=Yt*2/3,En=Math.log10,gi=Math.sign;function K_(e){const t=Math.round(e);e=nl(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(En(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function gL(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,s)=>r-s).pop(),t}function Vo(e){return!isNaN(parseFloat(e))&&isFinite(e)}function nl(e,t,n){return Math.abs(e-t)<n}function mL(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Rx(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Vn(e){return e*(Yt/180)}function Xm(e){return e*(180/Yt)}function G_(e){if(!re(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Px(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Yt&&(s+=Pt),{angle:s,distance:r}}function lg(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function yL(e,t){return(e-t+hL)%Pt-Yt}function on(e){return(e%Pt+Pt)%Pt}function Pl(e,t,n,i){const r=on(e),s=on(t),o=on(n),a=on(s-r),l=on(o-r),c=on(r-s),u=on(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function pe(e,t,n){return Math.max(t,Math.min(n,e))}function _L(e){return pe(e,-32768,32767)}function zi(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Km(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Ui=(e,t,n,i)=>Km(e,n,i?r=>e[r][t]<=n:r=>e[r][t]<n),vL=(e,t,n)=>Km(e,n,i=>e[i][t]>=n);function bL(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const Lx=["push","pop","shift","splice","unshift"];function wL(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Lx.forEach(n=>{const i="_onData"+Ym(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function Q_(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(Lx.forEach(s=>{delete e[s]}),delete e._chartjs)}function Fx(e){const t=new Set;let n,i;for(n=0,i=e.length;n<i;++n)t.add(e[n]);return t.size===i?e:Array.from(t)}const Bx=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function zx(e,t,n){const i=n||(o=>Array.prototype.slice.call(o));let r=!1,s=[];return function(...o){s=i(o),r||(r=!0,Bx.call(window,()=>{r=!1,e.apply(t,s)}))}}function SL(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Gm=e=>e==="start"?"left":e==="end"?"right":"center",ke=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,xL=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function Ux(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(r=pe(Math.min(Ui(a,o.axis,c).lo,n?i:Ui(t,l,o.getPixelForValue(c)).lo),0,i-1)),f?s=pe(Math.max(Ui(a,o.axis,u,!0).hi+1,n?0:Ui(t,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function $x(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Bc=e=>e===0||e===1,q_=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Pt/n)),Z_=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Pt/n)+1,il={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*te)+1,easeOutSine:e=>Math.sin(e*te),easeInOutSine:e=>-.5*(Math.cos(Yt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Bc(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Bc(e)?e:q_(e,.075,.3),easeOutElastic:e=>Bc(e)?e:Z_(e,.075,.3),easeInOutElastic(e){return Bc(e)?e:e<.5?.5*q_(e*2,.1125,.45):.5+.5*Z_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-il.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?il.easeInBounce(e*2)*.5:il.easeOutBounce(e*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function tc(e){return e+.5|0}const gr=(e,t,n)=>Math.max(Math.min(e,n),t);function Ra(e){return gr(tc(e*2.55),0,255)}function Tr(e){return gr(tc(e*255),0,255)}function Ni(e){return gr(tc(e/2.55)/100,0,1)}function J_(e){return gr(tc(e*100),0,100)}const gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cg=[..."0123456789ABCDEF"],EL=e=>cg[e&15],IL=e=>cg[(e&240)>>4]+cg[e&15],zc=e=>(e&240)>>4===(e&15),kL=e=>zc(e.r)&&zc(e.g)&&zc(e.b)&&zc(e.a);function ML(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&gn[e[1]]*17,g:255&gn[e[2]]*17,b:255&gn[e[3]]*17,a:t===5?gn[e[4]]*17:255}:(t===7||t===9)&&(n={r:gn[e[1]]<<4|gn[e[2]],g:gn[e[3]]<<4|gn[e[4]],b:gn[e[5]]<<4|gn[e[6]],a:t===9?gn[e[7]]<<4|gn[e[8]]:255})),n}const TL=(e,t)=>e<255?t(e):"";function AL(e){var t=kL(e)?EL:IL;return e?"#"+t(e.r)+t(e.g)+t(e.b)+TL(e.a,t):void 0}const DL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Vx(e,t,n){const i=t*Math.min(n,1-n),r=(s,o=(s+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function OL(e,t,n){const i=(r,s=(r+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function CL(e,t,n){const i=Vx(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function NL(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function Qm(e){const n=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=NL(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function qm(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Tr)}function Zm(e,t,n){return qm(Vx,e,t,n)}function RL(e,t,n){return qm(CL,e,t,n)}function PL(e,t,n){return qm(OL,e,t,n)}function jx(e){return(e%360+360)%360}function LL(e){const t=DL.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Ra(+t[5]):Tr(+t[5]));const r=jx(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=RL(r,s,o):t[1]==="hsv"?i=PL(r,s,o):i=Zm(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function FL(e,t){var n=Qm(e);n[0]=jx(n[0]+t),n=Zm(n),e.r=n[0],e.g=n[1],e.b=n[2]}function BL(e){if(!e)return;const t=Qm(e),n=t[0],i=J_(t[1]),r=J_(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${Ni(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const tv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ev={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zL(){const e={},t=Object.keys(ev),n=Object.keys(tv);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,tv[s]);s=parseInt(ev[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Uc;function UL(e){Uc||(Uc=zL(),Uc.transparent=[0,0,0,0]);const t=Uc[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const $L=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function VL(e){const t=$L.exec(e);let n=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?Ra(o):gr(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Ra(i):gr(i,0,255)),r=255&(t[4]?Ra(r):gr(r,0,255)),s=255&(t[6]?Ra(s):gr(s,0,255)),{r:i,g:r,b:s,a:n}}}function jL(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ni(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Ah=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,$s=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function HL(e,t,n){const i=$s(Ni(e.r)),r=$s(Ni(e.g)),s=$s(Ni(e.b));return{r:Tr(Ah(i+n*($s(Ni(t.r))-i))),g:Tr(Ah(r+n*($s(Ni(t.g))-r))),b:Tr(Ah(s+n*($s(Ni(t.b))-s))),a:e.a+n*(t.a-e.a)}}function $c(e,t,n){if(e){let i=Qm(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Zm(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Hx(e,t){return e&&Object.assign(t||{},e)}function nv(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Tr(e[3]))):(t=Hx(e,{r:0,g:0,b:0,a:1}),t.a=Tr(t.a)),t}function WL(e){return e.charAt(0)==="r"?VL(e):LL(e)}class cd{constructor(t){if(t instanceof cd)return t;const n=typeof t;let i;n==="object"?i=nv(t):n==="string"&&(i=ML(t)||UL(t)||WL(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Hx(this._rgb);return t&&(t.a=Ni(t.a)),t}set rgb(t){this._rgb=nv(t)}rgbString(){return this._valid?jL(this._rgb):void 0}hexString(){return this._valid?AL(this._rgb):void 0}hslString(){return this._valid?BL(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=HL(this._rgb,t._rgb,n)),this}clone(){return new cd(this.rgb)}alpha(t){return this._rgb.a=Tr(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=tc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $c(this._rgb,2,t),this}darken(t){return $c(this._rgb,2,-t),this}saturate(t){return $c(this._rgb,1,t),this}desaturate(t){return $c(this._rgb,1,-t),this}rotate(t){return FL(this._rgb,t),this}}function Wx(e){return new cd(e)}function Yx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function iv(e){return Yx(e)?e:Wx(e)}function Dh(e){return Yx(e)?e:Wx(e).saturate(.5).darken(.1).hexString()}const xs=Object.create(null),ug=Object.create(null);function rl(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];e=e[s]||(e[s]=Object.create(null))}return e}function Oh(e,t,n){return typeof t=="string"?Rl(rl(e,t),n):Rl(rl(e,""),t)}class YL{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Dh(i.backgroundColor),this.hoverBorderColor=(n,i)=>Dh(i.borderColor),this.hoverColor=(n,i)=>Dh(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,n){return Oh(this,t,n)}get(t){return rl(this,t)}describe(t,n){return Oh(ug,t,n)}override(t,n){return Oh(xs,t,n)}route(t,n,i,r){const s=rl(this,t),o=rl(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return gt(l)?Object.assign({},c,l):ct(l,c)},set(l){this[a]=l}}})}}var yt=new YL({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function XL(e){return!e||bt(e.size)||bt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ud(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function KL(e,t,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&Ut(d)!==!0)o=ud(e,r,s,o,d);else if(Ut(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!Ut(f)&&(o=ud(e,r,s,o,f));e.restore();const h=s.length/2;if(h>n.length){for(l=0;l<h;l++)delete r[s[l]];s.splice(0,h)}return o}function Gr(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function rv(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function dg(e,t,n,i){Xx(e,t,n,i,null)}function Xx(e,t,n,i,r){let s,o,a,l,c,u;const d=t.pointStyle,f=t.rotation,h=t.radius;let p=(f||0)*pL;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(p),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(h)||h<=0)){switch(e.beginPath(),d){default:r?e.ellipse(n,i,r/2,h,0,0,Pt):e.arc(n,i,h,0,Pt),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(p)*h,i-Math.cos(p)*h),p+=X_,e.lineTo(n+Math.sin(p)*h,i-Math.cos(p)*h),p+=X_,e.lineTo(n+Math.sin(p)*h,i-Math.cos(p)*h),e.closePath();break;case"rectRounded":c=h*.516,l=h-c,o=Math.cos(p+va)*l,a=Math.sin(p+va)*l,e.arc(n-o,i-a,c,p-Yt,p-te),e.arc(n+a,i-o,c,p-te,p),e.arc(n+o,i+a,c,p,p+te),e.arc(n-a,i+o,c,p+te,p+Yt),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*h,u=r?r/2:l,e.rect(n-u,i-l,2*u,2*l);break}p+=va;case"rectRot":o=Math.cos(p)*h,a=Math.sin(p)*h,e.moveTo(n-o,i-a),e.lineTo(n+a,i-o),e.lineTo(n+o,i+a),e.lineTo(n-a,i+o),e.closePath();break;case"crossRot":p+=va;case"cross":o=Math.cos(p)*h,a=Math.sin(p)*h,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a),e.moveTo(n+a,i-o),e.lineTo(n-a,i+o);break;case"star":o=Math.cos(p)*h,a=Math.sin(p)*h,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a),e.moveTo(n+a,i-o),e.lineTo(n-a,i+o),p+=va,o=Math.cos(p)*h,a=Math.sin(p)*h,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a),e.moveTo(n+a,i-o),e.lineTo(n-a,i+o);break;case"line":o=r?r/2:Math.cos(p)*h,a=Math.sin(p)*h,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(p)*h,i+Math.sin(p)*h);break}e.fill(),t.borderWidth>0&&e.stroke()}}function Ll(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function bf(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function wf(e){e.restore()}function GL(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function QL(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Es(e,t,n,i,r,s={}){const o=Ut(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(e.save(),e.font=r.string,qL(e,s),l=0;l<o.length;++l)c=o[l],a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),bt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,i,s.maxWidth)),e.fillText(c,n,i,s.maxWidth),ZL(e,n,i,c,s),i+=r.lineHeight;e.restore()}function qL(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),bt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function ZL(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function Fl(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-te,Yt,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Yt,te,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,te,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-te,!0),e.lineTo(n+o.topLeft,i)}const JL=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),tF=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function eF(e,t){const n=(""+e).match(JL);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const nF=e=>+e||0;function Jm(e,t){const n={},i=gt(t),r=i?Object.keys(t):t,s=gt(e)?i?o=>ct(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=nF(s(o));return n}function Kx(e){return Jm(e,{top:"y",right:"x",bottom:"y",left:"x"})}function hs(e){return Jm(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Oe(e){const t=Kx(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function de(e,t){e=e||{},t=t||yt.font;let n=ct(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ct(e.style,t.style);i&&!(""+i).match(tF)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:ct(e.family,t.family),lineHeight:eF(ct(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ct(e.weight,t.weight),string:""};return r.string=XL(r),r}function Pa(e,t,n,i){let r=!0,s,o,a;for(s=0,o=e.length;s<o;++s)if(a=e[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),n!==void 0&&Ut(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function iF(e,t,n){const{min:i,max:r}=e,s=Cx(t,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Ur(e,t){return Object.assign(Object.create(e),t)}function ty(e,t=[""],n=e,i,r=()=>e[0]){On(i)||(i=Zx("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:r,override:o=>ty([o,...e],t,n,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete o._keys,delete e[0][a],!0},get(o,a){return Qx(o,a,()=>dF(a,t,e,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,a){return ov(o).includes(a)},ownKeys(o){return ov(o)},set(o,a,l){const c=o._storage||(o._storage=r());return o[a]=c[a]=l,delete o._keys,!0}})}function jo(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Gx(e,i),setContext:s=>jo(e,s,n,i),override:s=>jo(e.override(s),t,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return Qx(s,o,()=>sF(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function Gx(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Cr(n)?n:()=>n,isIndexable:Cr(i)?i:()=>i}}const rF=(e,t)=>e?e+Ym(t):t,ey=(e,t)=>gt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Qx(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function sF(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];return Cr(a)&&o.isScriptable(t)&&(a=oF(t,a,e,n)),Ut(a)&&a.length&&(a=aF(t,a,e,o.isIndexable)),ey(t,a)&&(a=jo(a,r,s&&s[t],o)),a}function oF(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);return a.add(e),t=t(s,o||i),a.delete(e),ey(e,t)&&(t=ny(r._scopes,r,e,t)),t}function aF(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(On(s.index)&&i(e))t=t[s.index%t.length];else if(gt(t[0])){const l=t,c=r._scopes.filter(u=>u!==l);t=[];for(const u of l){const d=ny(c,r,e,u);t.push(jo(d,s,o&&o[e],a))}}return t}function qx(e,t,n){return Cr(e)?e(t,n):e}const lF=(e,t)=>e===!0?t:typeof e=="string"?Or(t,e):void 0;function cF(e,t,n,i,r){for(const s of t){const o=lF(n,s);if(o){e.add(o);const a=qx(o._fallback,n,r);if(On(a)&&a!==n&&a!==i)return a}else if(o===!1&&On(i)&&n!==i)return null}return!1}function ny(e,t,n,i){const r=t._rootScopes,s=qx(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=sv(a,o,n,s||n,i);return l===null||On(s)&&s!==n&&(l=sv(a,o,s,l,i),l===null)?!1:ty(Array.from(a),[""],r,s,()=>uF(t,n,i))}function sv(e,t,n,i,r){for(;n;)n=cF(e,t,n,i,r);return n}function uF(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return Ut(r)&&gt(n)?n:r}function dF(e,t,n,i){let r;for(const s of t)if(r=Zx(rF(s,e),n),On(r))return ey(e,r)?ny(n,i,e,r):r}function Zx(e,t){for(const n of t){if(!n)continue;const i=n[e];if(On(i))return i}}function ov(e){let t=e._keys;return t||(t=e._keys=fF(e._scopes)),t}function fF(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function Jx(e,t,n,i){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:r.parse(Or(u,s),c)};return o}const hF=Number.EPSILON||1e-14,Ho=(e,t)=>t<e.length&&!e[t].skip&&e[t],tE=e=>e==="x"?"y":"x";function pF(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=lg(s,r),l=lg(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,f=i*u;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function gF(e,t,n){const i=e.length;let r,s,o,a,l,c=Ho(e,0);for(let u=0;u<i-1;++u)if(l=c,c=Ho(e,u+1),!(!l||!c)){if(nl(t[u],0,hF)){n[u]=n[u+1]=0;continue}r=n[u]/t[u],s=n[u+1]/t[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*t[u],n[u+1]=s*o*t[u])}}function mF(e,t,n="x"){const i=tE(n),r=e.length;let s,o,a,l=Ho(e,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Ho(e,c+1),!a)continue;const u=a[n],d=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=d-s*t[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=d+s*t[c])}}function yF(e,t="x"){const n=tE(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Ho(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=Ho(e,o+1),!!l){if(c){const u=c[t]-l[t];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?gi(r[o-1])!==gi(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}gF(e,r,s),mF(e,s,t)}function Vc(e,t,n){return Math.max(Math.min(e,n),t)}function _F(e,t){let n,i,r,s,o,a=Ll(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&Ll(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=Vc(r.cp1x,t.left,t.right),r.cp1y=Vc(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Vc(r.cp2x,t.left,t.right),r.cp2y=Vc(r.cp2y,t.top,t.bottom)))}function vF(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")yF(e,r);else{let c=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=pF(c,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&_F(e,n)}function eE(){return typeof window<"u"&&typeof document<"u"}function iy(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function dd(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Sf=e=>window.getComputedStyle(e,null);function bF(e,t){return Sf(e).getPropertyValue(t)}const wF=["top","right","bottom","left"];function ps(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=wF[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const SF=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function xF(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(SF(r,s,e.target))a=r,l=s;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function es(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=Sf(n),s=r.boxSizing==="border-box",o=ps(r,"padding"),a=ps(r,"border","width"),{x:l,y:c,box:u}=xF(e,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:h,height:p}=t;return s&&(h-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/h*n.width/i),y:Math.round((c-f)/p*n.height/i)}}function EF(e,t,n){let i,r;if(t===void 0||n===void 0){const s=iy(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=Sf(s),l=ps(a,"border","width"),c=ps(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,i=dd(a.maxWidth,s,"clientWidth"),r=dd(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:i||ld,maxHeight:r||ld}}const Ch=e=>Math.round(e*10)/10;function IF(e,t,n,i){const r=Sf(e),s=ps(r,"margin"),o=dd(r.maxWidth,e,"clientWidth")||ld,a=dd(r.maxHeight,e,"clientHeight")||ld,l=EF(e,t,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const d=ps(r,"border","width"),f=ps(r,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?Math.floor(c/i):u-s.height),c=Ch(Math.min(c,o,l.maxWidth)),u=Ch(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ch(c/2)),{width:c,height:u}}function av(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=r/i,e.width=s/i;const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const kF=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function lv(e,t){const n=bF(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ns(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function MF(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function TF(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=ns(e,r,n),a=ns(r,s,n),l=ns(s,t,n),c=ns(o,a,n),u=ns(a,l,n);return ns(c,u,n)}const cv=new Map;function AF(e,t){t=t||{};const n=e+JSON.stringify(t);let i=cv.get(n);return i||(i=new Intl.NumberFormat(e,t),cv.set(n,i)),i}function ec(e,t,n){return AF(t,n).format(e)}const DF=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},OF=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Io(e,t,n){return e?DF(t,n):OF()}function nE(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function iE(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function rE(e){return e==="angle"?{between:Pl,compare:yL,normalize:on}:{between:zi,compare:(t,n)=>t-n,normalize:t=>t}}function uv({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function CF(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=rE(i),l=t.length;let{start:c,end:u,loop:d}=e,f,h;if(d){for(c+=l,u+=l,f=0,h=l;f<h&&o(a(t[c%l][i]),r,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:e.style}}function sE(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=rE(i),{start:u,end:d,loop:f,style:h}=CF(e,t,n),p=[];let y=!1,b=null,g,m,_;const v=()=>l(r,_,g)&&a(r,_)!==0,w=()=>a(s,g)===0||l(s,_,g),x=()=>y||v(),E=()=>!y||w();for(let D=u,A=u;D<=d;++D)m=t[D%o],!m.skip&&(g=c(m[i]),g!==_&&(y=l(g,r,s),b===null&&x()&&(b=a(g,r)===0?D:A),b!==null&&E()&&(p.push(uv({start:b,end:D,loop:f,count:o,style:h})),b=null),A=D,_=g));return b!==null&&p.push(uv({start:b,end:d,loop:f,count:o,style:h})),p}function oE(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=sE(i[r],e.points,t);s.length&&n.push(...s)}return n}function NF(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}function RF(e,t,n,i){const r=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:t%r,end:(l-1)%r,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function PF(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=NF(n,r,s,i);if(i===!0)return dv(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+r:a,c=!!e._fullLoop&&o===0&&a===r-1;return dv(e,RF(n,o,l,c),n,t)}function dv(e,t,n,i){return!i||!i.setContext||!n?t:LF(e,t,n,i)}function LF(e,t,n,i){const r=e._chart.getContext(),s=fv(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=s,d=t[0].start,f=d;function h(p,y,b,g){const m=a?-1:1;if(p!==y){for(p+=l;n[p%l].skip;)p-=m;for(;n[y%l].skip;)y+=m;p%l!==y%l&&(c.push({start:p%l,end:y%l,loop:b,style:g}),u=g,d=y%l)}}for(const p of t){d=a?d:p.start;let y=n[d%l],b;for(f=d+1;f<=p.end;f++){const g=n[f%l];b=fv(i.setContext(Ur(r,{type:"segment",p0:y,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),FF(b,u)&&h(d,f-1,p.loop,u),y=g,u=b}d<f-1&&h(d,f-1,p.loop,u)}return c}function fv(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function FF(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class BF{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Bx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ii=new BF;const hv="transparent",zF={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=iv(e||hv),r=i.valid&&iv(t||hv);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class UF{constructor(t,n,i,r){const s=n[i];r=Pa([t.to,r,s,t.from]);const o=Pa([t.from,s,r]);this._active=!0,this._fn=t.fn||zF[t.type||typeof o],this._easing=il[t.easing]||il.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Pa([t.to,n,r,t.from]),this._from=Pa([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}const $F=["x","y","borderWidth","radius","tension"],VF=["color","borderColor","backgroundColor"];yt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const jF=Object.keys(yt.animation);yt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"});yt.set("animations",{colors:{type:"color",properties:VF},numbers:{type:"number",properties:$F}});yt.describe("animations",{_fallback:"animation"});yt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}});class aE{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!gt(t))return;const n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!gt(r))return;const s={};for(const o of jF)s[o]=r[o];(Ut(r.properties)&&r.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,s)})})}_animateOptions(t,n){const i=n.options,r=WF(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&HF(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,n){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,n));continue}const u=n[c];let d=s[c];const f=i.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){t[c]=u;continue}s[c]=d=new UF(f,t,c,u),r.push(d)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Ii.add(this._chart,i),!0}}function HF(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=e[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function WF(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function pv(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function YF(e,t,n){if(n===!1)return!1;const i=pv(e,n),r=pv(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function XF(e){let t,n,i,r;return gt(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function lE(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function gv(e,t,n,i={}){const r=e.keys,s=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=e.values[l],re(c)&&(s||t===0||gi(t)===gi(c))&&(t+=c)}return t}}function KF(e){const t=Object.keys(e),n=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],n[i]={x:s,y:e[s]};return n}function mv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function GF(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function QF(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function qF(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function yv(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=e[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function _v(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=GF(s,o,i),d=t.length;let f;for(let h=0;h<d;++h){const p=t[h],{[l]:y,[c]:b}=p,g=p._stacks||(p._stacks={});f=g[c]=qF(r,u,y),f[a]=b,f._top=yv(f,o,!0,i.type),f._bottom=yv(f,o,!1,i.type)}}function Nh(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function ZF(e,t){return Ur(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function JF(e,t,n){return Ur(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function ba(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n]}}}const Rh=e=>e==="reset"||e==="none",vv=(e,t)=>t?e:Object.assign({},e),tB=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:lE(n,!0),values:null};class Gn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=mv(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&ba(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,f,h,p)=>d==="x"?f:d==="r"?p:h,s=n.xAxisID=ct(i.xAxisID,Nh(t,"x")),o=n.yAxisID=ct(i.yAxisID,Nh(t,"y")),a=n.rAxisID=ct(i.rAxisID,Nh(t,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Q_(this._data,this),t._stacked&&ba(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(gt(n))this._data=KF(n);else if(i!==n){if(i){Q_(i,this);const r=this._cachedMeta;ba(r),r._parsed=[]}n&&Object.isExtensible(n)&&wL(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=mv(n.vScale,n),n.stack!==i.stack&&(r=!0,ba(n),n.stack=i.stack),this._resyncElements(t),(r||s!==n._stacked)&&_v(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=t===0&&n===r.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,d,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{Ut(r[t])?f=this.parseArrayData(i,r,t,n):gt(r[t])?f=this.parseObjectData(i,r,t,n):f=this.parsePrimitiveData(i,r,t,n);const h=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)i._parsed[u+t]=d=f[u],l&&(h()&&(l=!1),c=d);i._sorted=l}o&&_v(this,f)}parsePrimitiveData(t,n,i,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(r);let f,h,p;for(f=0,h=r;f<h;++f)p=f+i,d[f]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return d}parseArrayData(t,n,i,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+i,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(t,n,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,f,h;for(u=0,d=r;u<d;++u)f=u+i,h=n[f],c[u]={x:s.parse(Or(h,a),f),y:o.parse(Or(h,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:lE(r,!0),values:n._stacks[t.axis]};return gv(a,o,s.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=gv(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=tB(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=QF(a);let f,h;function p(){h=r[f];const y=h[a.axis];return!re(h[t.axis])||u>y||d<y}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,t,h,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,t,h,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][t.axis],re(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=XF(ct(this.options.clip,YF(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,s,a,l),u=a;u<a+l;++u){const d=r[u];d.hidden||(d.active&&c?o.push(d):d.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=JF(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=ZF(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&On(i);if(a)return vv(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),d=r?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),h=Object.keys(yt.elements[t]),p=()=>this.getContext(i,r),y=c.resolveNamedOptions(f,h,p,d);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(vv(y,l))),y}_resolveAnimations(t,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(t,i,n))}const c=new aE(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Rh(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(t,n,i,r){Rh(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!Rh(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,n,i=!0){const r=this._cachedMeta,s=r.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,n),i&&this.updateElements(s,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&ba(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Gn.defaults={};Gn.prototype.datasetElementType=null;Gn.prototype.dataElementType=null;function eB(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=Fx(i.sort((r,s)=>r-s))}return e._cache.$bar}function nB(e){const t=e.iScale,n=eB(t,e.type);let i=t._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(On(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function iB(e,t,n,i){const r=n.barThickness;let s,o;return bt(r)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[e]-s/2}}function rB(e,t,n,i){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function sB(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function cE(e,t,n,i){return Ut(e)?sB(e,t,n,i):t[n.axis]=n.parse(e,i),t}function bv(e,t,n,i){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,d,f;for(c=n,u=n+i;c<u;++c)f=t[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(cE(f,d,s,c));return l}function Ph(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function oB(e,t,n){return e!==0?gi(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function aB(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}function lB(e,t,n,i){let r=t.borderSkipped;const s={};if(!r){e.borderSkipped=s;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=aB(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[wv(u,o,a,l)]=!0,r=c)),s[wv(r,o,a,l)]=!0,e.borderSkipped=s}function wv(e,t,n,i){return i?(e=cB(e,t,n),e=Sv(e,n,t)):e=Sv(e,t,n),e}function cB(e,t,n){return e===t?n:e===n?t:e}function Sv(e,t,n){return e==="start"?t:e==="end"?n:e}function uB(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class xf extends Gn{parsePrimitiveData(t,n,i,r){return bv(t,n,i,r)}parseArrayData(t,n,i,r){return bv(t,n,i,r)}parseObjectData(t,n,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,h,p,y;for(f=i,h=i+r;f<h;++f)y=n[f],p={},p[s.axis]=s.parse(Or(y,c),f),d.push(cE(Or(y,u),p,o,f));return d}updateRangeFromParsed(t,n,i,r){super.updateRangeFromParsed(t,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(t),o=s._custom,a=Ph(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,r);for(let h=n;h<n+i;h++){const p=this.getParsed(h),y=s||bt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),b=this._calculateBarIndexPixels(h,u),g=(p._stacks||{})[a.axis],m={horizontal:c,base:y.base,enableBorderRadius:!g||Ph(p._custom)||o===g._top||o===g._bottom,x:c?y.head:b.center,y:c?b.center:y.head,height:c?b.size:Math.abs(y.size),width:c?Math.abs(y.size):b.size};f&&(m.options=d||this.resolveDataElementOptions(h,t[h].active?"active":r));const _=m.options||t[h].options;lB(m,_,g,o),uB(m,_,u.ratio),this.updateElement(t[h],h,m,r)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(bt(u)||isNaN(u))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const r=this._getStacks(t,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=t.barThickness;return{min:a||nB(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(t),l=a._custom,c=Ph(l);let u=a[n.axis],d=0,f=i?this.applyStack(n,a,i):u,h,p;f!==u&&(d=f-u,f=u),c&&(u=l.barStart,f=l.barEnd-l.barStart,u!==0&&gi(u)!==gi(l.barEnd)&&(d=0),d+=u);const y=!bt(r)&&!c?r:d;let b=n.getPixelForValue(y);if(this.chart.getDataVisibility(t)?h=n.getPixelForValue(d+f):h=b,p=h-b,Math.abs(p)<s){p=oB(p,n,o)*s,u===o&&(b-=p/2);const g=n.getPixelForDecimal(0),m=n.getPixelForDecimal(1),_=Math.min(g,m),v=Math.max(g,m);b=Math.max(Math.min(b,v),_),h=b+p}if(b===n.getPixelForValue(o)){const g=gi(p)*n.getLineWidthForValue(o)/2;b+=g,p-=g}return{size:p,base:b,head:h,center:h+p/2}}_calculateBarIndexPixels(t,n){const i=n.scale,r=this.options,s=r.skipNull,o=ct(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(t):n.stackCount,u=r.barThickness==="flex"?rB(t,n,r,c):iB(t,n,r,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}xf.id="bar";xf.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};xf.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Ef extends Gn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,r){const s=super.parsePrimitiveData(t,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(t,n,i,r){const s=super.parseArrayData(t,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=ct(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(t,n,i,r){const s=super.parseObjectData(t,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=ct(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,{xScale:i,yScale:r}=n,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:n.label,value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,r),u=o.axis,d=a.axis;for(let f=n;f<n+i;f++){const h=t[f],p=!s&&this.getParsed(f),y={},b=y[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),g=y[d]=s?a.getBasePixel():a.getPixelForValue(p[d]);y.skip=isNaN(b)||isNaN(g),c&&(y.options=l||this.resolveDataElementOptions(f,h.active?"active":r),s&&(y.options.radius=0)),this.updateElement(h,f,y,r)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=ct(i&&i._custom,s),r}}Ef.id="bubble";Ef.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Ef.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function dB(e,t,n){let i=1,r=1,s=0,o=0;if(t<Pt){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),h=(_,v,w)=>Pl(_,a,l,!0)?1:Math.max(v,v*n,w,w*n),p=(_,v,w)=>Pl(_,a,l,!0)?-1:Math.min(v,v*n,w,w*n),y=h(0,c,d),b=h(te,u,f),g=p(Yt,c,d),m=p(Yt+te,u,f);i=(y-g)/2,r=(b-m)/2,s=-(y+g)/2,o=-(b+m)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Jo extends Gn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(gt(i[t])){const{key:l="value"}=this._parsing;s=c=>+Or(i[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return Vn(this.options.rotation-90)}_getCircumference(){return Vn(this.options.circumference)}_getRotationExtents(){let t=Pt,n=-Pt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(aL(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:p,offsetY:y}=dB(d,u,l),b=(i.width-o)/f,g=(i.height-o)/h,m=Math.max(Math.min(b,g)/2,0),_=Cx(this.options.radius,m),v=Math.max(_*l,0),w=(_-v)/this._getVisibleDatasetWeightTotal();this.offsetX=p*_,this.offsetY=y*_,r.total=this.calculateTotal(),this.outerRadius=_-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/Pt)}updateElements(t,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&c.animateScale,h=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(n,r);let g=this._getRotation(),m;for(m=0;m<n;++m)g+=this._circumference(m,s);for(m=n;m<n+i;++m){const _=this._circumference(m,s),v=t[m],w={x:u+this.offsetX,y:d+this.offsetY,startAngle:g,endAngle:g+_,circumference:_,outerRadius:p,innerRadius:h};b&&(w.options=y||this.resolveDataElementOptions(m,v.active?"active":r)),g+=_,this.updateElement(v,m,w,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,r;for(r=0;r<n.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Pt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=ec(n._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const i=this.chart;let r,s,o,a,l;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,a=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(ct(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Jo.id="doughnut";Jo.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Jo.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"};Jo.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((i,r)=>{const o=e.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label;const n=": "+e.formattedValue;return Ut(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class If extends Gn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Ux(n,r,o);this._drawStart=a,this._drawCount=l,$x(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(r,a,l,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,r),f=o.axis,h=a.axis,{spanGaps:p,segment:y}=this.options,b=Vo(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||r==="none";let m=n>0&&this.getParsed(n-1);for(let _=n;_<n+i;++_){const v=t[_],w=this.getParsed(_),x=g?v:{},E=bt(w[h]),D=x[f]=o.getPixelForValue(w[f],_),A=x[h]=s||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,w,l):w[h],_);x.skip=isNaN(D)||isNaN(A)||E,x.stop=_>0&&Math.abs(w[f]-m[f])>b,y&&(x.parsed=w,x.raw=c.data[_]),d&&(x.options=u||this.resolveDataElementOptions(_,v.active?"active":r)),g||this.updateElement(v,_,x,r),m=w}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}If.id="line";If.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};If.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class kf extends Gn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=ec(n._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,n,i,r){return Jx.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*Yt;let h=f,p;const y=360/this.countVisibleElements();for(p=0;p<n;++p)h+=this._computeAngle(p,r,y);for(p=n;p<n+i;p++){const b=t[p];let g=h,m=h+this._computeAngle(p,r,y),_=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;h=m,s&&(l.animateScale&&(_=0),l.animateRotate&&(g=m=f));const v={x:u,y:d,innerRadius:0,outerRadius:_,startAngle:g,endAngle:m,options:this.resolveDataElementOptions(p,b.active?"active":r)};this.updateElement(b,p,v,r)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?Vn(this.resolveDataElementOptions(t,n).angle||i):0}}kf.id="polarArea";kf.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};kf.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((i,r)=>{const o=e.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class ry extends Jo{}ry.id="pie";ry.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Mf extends Gn{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,r){return Jx.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(r,0,r.length,t)}updateElements(t,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),d=o?s.xCenter:u.x,f=o?s.yCenter:u.y,h={x:d,y:f,angle:u.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,a,h,r)}}}Mf.id="radar";Mf.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Mf.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Qn{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Vo(this.x)&&Vo(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}Qn.defaults={};Qn.defaultRoutes=void 0;const uE={values(e){return Ut(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=fB(e,n)}const o=En(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ec(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=e/Math.pow(10,Math.floor(En(e)));return i===1||i===2||i===5?uE.numeric.call(this,e,t,n):""}};function fB(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Tf={formatters:uE};yt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});yt.route("scale.ticks","color","","color");yt.route("scale.grid","color","","borderColor");yt.route("scale.grid","borderColor","","borderColor");yt.route("scale.title","color","","color");yt.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"});yt.describe("scales",{_fallback:"scale"});yt.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"});function hB(e,t){const n=e.options.ticks,i=n.maxTicksLimit||pB(e),r=n.major.enabled?mB(t):[],s=r.length,o=r[0],a=r[s-1],l=[];if(s>i)return yB(t,l,r,s/i),l;const c=gB(r,t,i);if(s>0){let u,d;const f=s>1?Math.round((a-o)/(s-1)):null;for(jc(t,l,c,bt(f)?0:o-f,o),u=0,d=s-1;u<d;u++)jc(t,l,c,r[u],r[u+1]);return jc(t,l,c,a,bt(f)?t.length:a+f),l}return jc(t,l,c),l}function pB(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function gB(e,t,n){const i=_B(e),r=t.length/n;if(!i)return Math.max(r,1);const s=gL(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function mB(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function yB(e,t,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===s&&(t.push(e[o]),r++,s=n[r*i])}function jc(e,t,n,i,r){const s=ct(i,0),o=Math.min(ct(r,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(s+a*n))}function _B(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const vB=e=>e==="left"?"right":e==="right"?"left":e,xv=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n;function Ev(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function bB(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<s-a||l>o+a)))return l}function wB(e,t){Ct(e,n=>{const i=n.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function wa(e){return e.drawTicks?e.tickLength:0}function Iv(e,t){if(!e.display)return 0;const n=de(e.font,t),i=Oe(e.padding);return(Ut(e.text)?e.text.length:1)*n.lineHeight+i.height}function SB(e,t){return Ur(e,{scale:t,type:"scale"})}function xB(e,t,n){return Ur(e,{tick:n,index:t,type:"tick"})}function EB(e,t,n){let i=Gm(e);return(n&&t!=="right"||!n&&t==="right")&&(i=vB(i)),i}function IB(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d=0,f,h,p;const y=o-r,b=a-s;if(e.isHorizontal()){if(h=ke(i,s,a),gt(n)){const g=Object.keys(n)[0],m=n[g];p=u[g].getPixelForValue(m)+y-t}else n==="center"?p=(c.bottom+c.top)/2+y-t:p=xv(e,n,t);f=a-s}else{if(gt(n)){const g=Object.keys(n)[0],m=n[g];h=u[g].getPixelForValue(m)-b+t}else n==="center"?h=(c.left+c.right)/2-b+t:h=xv(e,n,t);p=ke(i,o,r),d=n==="left"?-te:te}return{titleX:h,titleY:p,maxWidth:f,rotation:d}}class As extends Qn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=yn(t,Number.POSITIVE_INFINITY),n=yn(n,Number.NEGATIVE_INFINITY),i=yn(i,Number.POSITIVE_INFINITY),r=yn(r,Number.NEGATIVE_INFINITY),{min:yn(t,i),max:yn(n,r),minDefined:re(t),maxDefined:re(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:yn(n,yn(i,n)),max:yn(i,yn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=iF(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ev(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=hB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bt(this.options.afterUpdate,[this])}beforeSetDimensions(){Bt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Bt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Bt(n.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=this.ticks.length,r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=pe(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/i:h/(i-1),d+6>a&&(a=h/(i-(t.offset?.5:1)),l=this.maxHeight-wa(t.grid)-n.padding-Iv(t.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=Xm(Math.min(Math.asin(pe((u.highest.height+6)/a,-1,1)),Math.asin(pe(l/c,-1,1))-Math.asin(pe(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Bt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Iv(r,n.options.font);if(a?(t.width=this.maxWidth,t.height=wa(s)+l):(t.height=this.maxHeight,t.width=wa(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=i.padding*2,p=Vn(this.labelRotation),y=Math.cos(p),b=Math.sin(p);if(a){const g=i.mirror?0:b*d.width+y*f.height;t.height=Math.min(this.maxHeight,t.height+g+h)}else{const g=i.mirror?0:y*d.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+g+h)}this._calculatePadding(c,u,b,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?c?(f=r*t.width,h=i*n.height):(f=i*t.height,h=r*n.width):s==="start"?h=n.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,h=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=t.height/2;s==="start"?(u=0,d=t.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)bt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Ev(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[];let a=0,l=0,c,u,d,f,h,p,y,b,g,m,_;for(c=0;c<n;++c){if(f=t[c].label,h=this._resolveTickFontOptions(c),i.font=p=h.string,y=r[p]=r[p]||{data:{},gc:[]},b=h.lineHeight,g=m=0,!bt(f)&&!Ut(f))g=ud(i,y.data,y.gc,g,f),m=b;else if(Ut(f))for(u=0,d=f.length;u<d;++u)_=f[u],!bt(_)&&!Ut(_)&&(g=ud(i,y.data,y.gc,g,_),m+=b);s.push(g),o.push(m),a=Math.max(g,a),l=Math.max(m,l)}wB(r,n);const v=s.indexOf(a),w=o.indexOf(l),x=E=>({width:s[E]||0,height:o[E]||0});return{first:x(0),last:x(n-1),widest:x(v),highest:x(w),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return _L(this._alignToPixels?Gr(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=xB(this.getContext(),t,i))}return this.$context||(this.$context=SB(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Vn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o}=r,a=s.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),d=wa(s),f=[],h=s.setContext(this.getContext()),p=h.drawBorder?h.borderWidth:0,y=p/2,b=function(k){return Gr(i,k,p)};let g,m,_,v,w,x,E,D,A,C,z,U;if(o==="top")g=b(this.bottom),x=this.bottom-d,D=g-y,C=b(t.top)+y,U=t.bottom;else if(o==="bottom")g=b(this.top),C=t.top,U=b(t.bottom)-y,x=g+y,D=this.top+d;else if(o==="left")g=b(this.right),w=this.right-d,E=g-y,A=b(t.left)+y,z=t.right;else if(o==="right")g=b(this.left),A=t.left,z=b(t.right)-y,w=g+y,E=this.left+d;else if(n==="x"){if(o==="center")g=b((t.top+t.bottom)/2+.5);else if(gt(o)){const k=Object.keys(o)[0],M=o[k];g=b(this.chart.scales[k].getPixelForValue(M))}C=t.top,U=t.bottom,x=g+y,D=x+d}else if(n==="y"){if(o==="center")g=b((t.left+t.right)/2);else if(gt(o)){const k=Object.keys(o)[0],M=o[k];g=b(this.chart.scales[k].getPixelForValue(M))}w=g-y,E=w-d,A=t.left,z=t.right}const $=ct(r.ticks.maxTicksLimit,u),S=Math.max(1,Math.ceil(u/$));for(m=0;m<u;m+=S){const k=s.setContext(this.getContext(m)),M=k.lineWidth,L=k.color,N=k.borderDash||[],T=k.borderDashOffset,R=k.tickWidth,P=k.tickColor,F=k.tickBorderDash||[],j=k.tickBorderDashOffset;_=bB(this,m,a),_!==void 0&&(v=Gr(i,_,M),l?w=E=A=z=v:x=D=C=U=v,f.push({tx1:w,ty1:x,tx2:E,ty2:D,x1:A,y1:C,x2:z,y2:U,width:M,color:L,borderDash:N,borderDashOffset:T,tickWidth:R,tickColor:P,tickBorderDash:F,tickBorderDashOffset:j}))}return this._ticksLength=u,this._borderValue=g,f}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=wa(i.grid),h=f+u,p=d?-u:h,y=-Vn(this.labelRotation),b=[];let g,m,_,v,w,x,E,D,A,C,z,U,$="middle";if(r==="top")x=this.bottom-p,E=this._getXAxisLabelAlignment();else if(r==="bottom")x=this.top+p,E=this._getXAxisLabelAlignment();else if(r==="left"){const k=this._getYAxisLabelAlignment(f);E=k.textAlign,w=k.x}else if(r==="right"){const k=this._getYAxisLabelAlignment(f);E=k.textAlign,w=k.x}else if(n==="x"){if(r==="center")x=(t.top+t.bottom)/2+h;else if(gt(r)){const k=Object.keys(r)[0],M=r[k];x=this.chart.scales[k].getPixelForValue(M)+h}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")w=(t.left+t.right)/2-h;else if(gt(r)){const k=Object.keys(r)[0],M=r[k];w=this.chart.scales[k].getPixelForValue(M)}E=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?$="top":l==="end"&&($="bottom"));const S=this._getLabelSizes();for(g=0,m=a.length;g<m;++g){_=a[g],v=_.label;const k=s.setContext(this.getContext(g));D=this.getPixelForTick(g)+s.labelOffset,A=this._resolveTickFontOptions(g),C=A.lineHeight,z=Ut(v)?v.length:1;const M=z/2,L=k.color,N=k.textStrokeColor,T=k.textStrokeWidth;let R=E;o?(w=D,E==="inner"&&(g===m-1?R=this.options.reverse?"left":"right":g===0?R=this.options.reverse?"right":"left":R="center"),r==="top"?c==="near"||y!==0?U=-z*C+C/2:c==="center"?U=-S.highest.height/2-M*C+C:U=-S.highest.height+C/2:c==="near"||y!==0?U=C/2:c==="center"?U=S.highest.height/2-M*C:U=S.highest.height-z*C,d&&(U*=-1)):(x=D,U=(1-z)*C/2);let P;if(k.showLabelBackdrop){const F=Oe(k.backdropPadding),j=S.heights[g],H=S.widths[g];let W=x+U-F.top,Q=w-F.left;switch($){case"middle":W-=j/2;break;case"bottom":W-=j;break}switch(E){case"center":Q-=H/2;break;case"right":Q-=H;break}P={left:Q,top:W,width:H+F.width,height:j+F.height,color:k.backdropColor}}b.push({rotation:y,label:v,font:A,color:L,strokeColor:N,strokeWidth:T,textOffset:U,textAlign:R,textBaseline:$,translation:[w,x],backdrop:P})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Vn(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{grid:i}}=this,r=i.setContext(this.getContext()),s=i.drawBorder?r.borderWidth:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=Gr(t,this.left,s)-s/2,c=Gr(t,this.right,o)+o/2,u=d=a):(u=Gr(t,this.top,s)-s/2,d=Gr(t,this.bottom,o)+o/2,l=c=a),n.save(),n.lineWidth=r.borderWidth,n.strokeStyle=r.borderColor,n.beginPath(),n.moveTo(l,u),n.lineTo(c,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&bf(i,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(t));let o,a;for(o=0,a=s.length;o<a;++o){const l=s[o],c=l.font,u=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let d=l.textOffset;Es(i,u,0,d,c,l)}r&&wf(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=de(i.font),o=Oe(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||gt(n)?(l+=o.bottom,Ut(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=IB(this,l,n,a);Es(t,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:EB(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ct(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==As.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return de(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hc{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;TB(n)&&(i=this.register(n));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,kB(t,o,i),this.override&&yt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in yt[r]&&(delete yt[r][i],this.override&&delete xs[i])}}function kB(e,t,n){const i=Rl(Object.create(null),[n?yt.get(n):{},yt.get(t),e.defaults]);yt.set(t,i),e.defaultRoutes&&MB(t,e.defaultRoutes),e.descriptors&&yt.describe(t,e.descriptors)}function MB(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");yt.route(s,r,l,a)})}function TB(e){return"id"in e&&"defaults"in e}class AB{constructor(){this.controllers=new Hc(Gn,"datasets",!0),this.elements=new Hc(Qn,"elements"),this.plugins=new Hc(Object,"plugins"),this.scales=new Hc(As,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Ct(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const r=Ym(t);Bt(i["before"+r],[],i),n[t](i),Bt(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var ci=new AB;class Af extends Gn{update(t){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=Ux(n,i,r);if(this._drawStart=s,this._drawCount=o,$x(n)&&(s=0,o=i.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},t)}this.updateElements(i,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=ci.getElement("line")),super.addElements()}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),d=this.getSharedOptions(u),f=this.includeOptions(r,d),h=o.axis,p=a.axis,{spanGaps:y,segment:b}=this.options,g=Vo(y)?y:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||r==="none";let _=n>0&&this.getParsed(n-1);for(let v=n;v<n+i;++v){const w=t[v],x=this.getParsed(v),E=m?w:{},D=bt(x[p]),A=E[h]=o.getPixelForValue(x[h],v),C=E[p]=s||D?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[p],v);E.skip=isNaN(A)||isNaN(C)||D,E.stop=v>0&&Math.abs(x[h]-_[h])>g,b&&(E.parsed=x,E.raw=c.data[v]),f&&(E.options=d||this.resolveDataElementOptions(v,w.active?"active":r)),m||this.updateElement(w,v,E,r),_=x}this.updateSharedOptions(d,r,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}Af.id="scatter";Af.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};Af.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var DB=Object.freeze({__proto__:null,BarController:xf,BubbleController:Ef,DoughnutController:Jo,LineController:If,PolarAreaController:kf,PieController:ry,RadarController:Mf,ScatterController:Af});function Qr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fg{constructor(t){this.options=t||{}}init(t){}formats(){return Qr()}parse(t,n){return Qr()}format(t,n){return Qr()}add(t,n,i){return Qr()}diff(t,n,i){return Qr()}startOf(t,n,i){return Qr()}endOf(t,n){return Qr()}}fg.override=function(e){Object.assign(fg.prototype,e)};var OB={_date:fg};function CB(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const l=a._reversePixels?vL:Ui;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const d=l(s,t,n-u),f=l(s,t,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(s,t,n)}return{lo:0,hi:s.length-1}}function nc(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=CB(s[a],t,o,r);for(let h=d;h<=f;++h){const p=u[h];p.skip||i(p,c,h)}}}function NB(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Lh(e,t,n,i,r){const s=[];return!r&&!e.isPointInArea(t)||nc(e,n,t,function(a,l,c){!r&&!Ll(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function RB(e,t,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=Px(o,{x:t.x,y:t.y});Pl(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return nc(e,n,t,s),r}function PB(e,t,n,i,r,s){let o=[];const a=NB(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const h=u.inRange(t.x,t.y,r);if(i&&!h)return;const p=u.getCenterPoint(r);if(!(!!s||e.isPointInArea(p))&&!h)return;const b=a(t,p);b<l?(o=[{element:u,datasetIndex:d,index:f}],l=b):b===l&&o.push({element:u,datasetIndex:d,index:f})}return nc(e,n,t,c),o}function Fh(e,t,n,i,r,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!i?RB(e,t,n,r):PB(e,t,n,i,r,s)}function kv(e,t,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return nc(e,n,t,(l,c,u)=>{l[o](t[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var LB={evaluateInteractionItems:nc,modes:{index(e,t,n,i){const r=es(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Lh(e,r,s,i,o):Fh(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,i){const r=es(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Lh(e,r,s,i,o):Fh(e,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,i){const r=es(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Lh(e,r,s,i,o)},nearest(e,t,n,i){const r=es(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Fh(e,r,s,n.intersect,i,o)},x(e,t,n,i){const r=es(t,e);return kv(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=es(t,e);return kv(e,r,"y",n.intersect,i)}}};const dE=["left","top","right","bottom"];function Sa(e,t){return e.filter(n=>n.pos===t)}function Mv(e,t){return e.filter(n=>dE.indexOf(n.pos)===-1&&n.box.axis===t)}function xa(e,t){return e.sort((n,i)=>{const r=t?i:n,s=t?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function FB(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function BB(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!dE.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function zB(e,t){const n=BB(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&t.availableHeight)}return n}function UB(e){const t=FB(e),n=xa(t.filter(c=>c.box.fullSize),!0),i=xa(Sa(t,"left"),!0),r=xa(Sa(t,"right")),s=xa(Sa(t,"top"),!0),o=xa(Sa(t,"bottom")),a=Mv(t,"x"),l=Mv(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Sa(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Tv(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function fE(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function $B(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!gt(r)){n.size&&(e[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,e[r]+=n.size}s.getPadding&&fE(o,s.getPadding());const a=Math.max(0,t.outerWidth-Tv(o,e,"left","right")),l=Math.max(0,t.outerHeight-Tv(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function VB(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function jB(e,t){const n=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return i(e?["left","right"]:["top","bottom"])}function La(e,t,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,jB(a.horizontal,t));const{same:d,other:f}=$B(t,n,a,i);c|=d&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&La(r,t,n,i)||u}function Wc(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function Av(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=t.w*u,f=c.size||l.height;On(c.start)&&(o=c.start),l.fullSize?Wc(l,r.left,o,n.outerWidth-r.right-r.left,f):Wc(l,t.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=t.h*u,f=c.size||l.width;On(c.start)&&(s=c.start),l.fullSize?Wc(l,s,r.top,f,n.outerHeight-r.bottom-r.top):Wc(l,s,t.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}t.x=s,t.y=o}yt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Te={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=Oe(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=UB(e.boxes),l=a.vertical,c=a.horizontal;Ct(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);fE(f,Oe(i));const h=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),p=zB(l.concat(c),d);La(a.fullSize,h,d,p),La(l,h,d,p),La(c,h,d,p)&&La(l,h,d,p),VB(h),Av(a.leftAndTop,h,d,p),h.x+=h.w,h.y+=h.h,Av(a.rightAndBottom,h,d,p),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Ct(a.chartArea,y=>{const b=y.box;Object.assign(b,e.chartArea),b.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class hE{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class HB extends hE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const gu="$chartjs",WB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Dv=e=>e===null||e==="";function YB(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[gu]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Dv(r)){const s=lv(e,"width");s!==void 0&&(e.width=s)}if(Dv(i))if(e.style.height==="")e.height=e.width/(t||2);else{const s=lv(e,"height");s!==void 0&&(e.height=s)}return e}const pE=kF?{passive:!0}:!1;function XB(e,t,n){e.addEventListener(t,n,pE)}function KB(e,t,n){e.canvas.removeEventListener(t,n,pE)}function GB(e,t){const n=WB[e.type]||e.type,{x:i,y:r}=es(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function fd(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function QB(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||fd(a.addedNodes,i),o=o&&!fd(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function qB(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||fd(a.removedNodes,i),o=o&&!fd(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Bl=new Map;let Ov=0;function gE(){const e=window.devicePixelRatio;e!==Ov&&(Ov=e,Bl.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function ZB(e,t){Bl.size||window.addEventListener("resize",gE),Bl.set(e,t)}function JB(e){Bl.delete(e),Bl.size||window.removeEventListener("resize",gE)}function t3(e,t,n){const i=e.canvas,r=i&&iy(i);if(!r)return;const s=zx((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),ZB(e,s),o}function Bh(e,t,n){n&&n.disconnect(),t==="resize"&&JB(e)}function e3(e,t,n){const i=e.canvas,r=zx(s=>{e.ctx!==null&&n(GB(s,e))},e,s=>{const o=s[0];return[o,o.offsetX,o.offsetY]});return XB(i,t,r),r}class n3 extends hE{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(YB(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[gu])return!1;const i=n[gu].initial;["height","width"].forEach(s=>{const o=i[s];bt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[gu],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:QB,detach:qB,resize:t3}[n]||e3;r[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:Bh,detach:Bh,resize:Bh}[n]||KB)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return IF(t,n,i,r)}isAttached(t){const n=iy(t);return!!(n&&n.isConnected)}}function i3(e){return!eE()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?HB:n3}class r3{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,n,i);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,r){r=r||{};for(const s of t){const o=s.plugin,a=o[i],l=[n,r,s.options];if(Bt(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=ct(i.options&&i.options.plugins,{}),s=s3(i);return r===!1&&!n?[]:a3(t,s,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function s3(e){const t={},n=[],i=Object.keys(ci.plugins.items);for(let s=0;s<i.length;s++)n.push(ci.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function o3(e,t){return!t&&e===!1?null:e===!0?{}:e}function a3(e,{plugins:t,localIds:n},i,r){const s=[],o=e.getContext();for(const a of t){const l=a.id,c=o3(i[l],r);c!==null&&s.push({plugin:a,options:l3(e.config,{plugin:a,local:n[l]},c,o)})}return s}function l3(e,{plugin:t,local:n},i,r){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(i,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hg(e,t){const n=yt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function c3(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function u3(e,t){return e===t?"_index_":"_value_"}function d3(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function pg(e,t){return e==="x"||e==="y"?e:t.axis||d3(t.position)||e.charAt(0).toLowerCase()}function f3(e,t){const n=xs[e.type]||{scales:{}},i=t.scales||{},r=hg(e.type,t),s=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!gt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=pg(a,l),u=u3(c,r),d=n.scales||{};s[c]=s[c]||a,o[a]=el(Object.create(null),[{axis:c},l,d[c],d[u]])}),e.data.datasets.forEach(a=>{const l=a.type||e.type,c=a.indexAxis||hg(l,t),d=(xs[l]||{}).scales||{};Object.keys(d).forEach(f=>{const h=c3(f,c),p=a[h+"AxisID"]||s[h]||h;o[p]=o[p]||Object.create(null),el(o[p],[{axis:h},i[p],d[f]])})}),Object.keys(o).forEach(a=>{const l=o[a];el(l,[yt.scales[l.type],yt.scale])}),o}function mE(e){const t=e.options||(e.options={});t.plugins=ct(t.plugins,{}),t.scales=f3(e,t)}function yE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function h3(e){return e=e||{},e.data=yE(e.data),mE(e),e}const Cv=new Map,_E=new Set;function Yc(e,t){let n=Cv.get(e);return n||(n=t(),Cv.set(e,n),_E.add(n)),n}const Ea=(e,t,n)=>{const i=Or(t,n);i!==void 0&&e.add(i)};class p3{constructor(t){this._config=h3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=yE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),mE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Yc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Yc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Yc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Yc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(d=>Ea(l,t,d))),u.forEach(d=>Ea(l,r,d)),u.forEach(d=>Ea(l,xs[s]||{},d)),u.forEach(d=>Ea(l,yt,d)),u.forEach(d=>Ea(l,ug,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),_E.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,xs[n]||{},yt.datasets[n]||{},{type:n},yt,ug]}resolveNamedOptions(t,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Nv(this._resolverCache,t,r);let l=o;if(m3(o,n)){s.$shared=!1,i=Cr(i)?i():i;const c=this.createResolver(t,i,a);l=jo(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(t,n,i=[""],r){const{resolver:s}=Nv(this._resolverCache,t,i);return gt(n)?jo(s,n,void 0,r):s}}function Nv(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);return s||(s={resolver:ty(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const g3=e=>gt(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||Cr(e[n]),!1);function m3(e,t){const{isScriptable:n,isIndexable:i}=Gx(e);for(const r of t){const s=n(r),o=i(r),a=(o||s)&&e[r];if(s&&(Cr(a)||g3(a))||o&&Ut(a))return!0}return!1}var y3="3.9.1";const _3=["top","bottom","left","right","chartArea"];function Rv(e,t){return e==="top"||e==="bottom"||_3.indexOf(e)===-1&&t==="x"}function Pv(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Lv(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Bt(n&&n.onComplete,[e],t)}function v3(e){const t=e.chart,n=t.options.animation;Bt(n&&n.onProgress,[e],t)}function vE(e){return eE()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const hd={},bE=e=>{const t=vE(e);return Object.values(hd).filter(n=>n.canvas===t).pop()};function b3(e,t,n){const i=Object.keys(e);for(const r of i){const s=+r;if(s>=t){const o=e[r];delete e[r],(n>0||s>t)&&(e[s+n]=o)}}}function w3(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class Df{constructor(t,n){const i=this.config=new p3(n),r=vE(t),s=bE(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||i3(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=oL(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new r3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=SL(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],hd[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ii.listen(this,"complete",Lv),Ii.listen(this,"progress",v3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return bt(t)?n&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():av(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rv(this.canvas,this.ctx),this}stop(){return Ii.stop(this),this}resize(t,n){Ii.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,av(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Bt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ct(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=pg(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ct(s,o=>{const a=o.options,l=a.id,c=pg(l,a),u=ct(a.type,o.dtype);(a.position===void 0||Rv(a.position,c)!==Rv(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const f=ci.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,t)}),Ct(r,(o,a)=>{o||delete i[a]}),Ct(i,o=>{Te.configure(this,o,o.options),Te.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Pv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||hg(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=ci.getController(a),{datasetElementType:c,dataElementType:u}=yt.datasets[a];Object.assign(l.prototype,{dataElementType:ci.getElement(u),datasetElementType:c&&ci.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Ct(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Ct(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Pv("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ct(this.scales,t=>{Te.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Y_(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;b3(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!Y_(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Te.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ct(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Cr(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ii.has(this)?this.attached&&!Ii.running(this)&&Ii.start(this):(this.draw(),Lv({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,s=this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&bf(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&wf(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Ll(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const s=LB.modes[n];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ur(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);On(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ii.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),rv(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete hd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Ct(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},r=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ct(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ct(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!od(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}_updateHoverStyles(t,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,t),a=i?t:s(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(t,r,i,o),l=fL(t),c=w3(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Bt(s.onHover,[t,a,this],this),l&&Bt(s.onClick,[t,a,this],this));const u=!od(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}const Fv=()=>Ct(Df.instances,e=>e._plugins.invalidate()),er=!0;Object.defineProperties(Df,{defaults:{enumerable:er,value:yt},instances:{enumerable:er,value:hd},overrides:{enumerable:er,value:xs},registry:{enumerable:er,value:ci},version:{enumerable:er,value:y3},getChart:{enumerable:er,value:bE},register:{enumerable:er,value:(...e)=>{ci.add(...e),Fv()}},unregister:{enumerable:er,value:(...e)=>{ci.remove(...e),Fv()}}});function wE(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;e.beginPath(),e.arc(s,o,a,i-c,n+c),l>r?(c=r/l,e.arc(s,o,l,n+c,i-c,!0)):e.arc(s,o,r,n+te,i-te),e.closePath(),e.clip()}function S3(e){return Jm(e,["outerStart","outerEnd","innerStart","innerEnd"])}function x3(e,t,n,i){const r=S3(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,i*t/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return pe(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:pe(r.innerStart,0,o),innerEnd:pe(r.innerEnd,0,o)}}function Vs(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function gg(e,t,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+i+n-c,0),f=u>0?u+i+n+c:0;let h=0;const p=r-l;if(i){const k=u>0?u-i:0,M=d>0?d-i:0,L=(k+M)/2,N=L!==0?p*L/(L+i):p;h=(p-N)/2}const y=Math.max(.001,p*d-n/Yt)/d,b=(p-y)/2,g=l+b+h,m=r-b-h,{outerStart:_,outerEnd:v,innerStart:w,innerEnd:x}=x3(t,f,d,m-g),E=d-_,D=d-v,A=g+_/E,C=m-v/D,z=f+w,U=f+x,$=g+w/z,S=m-x/U;if(e.beginPath(),s){if(e.arc(o,a,d,A,C),v>0){const L=Vs(D,C,o,a);e.arc(L.x,L.y,v,C,m+te)}const k=Vs(U,m,o,a);if(e.lineTo(k.x,k.y),x>0){const L=Vs(U,S,o,a);e.arc(L.x,L.y,x,m+te,S+Math.PI)}if(e.arc(o,a,f,m-x/f,g+w/f,!0),w>0){const L=Vs(z,$,o,a);e.arc(L.x,L.y,w,$+Math.PI,g-te)}const M=Vs(E,g,o,a);if(e.lineTo(M.x,M.y),_>0){const L=Vs(E,A,o,a);e.arc(L.x,L.y,_,g-te,A)}}else{e.moveTo(o,a);const k=Math.cos(A)*d+o,M=Math.sin(A)*d+a;e.lineTo(k,M);const L=Math.cos(C)*d+o,N=Math.sin(C)*d+a;e.lineTo(L,N)}e.closePath()}function E3(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){gg(e,t,n,i,o+Pt,r);for(let c=0;c<s;++c)e.fill();isNaN(a)||(l=o+a%Pt,a%Pt===0&&(l+=Pt))}return gg(e,t,n,i,l,r),e.fill(),l}function I3(e,t,n){const{x:i,y:r,startAngle:s,pixelMargin:o,fullCircles:a}=t,l=Math.max(t.outerRadius-o,0),c=t.innerRadius+o;let u;for(n&&wE(e,t,s+Pt),e.beginPath(),e.arc(i,r,c,s+Pt,s,!0),u=0;u<a;++u)e.stroke();for(e.beginPath(),e.arc(i,r,l,s,s+Pt),u=0;u<a;++u)e.stroke()}function k3(e,t,n,i,r,s){const{options:o}=t,{borderWidth:a,borderJoinStyle:l}=o,c=o.borderAlign==="inner";a&&(c?(e.lineWidth=a*2,e.lineJoin=l||"round"):(e.lineWidth=a,e.lineJoin=l||"bevel"),t.fullCircles&&I3(e,t,c),c&&wE(e,t,r),gg(e,t,n,i,r,s),e.stroke())}class Of extends Qn{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=Px(r,{x:t,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=this.options.spacing/2,p=ct(d,l-a)>=Pt||Pl(s,a,l),y=zi(o,c+f,u+f);return p&&y}getCenterPoint(t){const{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:l,spacing:c}=this.options,u=(r+s)/2,d=(o+a+c+l)/2;return{x:n+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,r=(n.offset||0)/2,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Pt?Math.floor(i/Pt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(r){a=r/2;const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*a,Math.sin(c)*a),this.circumference>=Yt&&(a=r)}t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor;const l=E3(t,this,a,s,o);k3(t,this,a,s,l,o),t.restore()}}Of.id="arc";Of.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};Of.defaultRoutes={backgroundColor:"backgroundColor"};function SE(e,t,n=t){e.lineCap=ct(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ct(n.borderDash,t.borderDash)),e.lineDashOffset=ct(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ct(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ct(n.borderWidth,t.borderWidth),e.strokeStyle=ct(n.borderColor,t.borderColor)}function M3(e,t,n){e.lineTo(n.x,n.y)}function T3(e){return e.stepped?GL:e.tension||e.cubicInterpolationMode==="monotone"?QL:M3}function xE(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function A3(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=xE(r,n,i),u=T3(s);let{move:d=!0,reverse:f}=i||{},h,p,y;for(h=0;h<=c;++h)p=r[(a+(f?c-h:h))%o],!p.skip&&(d?(e.moveTo(p.x,p.y),d=!1):u(e,y,p,f,s.stepped),y=p);return l&&(p=r[(a+(f?c:0))%o],u(e,y,p,f,s.stepped)),!!l}function D3(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=xE(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,f,h,p,y,b,g;const m=v=>(o+(c?a-v:v))%s,_=()=>{y!==b&&(e.lineTo(u,b),e.lineTo(u,y),e.lineTo(u,g))};for(l&&(h=r[m(0)],e.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=r[m(f)],h.skip)continue;const v=h.x,w=h.y,x=v|0;x===p?(w<y?y=w:w>b&&(b=w),u=(d*u+v)/++d):(_(),e.lineTo(v,w),p=x,d=0,y=b=w),g=w}_()}function mg(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?D3:A3}function O3(e){return e.stepped?MF:e.tension||e.cubicInterpolationMode==="monotone"?TF:ns}function C3(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),SE(e,t.options),e.stroke(r)}function N3(e,t,n,i){const{segments:r,options:s}=t,o=mg(t);for(const a of r)SE(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const R3=typeof Path2D=="function";function P3(e,t,n,i){R3&&!t.options.segment?C3(e,t,n,i):N3(e,t,n,i)}class $r extends Qn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;vF(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=PF(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],s=this.points,o=oE(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=O3(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],h=s[d],p=s[f];if(h===p){a.push(h);continue}const y=Math.abs((r-h[n])/(p[n]-h[n])),b=l(h,p,y,i.stepped);b[n]=t[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(t,n,i){return mg(this)(t,this,n,i)}path(t,n,i){const r=this.segments,s=mg(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),P3(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$r.id="line";$r.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};$r.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};$r.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};function Bv(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}class Cf extends Qn{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,n){return Bv(this,t,"x",n)}inYRange(t,n){return Bv(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!Ll(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,dg(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Cf.id="point";Cf.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Cf.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function EE(e,t){const{x:n,y:i,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,d;return e.horizontal?(d=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=s/2,a=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function mr(e,t,n,i){return e?0:pe(t,n,i)}function L3(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,s=Kx(i);return{t:mr(r.top,s.top,0,n),r:mr(r.right,s.right,0,t),b:mr(r.bottom,s.bottom,0,n),l:mr(r.left,s.left,0,t)}}function F3(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=hs(r),o=Math.min(t,n),a=e.borderSkipped,l=i||gt(r);return{topLeft:mr(!l||a.top||a.left,s.topLeft,0,o),topRight:mr(!l||a.top||a.right,s.topRight,0,o),bottomLeft:mr(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:mr(!l||a.bottom||a.right,s.bottomRight,0,o)}}function B3(e){const t=EE(e),n=t.right-t.left,i=t.bottom-t.top,r=L3(e,n/2,i/2),s=F3(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function zh(e,t,n,i){const r=t===null,s=n===null,a=e&&!(r&&s)&&EE(e,i);return a&&(r||zi(t,a.left,a.right))&&(s||zi(n,a.top,a.bottom))}function z3(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function U3(e,t){e.rect(t.x,t.y,t.w,t.h)}function Uh(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+s,h:e.h+o,radius:e.radius}}class Nf extends Qn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=B3(this),a=z3(o.radius)?Fl:U3;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,Uh(o,n,s)),t.clip(),a(t,Uh(s,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Uh(s,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return zh(this,t,n,i)}inXRange(t,n){return zh(this,t,null,n)}inYRange(t,n){return zh(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Nf.id="bar";Nf.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Nf.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var $3=Object.freeze({__proto__:null,ArcElement:Of,LineElement:$r,PointElement:Cf,BarElement:Nf});function V3(e,t,n,i,r){const s=r.samples||i;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const c=t+n-1;let u=t,d,f,h,p,y;for(o[l++]=e[u],d=0;d<s-2;d++){let b=0,g=0,m;const _=Math.floor((d+1)*a)+1+t,v=Math.min(Math.floor((d+2)*a)+1,n)+t,w=v-_;for(m=_;m<v;m++)b+=e[m].x,g+=e[m].y;b/=w,g/=w;const x=Math.floor(d*a)+1+t,E=Math.min(Math.floor((d+1)*a)+1,n)+t,{x:D,y:A}=e[u];for(h=p=-1,m=x;m<E;m++)p=.5*Math.abs((D-b)*(e[m].y-A)-(D-e[m].x)*(g-A)),p>h&&(h=p,f=e[m],y=m);o[l++]=f,u=y}return o[l++]=e[c],o}function j3(e,t,n,i){let r=0,s=0,o,a,l,c,u,d,f,h,p,y;const b=[],g=t+n-1,m=e[t].x,v=e[g].x-m;for(o=t;o<t+n;++o){a=e[o],l=(a.x-m)/v*i,c=a.y;const w=l|0;if(w===u)c<p?(p=c,d=o):c>y&&(y=c,f=o),r=(s*r+a.x)/++s;else{const x=o-1;if(!bt(d)&&!bt(f)){const E=Math.min(d,f),D=Math.max(d,f);E!==h&&E!==x&&b.push({...e[E],x:r}),D!==h&&D!==x&&b.push({...e[D],x:r})}o>0&&x!==h&&b.push(e[x]),b.push(a),u=w,s=0,p=y=c,d=f=h=o}}return b}function IE(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function zv(e){e.data.datasets.forEach(t=>{IE(t)})}function H3(e,t){const n=t.length;let i=0,r;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=pe(Ui(t,s.axis,o).lo,0,n-1)),c?r=pe(Ui(t,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var W3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){zv(e);return}const i=e.width;e.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=e.getDatasetMeta(s),c=o||r.data;if(Pa([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:d,count:f}=H3(l,c);const h=n.threshold||4*i;if(f<=h){IE(r);return}bt(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let p;switch(n.algorithm){case"lttb":p=V3(c,d,f,i,n);break;case"min-max":p=j3(c,d,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(e){zv(e)}};function Y3(e,t,n){const i=e.segments,r=e.points,s=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=sy(l,c,r);const u=yg(n,r[l],r[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const d=oE(t,u);for(const f of d){const h=yg(n,s[f.start],s[f.end],f.loop),p=sE(a,r,h);for(const y of p)o.push({source:y,target:f,start:{[n]:Uv(u,h,"start",Math.max)},end:{[n]:Uv(u,h,"end",Math.min)}})}}return o}function yg(e,t,n,i){if(i)return;let r=t[e],s=n[e];return e==="angle"&&(r=on(r),s=on(s)),{property:e,start:r,end:s}}function X3(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=sy(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function sy(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Uv(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function kE(e,t){let n=[],i=!1;return Ut(e)?(i=!0,n=e):n=X3(e,t),n.length?new $r({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function $v(e){return e&&e.fill!==!1}function K3(e,t,n){let r=e[t].fill;const s=[t];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!re(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function G3(e,t,n){const i=J3(e);if(gt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return re(r)&&Math.floor(r)===r?Q3(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Q3(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function q3(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:gt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Z3(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:gt(e)?i=e.value:i=t.getBaseValue(),i}function J3(e){const t=e.options,n=t.fill;let i=ct(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function tz(e){const{scale:t,index:n,line:i}=e,r=[],s=i.segments,o=i.points,a=ez(t,n);a.push(kE({x:null,y:t.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)nz(r,o[u],a)}return new $r({points:r,options:{}})}function ez(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function nz(e,t,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=iz(s,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function iz(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=o[u.start][n],f=o[u.end][n];if(zi(r,d,f)){a=r===d,l=r===f;break}}return{first:a,last:l,point:i}}class ME{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:Pt},t.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:r}=this,s=t.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function rz(e){const{chart:t,fill:n,line:i}=e;if(re(n))return sz(t,n);if(n==="stack")return tz(e);if(n==="shape")return!0;const r=oz(e);return r instanceof ME?r:kE(r,i)}function sz(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function oz(e){return(e.scale||{}).getPointPositionForValue?lz(e):az(e)}function az(e){const{scale:t={},fill:n}=e,i=q3(n,t);if(re(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function lz(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=Z3(n,t,s),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,s);return new ME({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}function $h(e,t,n){const i=rz(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&r.points.length&&(bf(e,n),cz(e,{line:r,target:i,above:u,below:d,area:n,scale:s,axis:o}),wf(e))}function cz(e,t){const{line:n,target:i,above:r,below:s,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&s!==r&&(Vv(e,i,o.top),jv(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore(),e.save(),Vv(e,i,o.bottom)),jv(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore()}function Vv(e,t,n){const{segments:i,points:r}=t;let s=!0,o=!1;e.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],d=r[sy(l,c,r)];s?(e.moveTo(u.x,u.y),s=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function jv(e,t){const{line:n,target:i,property:r,color:s,scale:o}=t,a=Y3(n,i,r);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:f=s}={}}=l,h=i!==!0;e.save(),e.fillStyle=f,uz(e,o,h&&yg(r,u,d)),e.beginPath();const p=!!n.pathSegment(e,l);let y;if(h){p?e.closePath():Hv(e,i,d,r);const b=!!i.pathSegment(e,c,{move:p,reverse:!0});y=p&&b,y||Hv(e,i,u,r)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function uz(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(e.beginPath(),e.rect(o,i,a-o,r-i),e.clip())}function Hv(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var dz={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof $r&&(l={visible:e.isDatasetVisible(o),index:o,fill:G3(a,o,i),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=K3(r,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&$h(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;$v(s)&&$h(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!$v(i)||n.drawTime!=="beforeDatasetDraw"||$h(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Wv=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},fz=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Yv extends Qn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Bt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=de(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Wv(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let d=t;s.textAlign="left",s.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((p,y)=>{const b=i+n/2+s.measureText(p.text).width;(y===0||c[c.length-1]+b+2*a>o)&&(d+=u,c[c.length-(y>0?0:1)]=0,h+=u,f++),l[y]={left:0,top:h,row:f,width:b,height:r},c[c.length-1]+=b+a}),d}_fitCols(t,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let d=a,f=0,h=0,p=0,y=0;return this.legendItems.forEach((b,g)=>{const m=i+n/2+s.measureText(b.text).width;g>0&&h+r+2*a>u&&(d+=f+a,c.push({width:f,height:h}),p+=f+a,y++,f=h=0),l[g]={left:p,top:h,col:y,width:m,height:r},f=Math.max(f,m),h+=r+a}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Io(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ke(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ke(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+t+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=ke(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ke(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;bf(t,this),this._draw(),wf(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=yt.color,l=Io(t.rtl,this.left,this.width),c=de(o.font),{color:u,padding:d}=o,f=c.size,h=f/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:y,boxHeight:b,itemHeight:g}=Wv(o,f),m=function(E,D,A){if(isNaN(y)||y<=0||isNaN(b)||b<0)return;r.save();const C=ct(A.lineWidth,1);if(r.fillStyle=ct(A.fillStyle,a),r.lineCap=ct(A.lineCap,"butt"),r.lineDashOffset=ct(A.lineDashOffset,0),r.lineJoin=ct(A.lineJoin,"miter"),r.lineWidth=C,r.strokeStyle=ct(A.strokeStyle,a),r.setLineDash(ct(A.lineDash,[])),o.usePointStyle){const z={radius:b*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:C},U=l.xPlus(E,y/2),$=D+h;Xx(r,z,U,$,o.pointStyleWidth&&y)}else{const z=D+Math.max((f-b)/2,0),U=l.leftForLtr(E,y),$=hs(A.borderRadius);r.beginPath(),Object.values($).some(S=>S!==0)?Fl(r,{x:U,y:z,w:y,h:b,radius:$}):r.rect(U,z,y,b),r.fill(),C!==0&&r.stroke()}r.restore()},_=function(E,D,A){Es(r,A.text,E,D+g/2,c,{strikethrough:A.hidden,textAlign:l.textAlign(A.textAlign)})},v=this.isHorizontal(),w=this._computeTitleHeight();v?p={x:ke(s,this.left+d,this.right-i[0]),y:this.top+d+w,line:0}:p={x:this.left+d,y:ke(s,this.top+w+d,this.bottom-n[0].height),line:0},nE(this.ctx,t.textDirection);const x=g+d;this.legendItems.forEach((E,D)=>{r.strokeStyle=E.fontColor||u,r.fillStyle=E.fontColor||u;const A=r.measureText(E.text).width,C=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),z=y+h+A;let U=p.x,$=p.y;l.setWidth(this.width),v?D>0&&U+z+d>this.right&&($=p.y+=x,p.line++,U=p.x=ke(s,this.left+d,this.right-i[p.line])):D>0&&$+x>this.bottom&&(U=p.x=U+n[p.line].width+d,p.line++,$=p.y=ke(s,this.top+w+d,this.bottom-n[p.line].height));const S=l.x(U);m(S,$,E),U=xL(C,U+y+h,v?U+z:this.right,t.rtl),_(l.x(U),$,E),v?p.x+=z+d:p.y+=x}),iE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=de(n.font),r=Oe(n.padding);if(!n.display)return;const s=Io(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=ke(t.align,d,this.right-f);else{const p=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);u=c+ke(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const h=ke(a,d,d+f);o.textAlign=s.textAlign(Gm(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Es(o,n.text,h,u,i)}_computeTitleHeight(){const t=this.options.title,n=de(t.font),i=Oe(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,s;if(zi(t,this.left,this.right)&&zi(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],zi(t,r.left,r.left+r.width)&&zi(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!hz(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=fz(r,i);r&&!s&&Bt(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Bt(n.onHover,[t,i,this],this)}else i&&Bt(n.onClick,[t,i,this],this)}}function hz(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var pz={id:"legend",_element:Yv,start(e,t,n){const i=e.legend=new Yv({ctx:e.ctx,options:n,chart:e});Te.configure(e,i,n),Te.addBox(e,i)},stop(e){Te.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Te.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s}}=e.legend.options;return e._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(n?0:void 0),l=Oe(a.borderWidth);return{text:t[o.index].label,fillStyle:a.backgroundColor,fontColor:s,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:r||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class oy extends Qn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=Ut(i.text)?i.text.length:1;this._padding=Oe(i.padding);const s=r*de(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=ke(a,i,s),d=n+t,c=s-i):(o.position==="left"?(u=i+t,d=ke(a,r,n),l=Yt*-.5):(u=s-t,d=ke(a,n,r),l=Yt*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=de(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Es(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Gm(n.align),textBaseline:"middle",translation:[o,a]})}}function gz(e,t){const n=new oy({ctx:e.ctx,options:t,chart:e});Te.configure(e,n,t),Te.addBox(e,n),e.titleBlock=n}var mz={id:"title",_element:oy,start(e,t,n){gz(e,n)},stop(e){const t=e.titleBlock;Te.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Te.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xc=new WeakMap;var yz={id:"subtitle",start(e,t,n){const i=new oy({ctx:e.ctx,options:n,chart:e});Te.configure(e,i,n),Te.addBox(e,i),Xc.set(e,i)},stop(e){Te.removeBox(e,Xc.get(e)),Xc.delete(e)},beforeUpdate(e,t,n){const i=Xc.get(e);Te.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sl={average(e){if(!e.length)return!1;let t,n,i=0,r=0,s=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=lg(t,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function ti(e,t){return t&&(Ut(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ki(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function _z(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Xv(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=de(t.bodyFont),c=de(t.titleFont),u=de(t.footerFont),d=s.length,f=r.length,h=i.length,p=Oe(t.padding);let y=p.height,b=0,g=i.reduce((v,w)=>v+w.before.length+w.lines.length+w.after.length,0);if(g+=e.beforeBody.length+e.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),g){const v=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=h*v+(g-h)*l.lineHeight+(g-1)*t.bodySpacing}f&&(y+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let m=0;const _=function(v){b=Math.max(b,n.measureText(v).width+m)};return n.save(),n.font=c.string,Ct(e.title,_),n.font=l.string,Ct(e.beforeBody.concat(e.afterBody),_),m=t.displayColors?o+2+t.boxPadding:0,Ct(i,v=>{Ct(v.before,_),Ct(v.lines,_),Ct(v.after,_)}),m=0,n.font=u.string,Ct(e.footer,_),n.restore(),b+=p.width,{width:b,height:y}}function vz(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function bz(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&r+s+o>t.width||e==="right"&&r-s-o<0)return!0}function wz(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),bz(c,e,t,n)&&(c="center"),c}function Kv(e,t,n){const i=n.yAlign||t.yAlign||vz(e,n);return{xAlign:n.xAlign||t.xAlign||wz(e,t,n,i),yAlign:i}}function Sz(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function xz(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function Gv(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=hs(o);let p=Sz(t,a);const y=xz(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+r:a==="right"&&(p+=Math.max(d,h)+r),{x:pe(p,0,i.width-t.width),y:pe(y,0,i.height-t.height)}}function Kc(e,t,n){const i=Oe(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Qv(e){return ti([],ki(e))}function Ez(e,t,n){return Ur(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function qv(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class _g extends Qn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new aE(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Ez(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=i.beforeTitle.apply(this,[t]),s=i.title.apply(this,[t]),o=i.afterTitle.apply(this,[t]);let a=[];return a=ti(a,ki(r)),a=ti(a,ki(s)),a=ti(a,ki(o)),a}getBeforeBody(t,n){return Qv(n.callbacks.beforeBody.apply(this,[t]))}getBody(t,n){const{callbacks:i}=n,r=[];return Ct(t,s=>{const o={before:[],lines:[],after:[]},a=qv(i,s);ti(o.before,ki(a.beforeLabel.call(this,s))),ti(o.lines,a.label.call(this,s)),ti(o.after,ki(a.afterLabel.call(this,s))),r.push(o)}),r}getAfterBody(t,n){return Qv(n.callbacks.afterBody.apply(this,[t]))}getFooter(t,n){const{callbacks:i}=n,r=i.beforeFooter.apply(this,[t]),s=i.footer.apply(this,[t]),o=i.afterFooter.apply(this,[t]);let a=[];return a=ti(a,ki(r)),a=ti(a,ki(s)),a=ti(a,ki(o)),a}_createItems(t){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(_z(this.chart,n[l]));return t.filter&&(a=a.filter((u,d,f)=>t.filter(u,d,f,i))),t.itemSort&&(a=a.sort((u,d)=>t.itemSort(u,d,i))),Ct(a,u=>{const d=qv(t.callbacks,u);r.push(d.labelColor.call(this,u)),s.push(d.labelPointStyle.call(this,u)),o.push(d.labelTextColor.call(this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=sl[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Xv(this,i),c=Object.assign({},a,l),u=Kv(this.chart,i,c),d=Gv(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const s=this.getCaretPosition(t,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=hs(a),{x:f,y:h}=t,{width:p,height:y}=n;let b,g,m,_,v,w;return s==="center"?(v=h+y/2,r==="left"?(b=f,g=b-o,_=v+o,w=v-o):(b=f+p,g=b+o,_=v-o,w=v+o),m=b):(r==="left"?g=f+Math.max(l,u)+o:r==="right"?g=f+p-Math.max(c,d)-o:g=this.caretX,s==="top"?(_=h,v=_-o,b=g-o,m=g+o):(_=h+y,v=_+o,b=g+o,m=g-o),w=_),{x1:b,x2:g,x3:m,y1:_,y2:v,y3:w}}drawTitle(t,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=Io(i.rtl,this.x,this.width);for(t.x=Kc(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=de(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=s,d=de(s.bodyFont),f=Kc(this,"left",s),h=r.x(f),p=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+p;if(s.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},g=r.leftForLtr(h,c)+c/2,m=y+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,dg(t,b,g,m),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,dg(t,b,g,m)}else{t.lineWidth=gt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const b=r.leftForLtr(h,c-u),g=r.leftForLtr(r.xPlus(h,1),c-u-2),m=hs(o.borderRadius);Object.values(m).some(_=>_!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Fl(t,{x:b,y,w:c,h:l,radius:m}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Fl(t,{x:g,y:y+1,w:c-2,h:l-2,radius:m}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(b,y,c,l),t.strokeRect(b,y,c,l),t.fillStyle=o.backgroundColor,t.fillRect(g,y+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=de(i.bodyFont);let f=d.lineHeight,h=0;const p=Io(i.rtl,this.x,this.width),y=function(D){n.fillText(D,p.x(t.x+h),t.y+f/2),t.y+=f+s},b=p.textAlign(o);let g,m,_,v,w,x,E;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,t.x=Kc(this,b,i),n.fillStyle=i.bodyColor,Ct(this.beforeBody,y),h=a&&b!=="right"?o==="center"?c/2+u:c+2+u:0,v=0,x=r.length;v<x;++v){for(g=r[v],m=this.labelTextColors[v],n.fillStyle=m,Ct(g.before,y),_=g.lines,a&&_.length&&(this._drawColorBox(n,t,v,p,i),f=Math.max(d.lineHeight,l)),w=0,E=_.length;w<E;++w)y(_[w]),f=d.lineHeight;Ct(g.after,y)}h=0,f=d.lineHeight,Ct(this.afterBody,y),t.y-=s}drawFooter(t,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=Io(i.rtl,this.x,this.width);for(t.x=Kc(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=de(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=hs(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(t,n,i,r),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(t,n,i,r),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(a+h,l+u),n.quadraticCurveTo(a,l+u,a,l+u-h),o==="center"&&s==="left"&&this.drawCaret(t,n,i,r),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=sl[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Xv(this,t),l=Object.assign({},o,this._size),c=Kv(n,t,l),u=Gv(t,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Oe(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,n),nE(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),iE(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!od(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,i),a=this._positionChanged(o,t),l=n||!od(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return n;const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:r,options:s}=this,o=sl[s.position].call(this,t,n);return o!==!1&&(i!==o.x||r!==o.y)}}_g.positioners=sl;var Iz={id:"tooltip",_element:_g,positioners:sl,afterInit(e,t,n){n&&(e.tooltip=new _g({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",n)===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ei,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Ei,beforeBody:Ei,beforeLabel:Ei,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return bt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ei,afterBody:Ei,beforeFooter:Ei,footer:Ei,afterFooter:Ei}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},kz=Object.freeze({__proto__:null,Decimation:W3,Filler:dz,Legend:pz,SubTitle:yz,Title:mz,Tooltip:Iz});const Mz=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Tz(e,t,n,i){const r=e.indexOf(t);if(r===-1)return Mz(e,t,n,i);const s=e.lastIndexOf(t);return r!==s?n:r}const Az=(e,t)=>e===null?null:pe(Math.round(e),0,t);class pd extends As{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(bt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:Tz(i,t,ct(n,t),this._addedLabels),Az(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){const n=this.getLabels();return t>=0&&t<n.length?n[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}pd.id="category";pd.defaults={ticks:{callback:pd.prototype.getLabelForValue}};function Dz(e,t){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=e,h=s||1,p=u-1,{min:y,max:b}=t,g=!bt(o),m=!bt(a),_=!bt(c),v=(b-y)/(d+1);let w=K_((b-y)/p/h)*h,x,E,D,A;if(w<1e-14&&!g&&!m)return[{value:y},{value:b}];A=Math.ceil(b/w)-Math.floor(y/w),A>p&&(w=K_(A*w/p/h)*h),bt(l)||(x=Math.pow(10,l),w=Math.ceil(w*x)/x),r==="ticks"?(E=Math.floor(y/w)*w,D=Math.ceil(b/w)*w):(E=y,D=b),g&&m&&s&&mL((a-o)/s,w/1e3)?(A=Math.round(Math.min((a-o)/w,u)),w=(a-o)/A,E=o,D=a):_?(E=g?o:E,D=m?a:D,A=c-1,w=(D-E)/A):(A=(D-E)/w,nl(A,Math.round(A),w/1e3)?A=Math.round(A):A=Math.ceil(A));const C=Math.max(G_(w),G_(E));x=Math.pow(10,bt(l)?C:l),E=Math.round(E*x)/x,D=Math.round(D*x)/x;let z=0;for(g&&(f&&E!==o?(n.push({value:o}),E<o&&z++,nl(Math.round((E+z*w)*x)/x,o,Zv(o,v,e))&&z++):E<o&&z++);z<A;++z)n.push({value:Math.round((E+z*w)*x)/x});return m&&f&&D!==a?n.length&&nl(n[n.length-1].value,a,Zv(a,v,e))?n[n.length-1].value=a:n.push({value:a}):(!m||D===a)&&n.push({value:D}),n}function Zv(e,t,{horizontal:n,minRotation:i}){const r=Vn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class gd extends As{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(t){const l=gi(r),c=gi(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(s*.05)),a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=Dz(r,s);return t.bounds==="ticks"&&Rx(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return ec(t,this.chart.options.locale,this.options.ticks.format)}}class ay extends gd{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=re(t)?t:0,this.max=re(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Vn(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ay.id="linear";ay.defaults={ticks:{callback:Tf.formatters.numeric}};function Jv(e){return e/Math.pow(10,Math.floor(En(e)))===1}function Oz(e,t){const n=Math.floor(En(t.max)),i=Math.ceil(t.max/Math.pow(10,n)),r=[];let s=yn(e.min,Math.pow(10,Math.floor(En(t.min)))),o=Math.floor(En(s)),a=Math.floor(s/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do r.push({value:s,major:Jv(s)}),++a,a===10&&(a=1,++o,l=o>=0?1:l),s=Math.round(a*Math.pow(10,o)*l)/l;while(o<n||o===n&&a<i);const c=yn(e.max,s);return r.push({value:c,major:Jv(s)}),r}class ly extends As{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=gd.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return re(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=re(t)?Math.max(0,t):null,this.max=re(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=t?i:l,o=l=>r=n?r:l,a=(l,c)=>Math.pow(10,Math.floor(En(l))+c);i===r&&(i<=0?(s(1),o(10)):(s(a(i,-1)),o(a(r,1)))),i<=0&&s(a(r,-1)),r<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&s(a(i,-1)),this.min=i,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=Oz(n,this);return t.bounds==="ticks"&&Rx(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":ec(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=En(t),this._valueRange=En(this.max)-En(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(En(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}ly.id="logarithmic";ly.defaults={ticks:{callback:Tf.formatters.logarithmic,major:{enabled:!0}}};function vg(e){const t=e.ticks;if(t.display&&e.display){const n=Oe(t.backdropPadding);return ct(t.font&&t.font.size,yt.font.size)+n.height}return 0}function Cz(e,t,n){return n=Ut(n)?n:[n],{w:KL(e,t.string,n),h:n.length*t.lineHeight}}function tb(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Nz(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Yt/s:0;for(let l=0;l<s;l++){const c=o.setContext(e.getPointLabelContext(l));r[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+r[l],a),d=de(c.font),f=Cz(e.ctx,d,e._pointLabels[l]);i[l]=f;const h=on(e.getIndexAngle(l)+a),p=Math.round(Xm(h)),y=tb(p,u.x,f.w,0,180),b=tb(p,u.y,f.h,90,270);Rz(n,t,h,y,b)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=Pz(e,i,r)}function Rz(e,t,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function Pz(e,t,n){const i=[],r=e._pointLabels.length,s=e.options,o=vg(s)/2,a=e.drawingArea,l=s.pointLabels.centerPointLabels?Yt/r:0;for(let c=0;c<r;c++){const u=e.getPointPosition(c,a+o+n[c],l),d=Math.round(Xm(on(u.angle+te))),f=t[c],h=Bz(u.y,f.h,d),p=Lz(d),y=Fz(u.x,f.w,p);i.push({x:u.x,y:h,textAlign:p,left:y,top:h,right:y+f.w,bottom:h+f.h})}return i}function Lz(e){return e===0||e===180?"center":e<180?"left":"right"}function Fz(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function Bz(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function zz(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const s=i.setContext(e.getPointLabelContext(r)),o=de(s.font),{x:a,y:l,textAlign:c,left:u,top:d,right:f,bottom:h}=e._pointLabelItems[r],{backdropColor:p}=s;if(!bt(p)){const y=hs(s.borderRadius),b=Oe(s.backdropPadding);n.fillStyle=p;const g=u-b.left,m=d-b.top,_=f-u+b.width,v=h-d+b.height;Object.values(y).some(w=>w!==0)?(n.beginPath(),Fl(n,{x:g,y:m,w:_,h:v,radius:y}),n.fill()):n.fillRect(g,m,_,v)}Es(n,e._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function TE(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,Pt);else{let s=e.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=e.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function Uz(e,t,n,i){const r=e.ctx,s=t.circular,{color:o,lineWidth:a}=t;!s&&!i||!o||!a||n<0||(r.save(),r.strokeStyle=o,r.lineWidth=a,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),TE(e,n,s,i),r.closePath(),r.stroke(),r.restore())}function $z(e,t,n){return Ur(e,{label:n,index:t,type:"pointLabel"})}class ic extends gd{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Oe(vg(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=re(t)&&!isNaN(t)?t:0,this.max=re(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vg(this.options))}generateTickLabels(t){gd.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const r=Bt(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?Nz(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,r))}getIndexAngle(t){const n=Pt/(this._pointLabels.length||1),i=this.options.startAngle||0;return on(t*n+Vn(i))}getDistanceFromCenterForValue(t){if(bt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(bt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return $z(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const r=this.getIndexAngle(t)-te+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),TE(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:r}=n,s=this._pointLabels.length;let o,a,l;if(n.pointLabels.display&&zz(this,s),r.display&&this.ticks.forEach((c,u)=>{if(u!==0){a=this.getDistanceFromCenterForValue(c.value);const d=r.setContext(this.getContext(u-1));Uz(this,d,a,s)}}),i.display){for(t.save(),o=s-1;o>=0;o--){const c=i.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:d}=c;!d||!u||(t.lineWidth=d,t.strokeStyle=u,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=de(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const d=Oe(c.backdropPadding);t.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}Es(t,a.label,0,-s,u,{color:c.color})}),t.restore()}drawTitle(){}}ic.id="radialLinear";ic.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Tf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};ic.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};ic.descriptors={angleLines:{_fallback:"grid"}};const Rf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xe=Object.keys(Rf);function Vz(e,t){return e-t}function eb(e,t){if(bt(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),re(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Vo(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function nb(e,t,n,i){const r=Xe.length;for(let s=Xe.indexOf(e);s<r-1;++s){const o=Rf[Xe[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return Xe[s]}return Xe[r-1]}function jz(e,t,n,i,r){for(let s=Xe.length-1;s>=Xe.indexOf(n);s--){const o=Xe[s];if(Rf[o].common&&e._adapter.diff(r,i,o)>=t-1)return o}return Xe[n?Xe.indexOf(n):0]}function Hz(e){for(let t=Xe.indexOf(e)+1,n=Xe.length;t<n;++t)if(Rf[Xe[t]].common)return Xe[t]}function ib(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=Km(n,t),s=n[i]>=t?n[i]:n[r];e[s]=!0}}function Wz(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function rb(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:Wz(e,i,r,n)}class rc extends As{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n){const i=t.time||(t.time={}),r=this._adapter=new OB._date(t.adapters.date);r.init(n),el(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:eb(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=re(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=re(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=bL(r,s,o);return this._unit=n.unit||(i.autoSkip?nb(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):jz(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Hz(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),rb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let n=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=pe(n,0,o),i=pe(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||nb(s.minUnit,n,i,this._getLabelCapacity(n)),a=ct(s.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Vo(l)||l===!0,u={};let d=n,f,h;if(c&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,c?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<i;f=+t.add(f,a,o),h++)ib(u,f,p);return(f===i||r.bounds==="ticks"||h===1)&&ib(u,f,p),Object.keys(u).sort((y,b)=>y-b).map(y=>+y)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}_tickFormatFunction(t,n,i,r){const s=this.options,o=s.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],d=i[n],f=l&&u&&d&&d.major,h=this._adapter.format(t,r||(f?u:c)),p=s.ticks.callback;return p?Bt(p,[h,n,i],this):h}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=Vn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(t,0,rb(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(eb(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Fx(t.sort(Vz))}}rc.id="time";rc.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Gc(e,t,n){let i=0,r=e.length-1,s,o,a,l;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=Ui(e,"pos",t)),{pos:s,time:a}=e[i],{pos:o,time:l}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=Ui(e,"time",t)),{time:s,pos:a}=e[i],{time:o,pos:l}=e[r]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class cy extends rc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Gc(n,this.min),this._tableRange=Gc(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Gc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Gc(this._table,i*this._tableRange+this._minPos,!0)}}cy.id="timeseries";cy.defaults=rc.defaults;var Yz=Object.freeze({__proto__:null,CategoryScale:pd,LinearScale:ay,LogarithmicScale:ly,RadialLinearScale:ic,TimeScale:rc,TimeSeriesScale:cy});const Xz=[DB,$3,kz,Yz];Df.register(...Xz);const Kz={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Gz(e){const t=O.useRef(0),n=O.useRef(null),[i,r]=O.useState(Kz),s=O.useMemo(()=>typeof window<"u"?new ResizeObserver(o=>{const a=o[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{n.current&&r(a.contentRect)}))}):null,[]);return O.useEffect(()=>(n.current&&(s==null||s.observe(n.current,e)),()=>{s==null||s.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,i]}const Qz=({data:e})=>{const t=O.useRef(null),n=O.useRef(null),[i,r]=Gz();return O.useEffect(()=>{if(e.chartData&&t.current){n.current&&n.current.destroy();const s=t.current.getContext("2d");n.current=new Df(s,{type:"bar",data:e.chartData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:20,font:{size:12}}},title:{display:!0,text:"Query Result Chart",font:{size:16}}},scales:{x:{ticks:{maxRotation:45,minRotation:45,font:{size:10}}},y:{beginAtZero:!0,ticks:{font:{size:10}}}}}})}},[e.chartData,r.width,r.height]),St(Wm,{data:{...e,hasInput:!0,hasOutput:!0},children:St("div",{ref:i,style:{width:"600px",height:"450px"},children:St("canvas",{ref:t,style:{width:"100%",height:"100%"}})})})};function at(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}function sb(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lt(e){return this instanceof lt?(this.v=e,this):new lt(e)}function ui(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){i[h]&&(r[h]=function(y){return new Promise(function(b,g){s.push([h,y,b,g])>1||l(h,y)})},p&&(r[h]=p(r[h])))}function l(h,p){try{c(i[h](p))}catch(y){f(s[0][3],y)}}function c(h){h.value instanceof lt?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function mu(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,s){t[r]=e[r]?function(o){return(n=!n)?{value:lt(e[r](o)),done:!1}:s?s(o):o}:s}}function gs(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof sb=="function"?sb(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}const qz=new TextDecoder("utf-8"),bg=e=>qz.decode(e),Zz=new TextEncoder,uy=e=>Zz.encode(e),Jz=e=>typeof e=="number",AE=e=>typeof e=="boolean",le=e=>typeof e=="function",Je=e=>e!=null&&Object(e)===e,Is=e=>Je(e)&&le(e.then),sc=e=>Je(e)&&le(e[Symbol.iterator]),ta=e=>Je(e)&&le(e[Symbol.asyncIterator]),wg=e=>Je(e)&&Je(e.schema),DE=e=>Je(e)&&"done"in e&&"value"in e,OE=e=>Je(e)&&le(e.stat)&&Jz(e.fd),CE=e=>Je(e)&&dy(e.body),Pf=e=>"_getDOMStream"in e&&"_getNodeStream"in e,t4=e=>Je(e)&&le(e.abort)&&le(e.getWriter)&&!Pf(e),dy=e=>Je(e)&&le(e.cancel)&&le(e.getReader)&&!Pf(e),e4=e=>Je(e)&&le(e.end)&&le(e.write)&&AE(e.writable)&&!Pf(e),NE=e=>Je(e)&&le(e.read)&&le(e.pipe)&&AE(e.readable)&&!Pf(e),n4=e=>Je(e)&&le(e.clear)&&le(e.bytes)&&le(e.position)&&le(e.setPosition)&&le(e.capacity)&&le(e.getBufferIdentifier)&&le(e.createLong),fy=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function i4(e){const t=e[0]?[e[0]]:[];let n,i,r,s;for(let o,a,l=0,c=0,u=e.length;++l<u;){if(o=t[c],a=e[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++c]=a);continue}if({byteOffset:n,byteLength:r}=o,{byteOffset:i,byteLength:s}=a,n+r<i||i+s<n){a&&(t[++c]=a);continue}t[c]=new Uint8Array(o.buffer,n,i-n+s)}return t}function ob(e,t,n=0,i=t.byteLength){const r=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,r),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(i,r));return s.set(o,n),e}function mi(e,t){const n=i4(e),i=n.reduce((u,d)=>u+d.byteLength,0);let r,s,o,a=0,l=-1;const c=Math.min(t||Number.POSITIVE_INFINITY,i);for(const u=n.length;++l<u;){if(r=n[l],s=r.subarray(0,Math.min(r.length,c-a)),c<=a+s.length){s.length<r.length?n[l]=r.subarray(s.length):s.length===r.length&&l++,o?ob(o,s,a):o=s;break}ob(o||(o=new Uint8Array(c)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),i-(o?o.byteLength:0)]}function Ot(e,t){let n=DE(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=uy(n)),n instanceof ArrayBuffer?new e(n):n instanceof fy?new e(n):n4(n)?Ot(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const Ia=e=>Ot(Int32Array,e),ab=e=>Ot(BigInt64Array,e),mt=e=>Ot(Uint8Array,e),Sg=e=>(e.next(),e);function*r4(e,t){const n=function*(r){yield r},i=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof fy?n(t):sc(t)?t:n(t);return yield*Sg(function*(r){let s=null;do s=r.next(yield Ot(e,s));while(!s.done)}(i[Symbol.iterator]())),new e}const s4=e=>r4(Uint8Array,e);function RE(e,t){return ui(this,arguments,function*(){if(Is(t))return yield lt(yield lt(yield*mu(gs(RE(e,yield lt(t))))));const i=function(o){return ui(this,arguments,function*(){yield yield lt(yield lt(o))})},r=function(o){return ui(this,arguments,function*(){yield lt(yield*mu(gs(Sg(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof fy?i(t):sc(t)?r(t):ta(t)?t:i(t);return yield lt(yield*mu(gs(Sg(function(o){return ui(this,arguments,function*(){let a=null;do a=yield lt(o.next(yield yield lt(Ot(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield lt(new e)})}const o4=e=>RE(Uint8Array,e);function PE(e,t,n){if(e!==0){n=n.slice(0,t);for(let i=-1,r=n.length;++i<r;)n[i]+=e}return n.subarray(0,t)}function a4(e,t){let n=0;const i=e.length;if(i!==t.length)return!1;if(i>0)do if(e[n]!==t[n])return!1;while(++n<i);return!0}const _n={fromIterable(e){return Qc(l4(e))},fromAsyncIterable(e){return Qc(c4(e))},fromDOMStream(e){return Qc(u4(e))},fromNodeStream(e){return Qc(f4(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},Qc=e=>(e.next(),e);function*l4(e){let t,n=!1,i=[],r,s,o,a=0;function l(){return s==="peek"?mi(i,o)[0]:([r,i,a]=mi(i,o),r)}({cmd:s,size:o}=(yield(()=>null)())||{cmd:"read",size:0});const c=s4(e)[Symbol.iterator]();try{do if({done:t,value:r}=Number.isNaN(o-a)?c.next():c.next(o-a),!t&&r.byteLength>0&&(i.push(r),a+=r.byteLength),t||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!t)}catch(u){(n=!0)&&typeof c.throw=="function"&&c.throw(u)}finally{n===!1&&typeof c.return=="function"&&c.return(null)}return null}function c4(e){return ui(this,arguments,function*(){let n,i=!1,r=[],s,o,a,l=0;function c(){return o==="peek"?mi(r,a)[0]:([s,r,l]=mi(r,a),s)}({cmd:o,size:a}=(yield yield lt((()=>null)()))||{cmd:"read",size:0});const u=o4(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield lt(u.next()):yield lt(u.next(a-l)),!n&&s.byteLength>0&&(r.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield lt(c()));while(a<l);while(!n)}catch(d){(i=!0)&&typeof u.throw=="function"&&(yield lt(u.throw(d)))}finally{i===!1&&typeof u.return=="function"&&(yield lt(u.return(new Uint8Array(0))))}return yield lt(null)})}function u4(e){return ui(this,arguments,function*(){let n=!1,i=!1,r=[],s,o,a,l=0;function c(){return o==="peek"?mi(r,a)[0]:([s,r,l]=mi(r,a),s)}({cmd:o,size:a}=(yield yield lt((()=>null)()))||{cmd:"read",size:0});const u=new d4(e);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield lt(u.read()):yield lt(u.read(a-l)),!n&&s.byteLength>0&&(r.push(mt(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield lt(c()));while(a<l);while(!n)}catch(d){(i=!0)&&(yield lt(u.cancel(d)))}finally{i===!1?yield lt(u.cancel()):e.locked&&u.releaseLock()}return yield lt(null)})}class d4{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return at(this,void 0,void 0,function*(){const{reader:n,source:i}=this;n&&(yield n.cancel(t).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(t){return at(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=mt(n)),n})}}const Vh=(e,t)=>{const n=r=>i([t,r]);let i;return[t,n,new Promise(r=>(i=r)&&e.once(t,n))]};function f4(e){return ui(this,arguments,function*(){const n=[];let i="error",r=!1,s=null,o,a,l=0,c=[],u;function d(){return o==="peek"?mi(c,a)[0]:([u,c,l]=mi(c,a),u)}if({cmd:o,size:a}=(yield yield lt((()=>null)()))||{cmd:"read",size:0},e.isTTY)return yield yield lt(new Uint8Array(0)),yield lt(null);try{n[0]=Vh(e,"end"),n[1]=Vh(e,"error");do{if(n[2]=Vh(e,"readable"),[i,s]=yield lt(Promise.race(n.map(h=>h[2]))),i==="error")break;if((r=i==="end")||(Number.isFinite(a-l)?(u=mt(e.read(a-l)),u.byteLength<a-l&&(u=mt(e.read()))):u=mt(e.read()),u.byteLength>0&&(c.push(u),l+=u.byteLength)),r||a<=l)do({cmd:o,size:a}=yield yield lt(d()));while(a<l)}while(!r)}finally{yield lt(f(n,i==="error"?s:null))}return yield lt(null);function f(h,p){return u=c=null,new Promise((y,b)=>{for(const[g,m]of h)e.off(g,m);try{const g=e.destroy;g&&g.call(e,p),p=void 0}catch(g){p=g||p}finally{p!=null?b(p):y()}})}})}var ie;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(ie||(ie={}));var Ce;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Ce||(Ce={}));var Ae;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Ae||(Ae={}));var Cn;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Cn||(Cn={}));var et;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(et||(et={}));var yi;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(yi||(yi={}));const jh=2,oi=4,Ri=4,Mt=4,lr=new Int32Array(2),lb=new Float32Array(lr.buffer),cb=new Float64Array(lr.buffer),qc=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var xg;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(xg||(xg={}));let Wo=class LE{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new LE(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return lr[0]=this.readInt32(t),lb[0]}readFloat64(t){return lr[qc?0:1]=this.readInt32(t),lr[qc?1:0]=this.readInt32(t+4),cb[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){lb[0]=n,this.writeInt32(t,lr[0])}writeFloat64(t,n){cb[0]=n,this.writeInt32(t,lr[qc?0:1]),this.writeInt32(t+4,lr[qc?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+oi+Ri)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Ri;n++)t+=String.fromCharCode(this.readInt8(this.position_+oi+n));return t}__offset(t,n){const i=t-this.readInt32(t);return n<this.readInt16(i)?this.readInt16(i+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const i=this.readInt32(t);t+=oi;const r=this.bytes_.subarray(t,t+i);return n===xg.UTF8_BYTES?r:this.text_decoder_.decode(r)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+oi}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Ri)throw new Error("FlatBuffers: file identifier must be length "+Ri);for(let n=0;n<Ri;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+oi+n))return!1;return!0}createScalarList(t,n){const i=[];for(let r=0;r<n;++r){const s=t(r);s!==null&&i.push(s)}return i}createObjList(t,n){const i=[];for(let r=0;r<n;++r){const s=t(r);s!==null&&i.push(s.unpack())}return i}},FE=class BE{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=Wo.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const i=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<i+t+n;){const r=this.bb.capacity();this.bb=BE.growByteBuffer(this.bb),this.space+=this.bb.capacity()-r}this.pad(i)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,i){(this.force_defaults||n!=i)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,i){(this.force_defaults||n!=i)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,i){(this.force_defaults||n!=i)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,i){(this.force_defaults||n!==i)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,i){(this.force_defaults||n!=i)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,i){(this.force_defaults||n!=i)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,i){(this.force_defaults||n!=i)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,i){n!=i&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=n<<1,r=Wo.allocate(i);return r.setPosition(i-n),r.bytes().set(t.bytes(),i-n),r}addOffset(t){this.prep(oi,0),this.writeInt32(this.offset()-t+oi)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const i=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const r=2;this.addInt16(t-this.object_start);const s=(i+r)*jh;this.addInt16(s);let o=0;const a=this.space;t:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let c=jh;c<s;c+=jh)if(this.bb.readInt16(a+c)!=this.bb.readInt16(l+c))continue t;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,i){const r=i?Mt:0;if(n){const s=n;if(this.prep(this.minalign,oi+Ri+r),s.length!=Ri)throw new TypeError("FlatBuffers: file identifier must be length "+Ri);for(let o=Ri-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,oi+r),this.addOffset(t),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const i=this.bb.capacity()-t,r=i-this.bb.readInt32(i);if(!(n<this.bb.readInt16(r)&&this.bb.readInt16(r+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,i){this.notNested(),this.vector_num_elems=n,this.prep(oi,t*n),this.prep(i,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;return t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(t){return t==null?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let i=0;i<t.length;++i){const r=t[i];if(r!==null)n.push(this.createObjectOffset(r));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};var md;(function(e){e[e.BUFFER=0]="BUFFER"})(md||(md={}));var yd;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(yd||(yd={}));class cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new cr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Mt),(n||new cr).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):yd.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):md.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,yd.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,md.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,i){return cr.startBodyCompression(t),cr.addCodec(t,n),cr.addMethod(t,i),cr.endBodyCompression(t)}}class zE{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,i){return t.prep(8,16),t.writeInt64(BigInt(i??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let UE=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,i){return t.prep(8,16),t.writeInt64(BigInt(i??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Ai=class Eg{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new Eg).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Mt),(n||new Eg).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new UE).__init(this.bb.__vector(this.bb_pos+i)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new zE).__init(this.bb.__vector(this.bb_pos+i)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new cr).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Hs=class Ig{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new Ig).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Mt),(n||new Ig).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ai).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var Yo;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(Yo||(Yo={}));var _d;(function(e){e[e.DenseArray=0]="DenseArray"})(_d||(_d={}));class an{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new an).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Mt),(n||new an).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,i){return an.startInt(t),an.addBitWidth(t,n),an.addIsSigned(t,i),an.endInt(t)}}class Pi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Pi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Mt),(n||new Pi).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new an).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):_d.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,_d.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class ce{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new ce).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Mt),(n||new ce).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,i){return ce.startKeyValue(t),ce.addKey(t,n),ce.addValue(t,i),ce.endKeyValue(t)}}let ub=class Fa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Fa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Mt),(n||new Fa).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Fa.startBinary(t),Fa.endBinary(t)}},db=class Ba{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new Ba).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Mt),(n||new Ba).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Ba.startBool(t),Ba.endBool(t)}},yu=class Ws{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Ws).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Mt),(n||new Ws).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Cn.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Cn.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Ws.startDate(t),Ws.addUnit(t,n),Ws.endDate(t)}},Ys=class ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new ir).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Mt),(n||new ir).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,i,r){return ir.startDecimal(t),ir.addPrecision(t,n),ir.addScale(t,i),ir.addBitWidth(t,r),ir.endDecimal(t)}},_u=class Xs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new Xs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+Mt),(n||new Xs).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):et.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,et.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return Xs.startDuration(t),Xs.addUnit(t,n),Xs.endDuration(t)}},vu=class Ks{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Ks).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Mt),(n||new Ks).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Ks.startFixedSizeBinary(t),Ks.addByteWidth(t,n),Ks.endFixedSizeBinary(t)}},bu=class Gs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Gs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Mt),(n||new Gs).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Gs.startFixedSizeList(t),Gs.addListSize(t,n),Gs.endFixedSizeList(t)}};class ai{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new ai).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Mt),(n||new ai).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ae.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Ae.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return ai.startFloatingPoint(t),ai.addPrecision(t,n),ai.endFloatingPoint(t)}}class li{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new li).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Mt),(n||new li).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):yi.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,yi.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return li.startInterval(t),li.addUnit(t,n),li.endInterval(t)}}let fb=class za{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeBinary(t,n){return(n||new za).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeBinary(t,n){return t.setPosition(t.position()+Mt),(n||new za).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return za.startLargeBinary(t),za.endLargeBinary(t)}},hb=class Ua{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeUtf8(t,n){return(n||new Ua).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeUtf8(t,n){return t.setPosition(t.position()+Mt),(n||new Ua).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return Ua.startLargeUtf8(t),Ua.endLargeUtf8(t)}},pb=class $a{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new $a).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Mt),(n||new $a).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return $a.startList(t),$a.endList(t)}},wu=class Qs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new Qs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Mt),(n||new Qs).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return Qs.startMap(t),Qs.addKeysSorted(t,n),Qs.endMap(t)}},gb=class Va{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Va).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Mt),(n||new Va).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Va.startNull(t),Va.endNull(t)}};class ls{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new ls).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Mt),(n||new ls).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return ls.startStruct_(t),ls.endStruct_(t)}}class wn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new wn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Mt),(n||new wn).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):et.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,et.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,i){return wn.startTime(t),wn.addUnit(t,n),wn.addBitWidth(t,i),wn.endTime(t)}}class Sn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Sn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Mt),(n||new Sn).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):et.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,et.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,i){return Sn.startTimestamp(t),Sn.addUnit(t,n),Sn.addTimezone(t,i),Sn.endTimestamp(t)}}class We{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new We).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Mt),(n||new We).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ce.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Ce.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addInt32(n[i]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,i){return We.startUnion(t),We.addMode(t,n),We.addTypeIds(t,i),We.endUnion(t)}}let mb=class ja{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new ja).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Mt),(n||new ja).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return ja.startUtf8(t),ja.endUtf8(t)}};var Ft;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(Ft||(Ft={}));let mn=class Su{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Su).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Mt),(n||new Su).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Ft.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Pi).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const i=this.bb.__offset(this.bb_pos,14);return i?(n||new Su).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,16);return i?(n||new ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,Ft.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},ii=class Mi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Mi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Mt),(n||new Mi).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Yo.Little}fields(t,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new mn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,Yo.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let i=n.length-1;i>=0;i--)t.addInt64(n[i]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,i,r,s){return Mi.startSchema(t),Mi.addEndianness(t,n),Mi.addFields(t,i),Mi.addCustomMetadata(t,r),Mi.addFeatures(t,s),Mi.endSchema(t)}};var xt;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(xt||(xt={}));var I;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(I||(I={}));var Di;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(Di||(Di={}));const h4=void 0;function zl(e){if(e===null)return"null";if(e===h4)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>zl(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}function Lt(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}function $E(e,t){return Lt(e/t)+Lt(e%t)/Lt(t)}const p4=Symbol.for("isArrowBigNum");function qn(e,...t){return t.length===0?Object.setPrototypeOf(Ot(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}qn.prototype[p4]=!0;qn.prototype.toJSON=function(){return`"${$l(this)}"`};qn.prototype.valueOf=function(e){return VE(this,e)};qn.prototype.toString=function(){return $l(this)};qn.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return VE(this);case"string":return $l(this);case"default":return y4(this)}return $l(this)};function ko(...e){return qn.apply(this,e)}function Mo(...e){return qn.apply(this,e)}function Ul(...e){return qn.apply(this,e)}Object.setPrototypeOf(ko.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Mo.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Ul.prototype,Object.create(Uint32Array.prototype));Object.assign(ko.prototype,qn.prototype,{constructor:ko,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(Mo.prototype,qn.prototype,{constructor:Mo,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(Ul.prototype,qn.prototype,{constructor:Ul,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const g4=BigInt(4294967296)*BigInt(4294967296),m4=g4-BigInt(1);function VE(e,t){const{buffer:n,byteOffset:i,byteLength:r,signed:s}=e,o=new BigUint64Array(n,i,r/8),a=s&&o.at(-1)&BigInt(1)<<BigInt(63);let l=BigInt(0),c=0;if(a){for(const u of o)l|=(u^m4)*(BigInt(1)<<BigInt(64*c++));l*=BigInt(-1),l-=BigInt(1)}else for(const u of o)l|=u*(BigInt(1)<<BigInt(64*c++));if(typeof t=="number"){const u=BigInt(Math.pow(10,t)),d=l/u,f=l%u;return Lt(d)+Lt(f)/Lt(u)}return Lt(l)}function $l(e){if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return Hh(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return Hh(e);t=t.slice();let i=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+i;t[s]=a,i&=o===0?1:0}return`-${Hh(t)}`}function y4(e){return e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:$l(e)}function Hh(e){let t="";const n=new Uint32Array(2);let i=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const r=new Uint32Array((i=new Uint16Array(i).reverse()).buffer);let s=-1;const o=i.length-1;do{for(n[0]=i[s=0];s<o;)i[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+i[s];i[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(r[0]||r[1]||r[2]||r[3]);return t??"0"}class hy{static new(t,n){switch(n){case!0:return new ko(t);case!1:return new Mo(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new ko(t)}return t.byteLength===16?new Ul(t):new Mo(t)}static signed(t){return new ko(t)}static unsigned(t){return new Mo(t)}static decimal(t){return new Ul(t)}constructor(t,n){return hy.new(t,n)}}var jE,HE,WE,YE,XE,KE,GE,QE,qE,ZE,JE,tI,eI,nI,iI,rI,sI,oI,aI,lI,cI,uI;class X{static isNull(t){return(t==null?void 0:t.typeId)===I.Null}static isInt(t){return(t==null?void 0:t.typeId)===I.Int}static isFloat(t){return(t==null?void 0:t.typeId)===I.Float}static isBinary(t){return(t==null?void 0:t.typeId)===I.Binary}static isLargeBinary(t){return(t==null?void 0:t.typeId)===I.LargeBinary}static isUtf8(t){return(t==null?void 0:t.typeId)===I.Utf8}static isLargeUtf8(t){return(t==null?void 0:t.typeId)===I.LargeUtf8}static isBool(t){return(t==null?void 0:t.typeId)===I.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===I.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===I.Date}static isTime(t){return(t==null?void 0:t.typeId)===I.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===I.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===I.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===I.Duration}static isList(t){return(t==null?void 0:t.typeId)===I.List}static isStruct(t){return(t==null?void 0:t.typeId)===I.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===I.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===I.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===I.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===I.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===I.Dictionary}static isDenseUnion(t){return X.isUnion(t)&&t.mode===Ce.Dense}static isSparseUnion(t){return X.isUnion(t)&&t.mode===Ce.Sparse}constructor(t){this.typeId=t}}jE=Symbol.toStringTag;X[jE]=(e=>(e.children=null,e.ArrayType=Array,e.OffsetArrayType=Int32Array,e[Symbol.toStringTag]="DataType"))(X.prototype);class Nr extends X{constructor(){super(I.Null)}toString(){return"Null"}}HE=Symbol.toStringTag;Nr[HE]=(e=>e[Symbol.toStringTag]="Null")(Nr.prototype);class ks extends X{constructor(t,n){super(I.Int),this.isSigned=t,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}WE=Symbol.toStringTag;ks[WE]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(ks.prototype);class Vl extends ks{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Vl.prototype,"ArrayType",{value:Int32Array});class vd extends X{constructor(t){super(I.Float),this.precision=t}get ArrayType(){switch(this.precision){case Ae.HALF:return Uint16Array;case Ae.SINGLE:return Float32Array;case Ae.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}YE=Symbol.toStringTag;vd[YE]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(vd.prototype);class bd extends X{constructor(){super(I.Binary)}toString(){return"Binary"}}XE=Symbol.toStringTag;bd[XE]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(bd.prototype);class wd extends X{constructor(){super(I.LargeBinary)}toString(){return"LargeBinary"}}KE=Symbol.toStringTag;wd[KE]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeBinary"))(wd.prototype);class Sd extends X{constructor(){super(I.Utf8)}toString(){return"Utf8"}}GE=Symbol.toStringTag;Sd[GE]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(Sd.prototype);class xd extends X{constructor(){super(I.LargeUtf8)}toString(){return"LargeUtf8"}}QE=Symbol.toStringTag;xd[QE]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeUtf8"))(xd.prototype);class Ed extends X{constructor(){super(I.Bool)}toString(){return"Bool"}}qE=Symbol.toStringTag;Ed[qE]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(Ed.prototype);class Id extends X{constructor(t,n,i=128){super(I.Decimal),this.scale=t,this.precision=n,this.bitWidth=i}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}ZE=Symbol.toStringTag;Id[ZE]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(Id.prototype);class kd extends X{constructor(t){super(I.Date),this.unit=t}toString(){return`Date${(this.unit+1)*32}<${Cn[this.unit]}>`}get ArrayType(){return this.unit===Cn.DAY?Int32Array:BigInt64Array}}JE=Symbol.toStringTag;kd[JE]=(e=>(e.unit=null,e[Symbol.toStringTag]="Date"))(kd.prototype);class Md extends X{constructor(t,n){super(I.Time),this.unit=t,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${et[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}tI=Symbol.toStringTag;Md[tI]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Md.prototype);class Td extends X{constructor(t,n){super(I.Timestamp),this.unit=t,this.timezone=n}toString(){return`Timestamp<${et[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}eI=Symbol.toStringTag;Td[eI]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Timestamp"))(Td.prototype);class Ad extends X{constructor(t){super(I.Interval),this.unit=t}toString(){return`Interval<${yi[this.unit]}>`}}nI=Symbol.toStringTag;Ad[nI]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(Ad.prototype);class Dd extends X{constructor(t){super(I.Duration),this.unit=t}toString(){return`Duration<${et[this.unit]}>`}}iI=Symbol.toStringTag;Dd[iI]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(Dd.prototype);class Od extends X{constructor(t){super(I.List),this.children=[t]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}rI=Symbol.toStringTag;Od[rI]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(Od.prototype);class Fe extends X{constructor(t){super(I.Struct),this.children=t}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}sI=Symbol.toStringTag;Fe[sI]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Fe.prototype);class Cd extends X{constructor(t,n,i){super(I.Union),this.mode=t,this.children=i,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((r,s,o)=>(r[s]=o)&&r||r,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}oI=Symbol.toStringTag;Cd[oI]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Cd.prototype);class Nd extends X{constructor(t){super(I.FixedSizeBinary),this.byteWidth=t}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}aI=Symbol.toStringTag;Nd[aI]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(Nd.prototype);class Rd extends X{constructor(t,n){super(I.FixedSizeList),this.listSize=t,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}lI=Symbol.toStringTag;Rd[lI]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(Rd.prototype);class Pd extends X{constructor(t,n=!1){var i,r,s;if(super(I.Map),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((i=t==null?void 0:t.type)===null||i===void 0)&&i.children)){const o=(r=t==null?void 0:t.type)===null||r===void 0?void 0:r.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}cI=Symbol.toStringTag;Pd[cI]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Pd.prototype);const _4=(e=>()=>++e)(-1);class Xo extends X{constructor(t,n,i,r){super(I.Dictionary),this.indices=n,this.dictionary=t,this.isOrdered=r||!1,this.id=i==null?_4():Lt(i)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}uI=Symbol.toStringTag;Xo[uI]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Xo.prototype);function Oi(e){const t=e;switch(e.typeId){case I.Decimal:return e.bitWidth/32;case I.Interval:return 1+t.unit;case I.FixedSizeList:return t.listSize;case I.FixedSizeBinary:return t.byteWidth;default:return 1}}class dt{visitMany(t,...n){return t.map((i,r)=>this.visit(i,...n.map(s=>s[r])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return v4(this,t,n)}getVisitFnByTypeId(t,n=!0){return qs(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitLargeUtf8(t,...n){return null}visitBinary(t,...n){return null}visitLargeBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function v4(e,t,n=!0){return typeof t=="number"?qs(e,t,n):typeof t=="string"&&t in I?qs(e,I[t],n):t&&t instanceof X?qs(e,yb(t),n):t!=null&&t.type&&t.type instanceof X?qs(e,yb(t.type),n):qs(e,I.NONE,n)}function qs(e,t,n=!0){let i=null;switch(t){case I.Null:i=e.visitNull;break;case I.Bool:i=e.visitBool;break;case I.Int:i=e.visitInt;break;case I.Int8:i=e.visitInt8||e.visitInt;break;case I.Int16:i=e.visitInt16||e.visitInt;break;case I.Int32:i=e.visitInt32||e.visitInt;break;case I.Int64:i=e.visitInt64||e.visitInt;break;case I.Uint8:i=e.visitUint8||e.visitInt;break;case I.Uint16:i=e.visitUint16||e.visitInt;break;case I.Uint32:i=e.visitUint32||e.visitInt;break;case I.Uint64:i=e.visitUint64||e.visitInt;break;case I.Float:i=e.visitFloat;break;case I.Float16:i=e.visitFloat16||e.visitFloat;break;case I.Float32:i=e.visitFloat32||e.visitFloat;break;case I.Float64:i=e.visitFloat64||e.visitFloat;break;case I.Utf8:i=e.visitUtf8;break;case I.LargeUtf8:i=e.visitLargeUtf8;break;case I.Binary:i=e.visitBinary;break;case I.LargeBinary:i=e.visitLargeBinary;break;case I.FixedSizeBinary:i=e.visitFixedSizeBinary;break;case I.Date:i=e.visitDate;break;case I.DateDay:i=e.visitDateDay||e.visitDate;break;case I.DateMillisecond:i=e.visitDateMillisecond||e.visitDate;break;case I.Timestamp:i=e.visitTimestamp;break;case I.TimestampSecond:i=e.visitTimestampSecond||e.visitTimestamp;break;case I.TimestampMillisecond:i=e.visitTimestampMillisecond||e.visitTimestamp;break;case I.TimestampMicrosecond:i=e.visitTimestampMicrosecond||e.visitTimestamp;break;case I.TimestampNanosecond:i=e.visitTimestampNanosecond||e.visitTimestamp;break;case I.Time:i=e.visitTime;break;case I.TimeSecond:i=e.visitTimeSecond||e.visitTime;break;case I.TimeMillisecond:i=e.visitTimeMillisecond||e.visitTime;break;case I.TimeMicrosecond:i=e.visitTimeMicrosecond||e.visitTime;break;case I.TimeNanosecond:i=e.visitTimeNanosecond||e.visitTime;break;case I.Decimal:i=e.visitDecimal;break;case I.List:i=e.visitList;break;case I.Struct:i=e.visitStruct;break;case I.Union:i=e.visitUnion;break;case I.DenseUnion:i=e.visitDenseUnion||e.visitUnion;break;case I.SparseUnion:i=e.visitSparseUnion||e.visitUnion;break;case I.Dictionary:i=e.visitDictionary;break;case I.Interval:i=e.visitInterval;break;case I.IntervalDayTime:i=e.visitIntervalDayTime||e.visitInterval;break;case I.IntervalYearMonth:i=e.visitIntervalYearMonth||e.visitInterval;break;case I.Duration:i=e.visitDuration;break;case I.DurationSecond:i=e.visitDurationSecond||e.visitDuration;break;case I.DurationMillisecond:i=e.visitDurationMillisecond||e.visitDuration;break;case I.DurationMicrosecond:i=e.visitDurationMicrosecond||e.visitDuration;break;case I.DurationNanosecond:i=e.visitDurationNanosecond||e.visitDuration;break;case I.FixedSizeList:i=e.visitFixedSizeList;break;case I.Map:i=e.visitMap;break}if(typeof i=="function")return i;if(!n)return()=>null;throw new Error(`Unrecognized type '${I[t]}'`)}function yb(e){switch(e.typeId){case I.Null:return I.Null;case I.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?I.Int8:I.Uint8;case 16:return n?I.Int16:I.Uint16;case 32:return n?I.Int32:I.Uint32;case 64:return n?I.Int64:I.Uint64}return I.Int}case I.Float:switch(e.precision){case Ae.HALF:return I.Float16;case Ae.SINGLE:return I.Float32;case Ae.DOUBLE:return I.Float64}return I.Float;case I.Binary:return I.Binary;case I.LargeBinary:return I.LargeBinary;case I.Utf8:return I.Utf8;case I.LargeUtf8:return I.LargeUtf8;case I.Bool:return I.Bool;case I.Decimal:return I.Decimal;case I.Time:switch(e.unit){case et.SECOND:return I.TimeSecond;case et.MILLISECOND:return I.TimeMillisecond;case et.MICROSECOND:return I.TimeMicrosecond;case et.NANOSECOND:return I.TimeNanosecond}return I.Time;case I.Timestamp:switch(e.unit){case et.SECOND:return I.TimestampSecond;case et.MILLISECOND:return I.TimestampMillisecond;case et.MICROSECOND:return I.TimestampMicrosecond;case et.NANOSECOND:return I.TimestampNanosecond}return I.Timestamp;case I.Date:switch(e.unit){case Cn.DAY:return I.DateDay;case Cn.MILLISECOND:return I.DateMillisecond}return I.Date;case I.Interval:switch(e.unit){case yi.DAY_TIME:return I.IntervalDayTime;case yi.YEAR_MONTH:return I.IntervalYearMonth}return I.Interval;case I.Duration:switch(e.unit){case et.SECOND:return I.DurationSecond;case et.MILLISECOND:return I.DurationMillisecond;case et.MICROSECOND:return I.DurationMicrosecond;case et.NANOSECOND:return I.DurationNanosecond}return I.Duration;case I.Map:return I.Map;case I.List:return I.List;case I.Struct:return I.Struct;case I.Union:switch(e.mode){case Ce.Dense:return I.DenseUnion;case Ce.Sparse:return I.SparseUnion}return I.Union;case I.FixedSizeBinary:return I.FixedSizeBinary;case I.FixedSizeList:return I.FixedSizeList;case I.Dictionary:return I.Dictionary}throw new Error(`Unrecognized type '${I[e.typeId]}'`)}dt.prototype.visitInt8=null;dt.prototype.visitInt16=null;dt.prototype.visitInt32=null;dt.prototype.visitInt64=null;dt.prototype.visitUint8=null;dt.prototype.visitUint16=null;dt.prototype.visitUint32=null;dt.prototype.visitUint64=null;dt.prototype.visitFloat16=null;dt.prototype.visitFloat32=null;dt.prototype.visitFloat64=null;dt.prototype.visitDateDay=null;dt.prototype.visitDateMillisecond=null;dt.prototype.visitTimestampSecond=null;dt.prototype.visitTimestampMillisecond=null;dt.prototype.visitTimestampMicrosecond=null;dt.prototype.visitTimestampNanosecond=null;dt.prototype.visitTimeSecond=null;dt.prototype.visitTimeMillisecond=null;dt.prototype.visitTimeMicrosecond=null;dt.prototype.visitTimeNanosecond=null;dt.prototype.visitDenseUnion=null;dt.prototype.visitSparseUnion=null;dt.prototype.visitIntervalDayTime=null;dt.prototype.visitIntervalYearMonth=null;dt.prototype.visitDuration=null;dt.prototype.visitDurationSecond=null;dt.prototype.visitDurationMillisecond=null;dt.prototype.visitDurationMicrosecond=null;dt.prototype.visitDurationNanosecond=null;const dI=new Float64Array(1),js=new Uint32Array(dI.buffer);function fI(e){const t=(e&31744)>>10,n=(e&1023)/1024,i=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return i*(n?Number.NaN:1/0);case 0:return i*(n?6103515625e-14*n:0)}return i*Math.pow(2,t-15)*(1+n)}function b4(e){if(e!==e)return 32256;dI[0]=e;const t=(js[1]&2147483648)>>16&65535;let n=js[1]&2146435072,i=0;return n>=1089470464?js[0]>0?n=31744:(n=(n&2080374784)>>16,i=(js[1]&1048575)>>10):n<=1056964608?(i=1048576+(js[1]&1048575),i=1048576+(i<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,i=(js[1]&1048575)+512>>10),t|n|i&65535}class nt extends dt{}function st(e){return(t,n,i)=>{if(t.setValid(n,i!=null))return e(t,n,i)}}const w4=(e,t,n)=>{e[t]=Math.floor(n/864e5)},hI=(e,t,n,i)=>{if(n+1<t.length){const r=Lt(t[n]),s=Lt(t[n+1]);e.set(i.subarray(0,s-r),r)}},S4=({offset:e,values:t},n,i)=>{const r=e+n;i?t[r>>3]|=1<<r%8:t[r>>3]&=~(1<<r%8)},Qi=({values:e},t,n)=>{e[t]=n},py=({values:e},t,n)=>{e[t]=n},pI=({values:e},t,n)=>{e[t]=b4(n)},x4=(e,t,n)=>{switch(e.type.precision){case Ae.HALF:return pI(e,t,n);case Ae.SINGLE:case Ae.DOUBLE:return py(e,t,n)}},gI=({values:e},t,n)=>{w4(e,t,n.valueOf())},mI=({values:e},t,n)=>{e[t]=BigInt(n)},E4=({stride:e,values:t},n,i)=>{t.set(i.subarray(0,e),e*n)},yI=({values:e,valueOffsets:t},n,i)=>hI(e,t,n,i),_I=({values:e,valueOffsets:t},n,i)=>hI(e,t,n,uy(i)),I4=(e,t,n)=>{e.type.unit===Cn.DAY?gI(e,t,n):mI(e,t,n)},vI=({values:e},t,n)=>{e[t]=BigInt(n/1e3)},bI=({values:e},t,n)=>{e[t]=BigInt(n)},wI=({values:e},t,n)=>{e[t]=BigInt(n*1e3)},SI=({values:e},t,n)=>{e[t]=BigInt(n*1e6)},k4=(e,t,n)=>{switch(e.type.unit){case et.SECOND:return vI(e,t,n);case et.MILLISECOND:return bI(e,t,n);case et.MICROSECOND:return wI(e,t,n);case et.NANOSECOND:return SI(e,t,n)}},xI=({values:e},t,n)=>{e[t]=n},EI=({values:e},t,n)=>{e[t]=n},II=({values:e},t,n)=>{e[t]=n},kI=({values:e},t,n)=>{e[t]=n},M4=(e,t,n)=>{switch(e.type.unit){case et.SECOND:return xI(e,t,n);case et.MILLISECOND:return EI(e,t,n);case et.MICROSECOND:return II(e,t,n);case et.NANOSECOND:return kI(e,t,n)}},T4=({values:e,stride:t},n,i)=>{e.set(i.subarray(0,t),t*n)},A4=(e,t,n)=>{const i=e.children[0],r=e.valueOffsets,s=Nn.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=r[t],l=r[t+1];a<l;)s(i,a++,n[++o]);else for(let o=-1,a=r[t],l=r[t+1];a<l;)s(i,a++,n.get(++o))},D4=(e,t,n)=>{const i=e.children[0],{valueOffsets:r}=e,s=Nn.getVisitFn(i);let{[t]:o,[t+1]:a}=r;const l=n instanceof Map?n.entries():Object.entries(n);for(const c of l)if(s(i,o,c),++o>=a)break},O4=(e,t)=>(n,i,r,s)=>i&&n(i,e,t[s]),C4=(e,t)=>(n,i,r,s)=>i&&n(i,e,t.get(s)),N4=(e,t)=>(n,i,r,s)=>i&&n(i,e,t.get(r.name)),R4=(e,t)=>(n,i,r,s)=>i&&n(i,e,t[r.name]),P4=(e,t,n)=>{const i=e.type.children.map(s=>Nn.getVisitFn(s.type)),r=n instanceof Map?N4(t,n):n instanceof It?C4(t,n):Array.isArray(n)?O4(t,n):R4(t,n);e.type.children.forEach((s,o)=>r(i[o],e.children[o],s,o))},L4=(e,t,n)=>{e.type.mode===Ce.Dense?MI(e,t,n):TI(e,t,n)},MI=(e,t,n)=>{const i=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[i];Nn.visit(r,e.valueOffsets[t],n)},TI=(e,t,n)=>{const i=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[i];Nn.visit(r,t,n)},F4=(e,t,n)=>{var i;(i=e.dictionary)===null||i===void 0||i.set(e.values[t],n)},B4=(e,t,n)=>{e.type.unit===yi.DAY_TIME?AI(e,t,n):DI(e,t,n)},AI=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},DI=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},OI=({values:e},t,n)=>{e[t]=n},CI=({values:e},t,n)=>{e[t]=n},NI=({values:e},t,n)=>{e[t]=n},RI=({values:e},t,n)=>{e[t]=n},z4=(e,t,n)=>{switch(e.type.unit){case et.SECOND:return OI(e,t,n);case et.MILLISECOND:return CI(e,t,n);case et.MICROSECOND:return NI(e,t,n);case et.NANOSECOND:return RI(e,t,n)}},U4=(e,t,n)=>{const{stride:i}=e,r=e.children[0],s=Nn.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=t*i;++o<i;)s(r,a+o,n[o]);else for(let o=-1,a=t*i;++o<i;)s(r,a+o,n.get(o))};nt.prototype.visitBool=st(S4);nt.prototype.visitInt=st(Qi);nt.prototype.visitInt8=st(Qi);nt.prototype.visitInt16=st(Qi);nt.prototype.visitInt32=st(Qi);nt.prototype.visitInt64=st(Qi);nt.prototype.visitUint8=st(Qi);nt.prototype.visitUint16=st(Qi);nt.prototype.visitUint32=st(Qi);nt.prototype.visitUint64=st(Qi);nt.prototype.visitFloat=st(x4);nt.prototype.visitFloat16=st(pI);nt.prototype.visitFloat32=st(py);nt.prototype.visitFloat64=st(py);nt.prototype.visitUtf8=st(_I);nt.prototype.visitLargeUtf8=st(_I);nt.prototype.visitBinary=st(yI);nt.prototype.visitLargeBinary=st(yI);nt.prototype.visitFixedSizeBinary=st(E4);nt.prototype.visitDate=st(I4);nt.prototype.visitDateDay=st(gI);nt.prototype.visitDateMillisecond=st(mI);nt.prototype.visitTimestamp=st(k4);nt.prototype.visitTimestampSecond=st(vI);nt.prototype.visitTimestampMillisecond=st(bI);nt.prototype.visitTimestampMicrosecond=st(wI);nt.prototype.visitTimestampNanosecond=st(SI);nt.prototype.visitTime=st(M4);nt.prototype.visitTimeSecond=st(xI);nt.prototype.visitTimeMillisecond=st(EI);nt.prototype.visitTimeMicrosecond=st(II);nt.prototype.visitTimeNanosecond=st(kI);nt.prototype.visitDecimal=st(T4);nt.prototype.visitList=st(A4);nt.prototype.visitStruct=st(P4);nt.prototype.visitUnion=st(L4);nt.prototype.visitDenseUnion=st(MI);nt.prototype.visitSparseUnion=st(TI);nt.prototype.visitDictionary=st(F4);nt.prototype.visitInterval=st(B4);nt.prototype.visitIntervalDayTime=st(AI);nt.prototype.visitIntervalYearMonth=st(DI);nt.prototype.visitDuration=st(z4);nt.prototype.visitDurationSecond=st(OI);nt.prototype.visitDurationMillisecond=st(CI);nt.prototype.visitDurationMicrosecond=st(NI);nt.prototype.visitDurationNanosecond=st(RI);nt.prototype.visitFixedSizeList=st(U4);nt.prototype.visitMap=st(D4);const Nn=new nt,zn=Symbol.for("parent"),To=Symbol.for("rowIndex");class gy{constructor(t,n){return this[zn]=t,this[To]=n,new Proxy(this,new V4)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[To],n=this[zn],i=n.type.children,r={};for(let s=-1,o=i.length;++s<o;)r[i[s].name]=tn.visit(n.children[s],t);return r}toString(){return`{${[...this].map(([t,n])=>`${zl(t)}: ${zl(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new $4(this[zn],this[To])}}class $4{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,tn.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(gy.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[zn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[To]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class V4{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[zn].type.children.map(n=>n.name)}has(t,n){return t[zn].type.children.findIndex(i=>i.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[zn].type.children.findIndex(i=>i.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const i=t[zn].type.children.findIndex(r=>r.name===n);if(i!==-1){const r=tn.visit(t[zn].children[i],t[To]);return Reflect.set(t,n,r),r}}set(t,n,i){const r=t[zn].type.children.findIndex(s=>s.name===n);return r!==-1?(Nn.visit(t[zn].children[r],t[To],i),Reflect.set(t,n,i)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,i):!1}}class q extends dt{}function it(e){return(t,n)=>t.getValid(n)?e(t,n):null}const j4=(e,t)=>864e5*e[t],H4=(e,t)=>null,PI=(e,t,n)=>{if(n+1>=t.length)return null;const i=Lt(t[n]),r=Lt(t[n+1]);return e.subarray(i,r)},W4=({offset:e,values:t},n)=>{const i=e+n;return(t[i>>3]&1<<i%8)!==0},LI=({values:e},t)=>j4(e,t),FI=({values:e},t)=>Lt(e[t]),Vr=({stride:e,values:t},n)=>t[e*n],Y4=({stride:e,values:t},n)=>fI(t[e*n]),BI=({values:e},t)=>e[t],X4=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),zI=({values:e,valueOffsets:t},n)=>PI(e,t,n),UI=({values:e,valueOffsets:t},n)=>{const i=PI(e,t,n);return i!==null?bg(i):null},K4=({values:e},t)=>e[t],G4=({type:e,values:t},n)=>e.precision!==Ae.HALF?t[n]:fI(t[n]),Q4=(e,t)=>e.type.unit===Cn.DAY?LI(e,t):FI(e,t),$I=({values:e},t)=>1e3*Lt(e[t]),VI=({values:e},t)=>Lt(e[t]),jI=({values:e},t)=>$E(e[t],BigInt(1e3)),HI=({values:e},t)=>$E(e[t],BigInt(1e6)),q4=(e,t)=>{switch(e.type.unit){case et.SECOND:return $I(e,t);case et.MILLISECOND:return VI(e,t);case et.MICROSECOND:return jI(e,t);case et.NANOSECOND:return HI(e,t)}},WI=({values:e},t)=>e[t],YI=({values:e},t)=>e[t],XI=({values:e},t)=>e[t],KI=({values:e},t)=>e[t],Z4=(e,t)=>{switch(e.type.unit){case et.SECOND:return WI(e,t);case et.MILLISECOND:return YI(e,t);case et.MICROSECOND:return XI(e,t);case et.NANOSECOND:return KI(e,t)}},J4=({values:e,stride:t},n)=>hy.decimal(e.subarray(t*n,t*(n+1))),tU=(e,t)=>{const{valueOffsets:n,stride:i,children:r}=e,{[t*i]:s,[t*i+1]:o}=n,l=r[0].slice(s,o-s);return new It([l])},eU=(e,t)=>{const{valueOffsets:n,children:i}=e,{[t]:r,[t+1]:s}=n,o=i[0];return new my(o.slice(r,s-r))},nU=(e,t)=>new gy(e,t),iU=(e,t)=>e.type.mode===Ce.Dense?GI(e,t):QI(e,t),GI=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[n];return tn.visit(i,e.valueOffsets[t])},QI=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[n];return tn.visit(i,t)},rU=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},sU=(e,t)=>e.type.unit===yi.DAY_TIME?qI(e,t):ZI(e,t),qI=({values:e},t)=>e.subarray(2*t,2*(t+1)),ZI=({values:e},t)=>{const n=e[t],i=new Int32Array(2);return i[0]=Math.trunc(n/12),i[1]=Math.trunc(n%12),i},JI=({values:e},t)=>e[t],tk=({values:e},t)=>e[t],ek=({values:e},t)=>e[t],nk=({values:e},t)=>e[t],oU=(e,t)=>{switch(e.type.unit){case et.SECOND:return JI(e,t);case et.MILLISECOND:return tk(e,t);case et.MICROSECOND:return ek(e,t);case et.NANOSECOND:return nk(e,t)}},aU=(e,t)=>{const{stride:n,children:i}=e,s=i[0].slice(t*n,n);return new It([s])};q.prototype.visitNull=it(H4);q.prototype.visitBool=it(W4);q.prototype.visitInt=it(K4);q.prototype.visitInt8=it(Vr);q.prototype.visitInt16=it(Vr);q.prototype.visitInt32=it(Vr);q.prototype.visitInt64=it(BI);q.prototype.visitUint8=it(Vr);q.prototype.visitUint16=it(Vr);q.prototype.visitUint32=it(Vr);q.prototype.visitUint64=it(BI);q.prototype.visitFloat=it(G4);q.prototype.visitFloat16=it(Y4);q.prototype.visitFloat32=it(Vr);q.prototype.visitFloat64=it(Vr);q.prototype.visitUtf8=it(UI);q.prototype.visitLargeUtf8=it(UI);q.prototype.visitBinary=it(zI);q.prototype.visitLargeBinary=it(zI);q.prototype.visitFixedSizeBinary=it(X4);q.prototype.visitDate=it(Q4);q.prototype.visitDateDay=it(LI);q.prototype.visitDateMillisecond=it(FI);q.prototype.visitTimestamp=it(q4);q.prototype.visitTimestampSecond=it($I);q.prototype.visitTimestampMillisecond=it(VI);q.prototype.visitTimestampMicrosecond=it(jI);q.prototype.visitTimestampNanosecond=it(HI);q.prototype.visitTime=it(Z4);q.prototype.visitTimeSecond=it(WI);q.prototype.visitTimeMillisecond=it(YI);q.prototype.visitTimeMicrosecond=it(XI);q.prototype.visitTimeNanosecond=it(KI);q.prototype.visitDecimal=it(J4);q.prototype.visitList=it(tU);q.prototype.visitStruct=it(nU);q.prototype.visitUnion=it(iU);q.prototype.visitDenseUnion=it(GI);q.prototype.visitSparseUnion=it(QI);q.prototype.visitDictionary=it(rU);q.prototype.visitInterval=it(sU);q.prototype.visitIntervalDayTime=it(qI);q.prototype.visitIntervalYearMonth=it(ZI);q.prototype.visitDuration=it(oU);q.prototype.visitDurationSecond=it(JI);q.prototype.visitDurationMillisecond=it(tk);q.prototype.visitDurationMicrosecond=it(ek);q.prototype.visitDurationNanosecond=it(nk);q.prototype.visitFixedSizeList=it(aU);q.prototype.visitMap=it(eU);const tn=new q,Zs=Symbol.for("keys"),Ao=Symbol.for("vals"),Js=Symbol.for("kKeysAsStrings"),kg=Symbol.for("_kKeysAsStrings");class my{constructor(t){return this[Zs]=new It([t.children[0]]).memoize(),this[Ao]=t.children[1],new Proxy(this,new cU)}get[Js](){return this[kg]||(this[kg]=Array.from(this[Zs].toArray(),String))}[Symbol.iterator](){return new lU(this[Zs],this[Ao])}get size(){return this[Zs].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Zs],n=this[Ao],i={};for(let r=-1,s=t.length;++r<s;)i[t.get(r)]=tn.visit(n,r);return i}toString(){return`{${[...this].map(([t,n])=>`${zl(t)}: ${zl(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class lU{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),tn.visit(this.vals,t)]})}}class cU{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Js]}has(t,n){return t[Js].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Js].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const i=t[Js].indexOf(n);if(i!==-1){const r=tn.visit(Reflect.get(t,Ao),i);return Reflect.set(t,n,r),r}}set(t,n,i){const r=t[Js].indexOf(n);return r!==-1?(Nn.visit(Reflect.get(t,Ao),r,i),Reflect.set(t,n,i)):Reflect.has(t,n)?Reflect.set(t,n,i):!1}}Object.defineProperties(my.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Zs]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ao]:{writable:!0,enumerable:!1,configurable:!1,value:null},[kg]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let _b;function ik(e,t,n,i){const{length:r=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?r:n;return s<0&&(s=(s%r+r)%r),o<0&&(o=(o%r+r)%r),o<s&&(_b=s,s=o,o=_b),o>r&&(o=r),i?i(e,s,o):[s,o]}const yy=(e,t)=>e<0?t+e:e,vb=e=>e!==e;function ea(e){if(typeof e!=="object"||e===null)return vb(e)?vb:n=>n===e;if(e instanceof Date){const n=e.valueOf();return i=>i instanceof Date?i.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?a4(e,n):!1:e instanceof Map?dU(e):Array.isArray(e)?uU(e):e instanceof It?fU(e):hU(e,!0)}function uU(e){const t=[];for(let n=-1,i=e.length;++n<i;)t[n]=ea(e[n]);return Lf(t)}function dU(e){let t=-1;const n=[];for(const i of e.values())n[++t]=ea(i);return Lf(n)}function fU(e){const t=[];for(let n=-1,i=e.length;++n<i;)t[n]=ea(e.get(n));return Lf(t)}function hU(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const i=[];for(let r=-1,s=n.length;++r<s;)i[r]=ea(e[n[r]]);return Lf(i,n)}function Lf(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return pU(e,n);case Map:return bb(e,n,n.keys());case my:case gy:case Object:case void 0:return bb(e,n,t||Object.keys(n))}return n instanceof It?gU(e,n):!1}}function pU(e,t){const n=e.length;if(t.length!==n)return!1;for(let i=-1;++i<n;)if(!e[i](t[i]))return!1;return!0}function gU(e,t){const n=e.length;if(t.length!==n)return!1;for(let i=-1;++i<n;)if(!e[i](t.get(i)))return!1;return!0}function bb(e,t,n){const i=n[Symbol.iterator](),r=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let l=s.next(),c=i.next(),u=r.next();for(;o<a&&!c.done&&!u.done&&!l.done&&!(c.value!==u.value||!e[o](l.value));++o,c=i.next(),u=r.next(),l=s.next());return o===a&&c.done&&u.done&&l.done?!0:(i.return&&i.return(),r.return&&r.return(),s.return&&s.return(),!1)}function rk(e,t,n,i){return(n&1<<i)!==0}function mU(e,t,n,i){return(n&1<<i)>>i}function Ld(e,t,n){const i=n.byteLength+7&-8;if(e>0||n.byteLength<i){const r=new Uint8Array(i);return r.set(e%8===0?n.subarray(e>>3):Fd(new _y(n,e,t,null,rk)).subarray(0,i)),r}return n}function Fd(e){const t=[];let n=0,i=0,r=0;for(const o of e)o&&(r|=1<<i),++i===8&&(t[n++]=r,r=i=0);(n===0||i>0)&&(t[n++]=r);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class _y{constructor(t,n,i,r,s){this.bytes=t,this.length=i,this.context=r,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Mg(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new _y(e,t,n-t,e,mU))s+=o;return s}const i=n>>3<<3,r=t+(t%8===0?0:8-t%8);return Mg(e,t,r)+Mg(e,i,n)+yU(e,r>>3,i-r>>3)}function yU(e,t,n){let i=0,r=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:r+n;for(;o-r>=4;)i+=Wh(s.getUint32(r)),r+=4;for(;o-r>=2;)i+=Wh(s.getUint16(r)),r+=2;for(;o-r>=1;)i+=Wh(s.getUint8(r)),r+=1;return i}function Wh(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const _U=-1;class At{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return X.isSparseUnion(t)?this.children.some(n=>n.nullable):X.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:i,nullBitmap:r,typeIds:s}=this;return n&&(t+=n.byteLength),i&&(t+=i.byteLength),r&&(t+=r.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(X.isUnion(this.type))return this.children.reduce((i,r)=>i+r.nullCount,0);let t=this._nullCount,n;return t<=_U&&(n=this.nullBitmap)&&(this._nullCount=t=n.length===0?0:this.length-Mg(n,this.offset,this.offset+this.length)),t}constructor(t,n,i,r,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(r||0,-1));let l;s instanceof At?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Oi(t),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l)))}getValid(t){const{type:n}=this;if(X.isUnion(n)){const i=n,r=this.children[i.typeIdToChildIndex[this.typeIds[t]]],s=i.mode===Ce.Dense?this.valueOffsets[t]:t;return r.getValid(s)}if(this.nullable&&this.nullCount>0){const i=this.offset+t;return(this.nullBitmap[i>>3]&1<<i%8)!==0}return!0}setValid(t,n){let i;const{type:r}=this;if(X.isUnion(r)){const s=r,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===Ce.Dense?this.valueOffsets[t]:t;i=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,l=o+t,c=1<<l%8,u=l>>3;(!s||s.byteLength<=u)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0?(s.set(Ld(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s})):Object.assign(this,{nullBitmap:s,_nullCount:0}));const d=s[u];i=(d&c)!==0,s[u]=n?d|c:d&~c}return i!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,i=this.length,r=this._nullCount,s=this,o=this.children){return new At(t,n,i,r,s,o,this.dictionary)}slice(t,n){const{stride:i,typeId:r,children:s}=this,o=+(this._nullCount===0)-1,a=r===16?i:1,l=this._sliceBuffers(t,n,i,r);return this.clone(this.type,this.offset+t,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===I.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:i}=this,r=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);r[n>>3]=(1<<n-(n&-8))-1,i>0&&r.set(Ld(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[Di.VALIDITY]=r,this.clone(this.type,0,t,i+(t-n),s)}_sliceBuffers(t,n,i,r){let s;const{buffers:o}=this;return(s=o[Di.TYPE])&&(o[Di.TYPE]=s.subarray(t,t+n)),(s=o[Di.OFFSET])&&(o[Di.OFFSET]=s.subarray(t,t+n+1))||(s=o[Di.DATA])&&(o[Di.DATA]=r===6?s:s.subarray(i*t,i*(t+n))),o}_sliceChildren(t,n,i){return t.map(r=>r.slice(n,i))}}At.prototype.children=Object.freeze([]);class ol extends dt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:i=0,["length"]:r=0}=t;return new At(n,i,r,r)}visitBool(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.nullBitmap),s=Ot(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,s,r])}visitInt(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.nullBitmap),s=Ot(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,s,r])}visitFloat(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.nullBitmap),s=Ot(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,s,r])}visitUtf8(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.data),s=mt(t.nullBitmap),o=Ia(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new At(n,i,a,l,[o,r,s])}visitLargeUtf8(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.data),s=mt(t.nullBitmap),o=ab(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new At(n,i,a,l,[o,r,s])}visitBinary(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.data),s=mt(t.nullBitmap),o=Ia(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new At(n,i,a,l,[o,r,s])}visitLargeBinary(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.data),s=mt(t.nullBitmap),o=ab(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new At(n,i,a,l,[o,r,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.nullBitmap),s=Ot(n.ArrayType,t.data),{["length"]:o=s.length/Oi(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,s,r])}visitDate(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.nullBitmap),s=Ot(n.ArrayType,t.data),{["length"]:o=s.length/Oi(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,s,r])}visitTimestamp(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.nullBitmap),s=Ot(n.ArrayType,t.data),{["length"]:o=s.length/Oi(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,s,r])}visitTime(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.nullBitmap),s=Ot(n.ArrayType,t.data),{["length"]:o=s.length/Oi(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,s,r])}visitDecimal(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.nullBitmap),s=Ot(n.ArrayType,t.data),{["length"]:o=s.length/Oi(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,s,r])}visitList(t){const{["type"]:n,["offset"]:i=0,["child"]:r}=t,s=mt(t.nullBitmap),o=Ia(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new At(n,i,a,l,[o,void 0,s],[r])}visitStruct(t){const{["type"]:n,["offset"]:i=0,["children"]:r=[]}=t,s=mt(t.nullBitmap),{length:o=r.reduce((l,{length:c})=>Math.max(l,c),0),nullCount:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,void 0,s],r)}visitUnion(t){const{["type"]:n,["offset"]:i=0,["children"]:r=[]}=t,s=Ot(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(X.isSparseUnion(n))return new At(n,i,o,a,[void 0,void 0,void 0,s],r);const l=Ia(t.valueOffsets);return new At(n,i,o,a,[l,void 0,void 0,s],r)}visitDictionary(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.nullBitmap),s=Ot(n.indices.ArrayType,t.data),{["dictionary"]:o=new It([new ol().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new At(n,i,a,l,[void 0,s,r],[],o)}visitInterval(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.nullBitmap),s=Ot(n.ArrayType,t.data),{["length"]:o=s.length/Oi(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,s,r])}visitDuration(t){const{["type"]:n,["offset"]:i=0}=t,r=mt(t.nullBitmap),s=Ot(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,s,r])}visitFixedSizeList(t){const{["type"]:n,["offset"]:i=0,["child"]:r=new ol().visit({type:n.valueType})}=t,s=mt(t.nullBitmap),{["length"]:o=r.length/Oi(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new At(n,i,o,a,[void 0,void 0,s],[r])}visitMap(t){const{["type"]:n,["offset"]:i=0,["child"]:r=new ol().visit({type:n.childType})}=t,s=mt(t.nullBitmap),o=Ia(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new At(n,i,a,l,[o,void 0,s],[r])}}const vU=new ol;function ht(e){return vU.visit(e)}class wb{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function bU(e){return e.some(t=>t.nullable)}function sk(e){return e.reduce((t,n)=>t+n.nullCount,0)}function ok(e){return e.reduce((t,n,i)=>(t[i+1]=t[i]+n.length,t),new Uint32Array(e.length+1))}function ak(e,t,n,i){const r=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],l=t[s],{length:c}=a;if(l>=i)break;if(n>=l+c)continue;if(l>=n&&l+c<=i){r.push(a);continue}const u=Math.max(0,n-l),d=Math.min(i-l,c);r.push(a.slice(u,d-u))}return r.length===0&&r.push(e[0].slice(0,0)),r}function vy(e,t,n,i){let r=0,s=0,o=t.length-1;do{if(r>=o-1)return n<t[o]?i(e,r,n-t[r]):null;s=r+Math.trunc((o-r)*.5),n<t[s]?o=s:r=s}while(r<o)}function by(e,t){return e.getValid(t)}function Bd(e){function t(n,i,r){return e(n[i],r)}return function(n){const i=this.data;return vy(i,this._offsets,n,t)}}function lk(e){let t;function n(i,r,s){return e(i[r],s,t)}return function(i,r){const s=this.data;t=r;const o=vy(s,this._offsets,i,n);return t=void 0,o}}function ck(e){let t;function n(i,r,s){let o=s,a=0,l=0;for(let c=r-1,u=i.length;++c<u;){const d=i[c];if(~(a=e(d,t,o)))return l+a;o=0,l+=d.length}return-1}return function(i,r){t=i;const s=this.data,o=typeof r!="number"?n(s,0,0):vy(s,this._offsets,r,n);return t=void 0,o}}class Z extends dt{}function wU(e,t){return t===null&&e.length>0?0:-1}function SU(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let i=0;for(const r of new _y(n,e.offset+(t||0),e.length,n,rk)){if(!r)return i;++i}return-1}function ot(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case I.Union:break;case I.Dictionary:break;default:return SU(e,n)}const i=tn.getVisitFn(e),r=ea(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(r(i(e,s)))return s;return-1}function uk(e,t,n){const i=tn.getVisitFn(e),r=ea(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(r(i(e,s)))return s;return-1}Z.prototype.visitNull=wU;Z.prototype.visitBool=ot;Z.prototype.visitInt=ot;Z.prototype.visitInt8=ot;Z.prototype.visitInt16=ot;Z.prototype.visitInt32=ot;Z.prototype.visitInt64=ot;Z.prototype.visitUint8=ot;Z.prototype.visitUint16=ot;Z.prototype.visitUint32=ot;Z.prototype.visitUint64=ot;Z.prototype.visitFloat=ot;Z.prototype.visitFloat16=ot;Z.prototype.visitFloat32=ot;Z.prototype.visitFloat64=ot;Z.prototype.visitUtf8=ot;Z.prototype.visitLargeUtf8=ot;Z.prototype.visitBinary=ot;Z.prototype.visitLargeBinary=ot;Z.prototype.visitFixedSizeBinary=ot;Z.prototype.visitDate=ot;Z.prototype.visitDateDay=ot;Z.prototype.visitDateMillisecond=ot;Z.prototype.visitTimestamp=ot;Z.prototype.visitTimestampSecond=ot;Z.prototype.visitTimestampMillisecond=ot;Z.prototype.visitTimestampMicrosecond=ot;Z.prototype.visitTimestampNanosecond=ot;Z.prototype.visitTime=ot;Z.prototype.visitTimeSecond=ot;Z.prototype.visitTimeMillisecond=ot;Z.prototype.visitTimeMicrosecond=ot;Z.prototype.visitTimeNanosecond=ot;Z.prototype.visitDecimal=ot;Z.prototype.visitList=ot;Z.prototype.visitStruct=ot;Z.prototype.visitUnion=ot;Z.prototype.visitDenseUnion=uk;Z.prototype.visitSparseUnion=uk;Z.prototype.visitDictionary=ot;Z.prototype.visitInterval=ot;Z.prototype.visitIntervalDayTime=ot;Z.prototype.visitIntervalYearMonth=ot;Z.prototype.visitDuration=ot;Z.prototype.visitDurationSecond=ot;Z.prototype.visitDurationMillisecond=ot;Z.prototype.visitDurationMicrosecond=ot;Z.prototype.visitDurationNanosecond=ot;Z.prototype.visitFixedSizeList=ot;Z.prototype.visitMap=ot;const zd=new Z;class J extends dt{}function rt(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(X.isInt(t)&&t.bitWidth!==64||X.isTime(t)&&t.bitWidth!==64||X.isFloat(t)&&t.precision!==Ae.HALF))return new wb(e.data.length,i=>{const r=e.data[i];return r.values.subarray(0,r.length)[Symbol.iterator]()});let n=0;return new wb(e.data.length,i=>{const s=e.data[i].length,o=e.slice(n,n+s);return n+=s,new xU(o)})}class xU{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}J.prototype.visitNull=rt;J.prototype.visitBool=rt;J.prototype.visitInt=rt;J.prototype.visitInt8=rt;J.prototype.visitInt16=rt;J.prototype.visitInt32=rt;J.prototype.visitInt64=rt;J.prototype.visitUint8=rt;J.prototype.visitUint16=rt;J.prototype.visitUint32=rt;J.prototype.visitUint64=rt;J.prototype.visitFloat=rt;J.prototype.visitFloat16=rt;J.prototype.visitFloat32=rt;J.prototype.visitFloat64=rt;J.prototype.visitUtf8=rt;J.prototype.visitLargeUtf8=rt;J.prototype.visitBinary=rt;J.prototype.visitLargeBinary=rt;J.prototype.visitFixedSizeBinary=rt;J.prototype.visitDate=rt;J.prototype.visitDateDay=rt;J.prototype.visitDateMillisecond=rt;J.prototype.visitTimestamp=rt;J.prototype.visitTimestampSecond=rt;J.prototype.visitTimestampMillisecond=rt;J.prototype.visitTimestampMicrosecond=rt;J.prototype.visitTimestampNanosecond=rt;J.prototype.visitTime=rt;J.prototype.visitTimeSecond=rt;J.prototype.visitTimeMillisecond=rt;J.prototype.visitTimeMicrosecond=rt;J.prototype.visitTimeNanosecond=rt;J.prototype.visitDecimal=rt;J.prototype.visitList=rt;J.prototype.visitStruct=rt;J.prototype.visitUnion=rt;J.prototype.visitDenseUnion=rt;J.prototype.visitSparseUnion=rt;J.prototype.visitDictionary=rt;J.prototype.visitInterval=rt;J.prototype.visitIntervalDayTime=rt;J.prototype.visitIntervalYearMonth=rt;J.prototype.visitDuration=rt;J.prototype.visitDurationSecond=rt;J.prototype.visitDurationMillisecond=rt;J.prototype.visitDurationMicrosecond=rt;J.prototype.visitDurationNanosecond=rt;J.prototype.visitFixedSizeList=rt;J.prototype.visitMap=rt;const wy=new J;var dk;const fk={},hk={};class It{constructor(t){var n,i,r;const s=t[0]instanceof It?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof At)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:c}=fk[o.typeId],u=s[0];this.isValid=d=>by(u,d),this.get=d=>a(u,d),this.set=(d,f)=>l(u,d,f),this.indexOf=d=>c(u,d),this._offsets=[0,u.length];break}default:Object.setPrototypeOf(this,hk[o.typeId]),this._offsets=ok(s);break}this.data=s,this.type=o,this.stride=Oi(o),this.numChildren=(r=(i=o.children)===null||i===void 0?void 0:i.length)!==null&&r!==void 0?r:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullable(){return bU(this.data)}get nullCount(){return sk(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${I[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}at(t){return this.get(yy(t,this.length))}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}[Symbol.iterator](){return wy.visit(this)}concat(...t){return new It(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new It(ik(this,t,n,({data:i,_offsets:r},s,o)=>ak(i,r,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:i,stride:r,ArrayType:s}=this;switch(t.typeId){case I.Int:case I.Float:case I.Decimal:case I.Time:case I.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,i*r);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*r),o.offset),o.offset+=l*r,o),{array:new s(i*r),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(i=>i.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new It(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return X.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(X.isDictionary(this.type)){const t=new Ud(this.data[0].dictionary),n=this.data.map(i=>{const r=i.clone();return r.dictionary=t,r});return new It(n)}return new Ud(this)}unmemoize(){if(X.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(i=>{const r=i.clone();return r.dictionary=t,r});return new It(n)}return this}}dk=Symbol.toStringTag;It[dk]=(e=>{e.type=X.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(I).map(n=>I[n]).filter(n=>typeof n=="number"&&n!==I.NONE);for(const n of t){const i=tn.getVisitFnByTypeId(n),r=Nn.getVisitFnByTypeId(n),s=zd.getVisitFnByTypeId(n);fk[n]={get:i,set:r,indexOf:s},hk[n]=Object.create(e,{isValid:{value:Bd(by)},get:{value:Bd(tn.getVisitFnByTypeId(n))},set:{value:lk(Nn.getVisitFnByTypeId(n))},indexOf:{value:ck(zd.getVisitFnByTypeId(n))}})}return"Vector"})(It.prototype);class Ud extends It{constructor(t){super(t.data);const n=this.get,i=this.set,r=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){i.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new Ud(r.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new It(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Tg{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,i,r){return t.prep(8,24),t.writeInt64(BigInt(r??0)),t.pad(4),t.writeInt32(i),t.writeInt64(BigInt(n??0)),t.offset()}}class nn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new nn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Mt),(n||new nn).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ie.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new ii).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new Tg).__init(this.bb.__vector(this.bb_pos+i)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const i=this.bb.__offset(this.bb_pos,10);return i?(n||new Tg).__init(this.bb.__vector(this.bb_pos+i)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,ie.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class kt{constructor(t=[],n,i,r=ie.V5){this.fields=t||[],this.metadata=n||new Map,i||(i=Ag(this.fields)),this.dictionaries=i,this.metadataVersion=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),i=this.fields.filter(r=>n.has(r.name));return new kt(i,this.metadata)}selectAt(t){const n=t.map(i=>this.fields[i]).filter(Boolean);return new kt(n,this.metadata)}assign(...t){const n=t[0]instanceof kt?t[0]:Array.isArray(t[0])?new kt(t[0]):new kt(t),i=[...this.fields],r=Zc(Zc(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=i.findIndex(c=>c.name===a.name);return~l?(i[l]=a.clone({metadata:Zc(Zc(new Map,i[l].metadata),a.metadata)}))&&!1:!0}),o=Ag(s,new Map);return new kt([...i,...s],r,new Map([...this.dictionaries,...o]))}}kt.prototype.fields=null;kt.prototype.metadata=null;kt.prototype.dictionaries=null;class Ht{static new(...t){let[n,i,r,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],i===void 0&&(i=t[0].type),r===void 0&&(r=t[0].nullable),s===void 0&&(s=t[0].metadata)),new Ht(`${n}`,i,r,s)}constructor(t,n,i=!1,r){this.name=t,this.type=n,this.nullable=i,this.metadata=r||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,i,r,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,i=this.type,r=this.nullable,s=this.metadata]=t:{name:n=this.name,type:i=this.type,nullable:r=this.nullable,metadata:s=this.metadata}=t[0],Ht.new(n,i,r,s)}}Ht.prototype.type=null;Ht.prototype.name=null;Ht.prototype.nullable=null;Ht.prototype.metadata=null;function Zc(e,t){return new Map([...e||new Map,...t||new Map])}function Ag(e,t=new Map){for(let n=-1,i=e.length;++n<i;){const s=e[n].type;if(X.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&Ag(s.children,t)}return t}var EU=FE,IU=Wo;class jl{static decode(t){t=new IU(mt(t));const n=nn.getRootAsFooter(t),i=kt.decode(n.schema(),new Map,n.version());return new kU(i,n)}static encode(t){const n=new EU,i=kt.encode(n,t.schema);nn.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Rr.encode(n,o);const r=n.endVector();nn.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Rr.encode(n,o);const s=n.endVector();return nn.startFooter(n),nn.addSchema(n,i),nn.addVersion(n,ie.V5),nn.addRecordBatches(n,r),nn.addDictionaries(n,s),nn.finishFooterBuffer(n,nn.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=ie.V5,i,r){this.schema=t,this.version=n,i&&(this._recordBatches=i),r&&(this._dictionaryBatches=r)}*recordBatches(){for(let t,n=-1,i=this.numRecordBatches;++n<i;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,i=this.numDictionaries;++n<i;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class kU extends jl{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Rr.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Rr.decode(n)}return null}}class Rr{static decode(t){return new Rr(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:i}=n,r=BigInt(n.offset),s=BigInt(n.bodyLength);return Tg.createBlock(t,r,i,s)}constructor(t,n,i){this.metaDataLength=t,this.offset=Lt(i),this.bodyLength=Lt(n)}}const Kt=Object.freeze({done:!0,value:void 0});class Sb{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Sy{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class MU extends Sy{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return at(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Kt);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return _n.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return _n.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return at(this,void 0,void 0,function*(){return yield this.abort(t),Kt})}return(t){return at(this,void 0,void 0,function*(){return yield this.close(),Kt})}read(t){return at(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return at(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,i)=>{this.resolvers.push({resolve:n,reject:i})}):Promise.resolve(Kt)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class xu extends MU{write(t){if((t=mt(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?bg(this.toUint8Array(!0)):this.toUint8Array(!1).then(bg)}toUint8Array(t=!1){return t?mi(this._values)[0]:(()=>at(this,void 0,void 0,function*(){var n,i,r,s;const o=[];let a=0;try{for(var l=!0,c=gs(this),u;u=yield c.next(),n=u.done,!n;l=!0){s=u.value,l=!1;const d=s;o.push(d),a+=d.byteLength}}catch(d){i={error:d}}finally{try{!l&&!n&&(r=c.return)&&(yield r.call(c))}finally{if(i)throw i.error}}return mi(o,a)[0]}))()}}class $d{constructor(t){t&&(this.source=new TU(_n.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Ko{constructor(t){t instanceof Ko?this.source=t.source:t instanceof xu?this.source=new qr(_n.fromAsyncIterable(t)):NE(t)?this.source=new qr(_n.fromNodeStream(t)):dy(t)?this.source=new qr(_n.fromDOMStream(t)):CE(t)?this.source=new qr(_n.fromDOMStream(t.body)):sc(t)?this.source=new qr(_n.fromIterable(t)):Is(t)?this.source=new qr(_n.fromAsyncIterable(t)):ta(t)&&(this.source=new qr(_n.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class TU{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,n="read"){return this.source.next({cmd:n,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Kt)}return(t){return Object.create(this.source.return&&this.source.return(t)||Kt)}}class qr{constructor(t){this.source=t,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(t){return at(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return at(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return at(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t){return at(this,arguments,void 0,function*(n,i="read"){return yield this.source.next({cmd:i,size:n})})}throw(t){return at(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(t))||Kt;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(t){return at(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(t))||Kt;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class xb extends $d{constructor(t,n){super(),this.position=0,this.buffer=mt(t),this.size=n===void 0?this.buffer.byteLength:n}readInt32(t){const{buffer:n,byteOffset:i}=this.readAt(t,4);return new DataView(n,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:n,size:i,position:r}=this;return n&&r<i?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,r+Math.min(i-r,t)),n.subarray(r,this.position)):null}readAt(t,n){const i=this.buffer,r=Math.min(this.size,t+n);return i?i.subarray(t,r):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Vd extends Ko{constructor(t,n){super(),this.position=0,this._handle=t,typeof n=="number"?this.size=n:this._pending=(()=>at(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending}))()}readInt32(t){return at(this,void 0,void 0,function*(){const{buffer:n,byteOffset:i}=yield this.readAt(t,4);return new DataView(n,i).getInt32(0,!0)})}seek(t){return at(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return at(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:i,position:r}=this;if(n&&r<i){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let s=r,o=0,a=0;const l=Math.min(i,s+Math.min(i-s,t)),c=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<c.byteLength;)({bytesRead:a}=yield n.read(c,o,c.byteLength-o,s));return c}return null})}readAt(t,n){return at(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:i,size:r}=this;if(i&&t+n<r){const s=Math.min(r,t+n),o=new Uint8Array(s-t);return(yield i.read(o,0,n,t)).buffer}return new Uint8Array(n)})}close(){return at(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return at(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return at(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const AU=65536;function go(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}const Go=8,xy=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class pk{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),i=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let r=n[3]*i[3];this.buffer[0]=r&65535;let s=r>>>16;return r=n[2]*i[3],s+=r,r=n[3]*i[2]>>>0,s+=r,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<r?AU:0,this.buffer[1]+=s>>>16,this.buffer[1]+=n[1]*i[3]+n[2]*i[2]+n[3]*i[1],this.buffer[1]+=n[0]*i[3]+n[1]*i[2]+n[2]*i[1]+n[3]*i[0]<<16,this}_plus(t){const n=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${go(this.buffer[1])} ${go(this.buffer[0])}`}}class Dt extends pk{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,n=new Uint32Array(2)){return Dt.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return Dt.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const i=t.length,r=new Dt(n);for(let s=0;s<i;){const o=Go<i-s?Go:i-s,a=new Dt(new Uint32Array([Number.parseInt(t.slice(s,s+o),10),0])),l=new Dt(new Uint32Array([xy[o],0]));r.times(l),r.plus(a),s+=o}return r}static convertArray(t){const n=new Uint32Array(t.length*2);for(let i=-1,r=t.length;++i<r;)Dt.from(t[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(t,n){return new Dt(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new Dt(new Uint32Array(t.buffer)).plus(n)}}class je extends pk{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const n=this.buffer[1]<<0,i=t.buffer[1]<<0;return n<i||n===i&&this.buffer[0]<t.buffer[0]}static from(t,n=new Uint32Array(2)){return je.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return je.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const i=t.startsWith("-"),r=t.length,s=new je(n);for(let o=i?1:0;o<r;){const a=Go<r-o?Go:r-o,l=new je(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0])),c=new je(new Uint32Array([xy[a],0]));s.times(c),s.plus(l),o+=a}return i?s.negate():s}static convertArray(t){const n=new Uint32Array(t.length*2);for(let i=-1,r=t.length;++i<r;)je.from(t[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(t,n){return new je(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new je(new Uint32Array(t.buffer)).plus(n)}}class ri{constructor(t){this.buffer=t}high(){return new je(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new je(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const n=new Dt(new Uint32Array([this.buffer[3],0])),i=new Dt(new Uint32Array([this.buffer[2],0])),r=new Dt(new Uint32Array([this.buffer[1],0])),s=new Dt(new Uint32Array([this.buffer[0],0])),o=new Dt(new Uint32Array([t.buffer[3],0])),a=new Dt(new Uint32Array([t.buffer[2],0])),l=new Dt(new Uint32Array([t.buffer[1],0])),c=new Dt(new Uint32Array([t.buffer[0],0]));let u=Dt.multiply(s,c);this.buffer[0]=u.low();const d=new Dt(new Uint32Array([u.high(),0]));return u=Dt.multiply(r,c),d.plus(u),u=Dt.multiply(s,l),d.plus(u),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(u)?1:0,this.buffer[2]=d.high(),new Dt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Dt.multiply(i,c)).plus(Dt.multiply(r,l)).plus(Dt.multiply(s,a)),this.buffer[3]+=Dt.multiply(n,c).plus(Dt.multiply(i,l)).plus(Dt.multiply(r,a)).plus(Dt.multiply(s,o)).low(),this}plus(t){const n=new Uint32Array(4);return n[3]=this.buffer[3]+t.buffer[3]>>>0,n[2]=this.buffer[2]+t.buffer[2]>>>0,n[1]=this.buffer[1]+t.buffer[1]>>>0,n[0]=this.buffer[0]+t.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${go(this.buffer[3])} ${go(this.buffer[2])} ${go(this.buffer[1])} ${go(this.buffer[0])}`}static multiply(t,n){return new ri(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new ri(new Uint32Array(t.buffer)).plus(n)}static from(t,n=new Uint32Array(4)){return ri.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(4)){return ri.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(4)){const i=t.startsWith("-"),r=t.length,s=new ri(n);for(let o=i?1:0;o<r;){const a=Go<r-o?Go:r-o,l=new ri(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0,0,0])),c=new ri(new Uint32Array([xy[a],0,0,0]));s.times(c),s.plus(l),o+=a}return i?s.negate():s}static convertArray(t){const n=new Uint32Array(t.length*4);for(let i=-1,r=t.length;++i<r;)ri.from(t[i],new Uint32Array(n.buffer,n.byteOffset+4*4*i,4));return n}}class gk extends dt{constructor(t,n,i,r,s=ie.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=n,this.buffers=i,this.dictionaries=r,this.metadataVersion=s}visit(t){return super.visit(t instanceof Ht?t.type:t)}visitNull(t,{length:n}=this.nextFieldNode()){return ht({type:t,length:n})}visitBool(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeUtf8(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeBinary(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t,{length:n,nullCount:i}=this.nextFieldNode()){return this.metadataVersion<ie.V5&&this.readNullBitmap(t,i),t.mode===Ce.Sparse?this.visitSparseUnion(t,{length:n,nullCount:i}):this.visitDenseUnion(t,{length:n,nullCount:i})}visitDenseUnion(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDuration(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t,{length:n,nullCount:i}=this.nextFieldNode()){return ht({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,n,i=this.nextBufferRange()){return n>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,n){return this.readData(t,n)}readTypeIds(t,n){return this.readData(t,n)}readData(t,{length:n,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+n)}readDictionary(t){return this.dictionaries.get(t.id)}}class DU extends gk{constructor(t,n,i,r,s){super(new Uint8Array(0),n,i,r,s),this.sources=t}readNullBitmap(t,n,{offset:i}=this.nextBufferRange()){return n<=0?new Uint8Array(0):Fd(this.sources[i])}readOffsets(t,{offset:n}=this.nextBufferRange()){return Ot(Uint8Array,Ot(t.OffsetArrayType,this.sources[n]))}readTypeIds(t,{offset:n}=this.nextBufferRange()){return Ot(Uint8Array,Ot(t.ArrayType,this.sources[n]))}readData(t,{offset:n}=this.nextBufferRange()){const{sources:i}=this;return X.isTimestamp(t)||(X.isInt(t)||X.isTime(t))&&t.bitWidth===64||X.isDuration(t)||X.isDate(t)&&t.unit===Cn.MILLISECOND?Ot(Uint8Array,je.convertArray(i[n])):X.isDecimal(t)?Ot(Uint8Array,ri.convertArray(i[n])):X.isBinary(t)||X.isLargeBinary(t)||X.isFixedSizeBinary(t)?OU(i[n]):X.isBool(t)?Fd(i[n]):X.isUtf8(t)||X.isLargeUtf8(t)?uy(i[n].join("")):Ot(Uint8Array,Ot(t.ArrayType,i[n].map(r=>+r)))}}function OU(e){const t=e.join(""),n=new Uint8Array(t.length/2);for(let i=0;i<t.length;i+=2)n[i>>1]=Number.parseInt(t.slice(i,i+2),16);return n}class tt extends dt{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((i,r)=>this.compareFields(i,n[r]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Ve(e,t){return t instanceof e.constructor}function Ds(e,t){return e===t||Ve(e,t)}function qi(e,t){return e===t||Ve(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function Ff(e,t){return e===t||Ve(e,t)&&e.precision===t.precision}function CU(e,t){return e===t||Ve(e,t)&&e.byteWidth===t.byteWidth}function Ey(e,t){return e===t||Ve(e,t)&&e.unit===t.unit}function oc(e,t){return e===t||Ve(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function ac(e,t){return e===t||Ve(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function NU(e,t){return e===t||Ve(e,t)&&e.children.length===t.children.length&&Pr.compareManyFields(e.children,t.children)}function RU(e,t){return e===t||Ve(e,t)&&e.children.length===t.children.length&&Pr.compareManyFields(e.children,t.children)}function Iy(e,t){return e===t||Ve(e,t)&&e.mode===t.mode&&e.typeIds.every((n,i)=>n===t.typeIds[i])&&Pr.compareManyFields(e.children,t.children)}function PU(e,t){return e===t||Ve(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Pr.visit(e.indices,t.indices)&&Pr.visit(e.dictionary,t.dictionary)}function ky(e,t){return e===t||Ve(e,t)&&e.unit===t.unit}function lc(e,t){return e===t||Ve(e,t)&&e.unit===t.unit}function LU(e,t){return e===t||Ve(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Pr.compareManyFields(e.children,t.children)}function FU(e,t){return e===t||Ve(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Pr.compareManyFields(e.children,t.children)}tt.prototype.visitNull=Ds;tt.prototype.visitBool=Ds;tt.prototype.visitInt=qi;tt.prototype.visitInt8=qi;tt.prototype.visitInt16=qi;tt.prototype.visitInt32=qi;tt.prototype.visitInt64=qi;tt.prototype.visitUint8=qi;tt.prototype.visitUint16=qi;tt.prototype.visitUint32=qi;tt.prototype.visitUint64=qi;tt.prototype.visitFloat=Ff;tt.prototype.visitFloat16=Ff;tt.prototype.visitFloat32=Ff;tt.prototype.visitFloat64=Ff;tt.prototype.visitUtf8=Ds;tt.prototype.visitLargeUtf8=Ds;tt.prototype.visitBinary=Ds;tt.prototype.visitLargeBinary=Ds;tt.prototype.visitFixedSizeBinary=CU;tt.prototype.visitDate=Ey;tt.prototype.visitDateDay=Ey;tt.prototype.visitDateMillisecond=Ey;tt.prototype.visitTimestamp=oc;tt.prototype.visitTimestampSecond=oc;tt.prototype.visitTimestampMillisecond=oc;tt.prototype.visitTimestampMicrosecond=oc;tt.prototype.visitTimestampNanosecond=oc;tt.prototype.visitTime=ac;tt.prototype.visitTimeSecond=ac;tt.prototype.visitTimeMillisecond=ac;tt.prototype.visitTimeMicrosecond=ac;tt.prototype.visitTimeNanosecond=ac;tt.prototype.visitDecimal=Ds;tt.prototype.visitList=NU;tt.prototype.visitStruct=RU;tt.prototype.visitUnion=Iy;tt.prototype.visitDenseUnion=Iy;tt.prototype.visitSparseUnion=Iy;tt.prototype.visitDictionary=PU;tt.prototype.visitInterval=ky;tt.prototype.visitIntervalDayTime=ky;tt.prototype.visitIntervalYearMonth=ky;tt.prototype.visitDuration=lc;tt.prototype.visitDurationSecond=lc;tt.prototype.visitDurationMillisecond=lc;tt.prototype.visitDurationMicrosecond=lc;tt.prototype.visitDurationNanosecond=lc;tt.prototype.visitFixedSizeList=LU;tt.prototype.visitMap=FU;const Pr=new tt;function Dg(e,t){return Pr.compareSchemas(e,t)}function Yh(e,t){return BU(e,t.map(n=>n.data.concat()))}function BU(e,t){const n=[...e.fields],i=[],r={numBatches:t.reduce((d,f)=>Math.max(d,f.length),0)};let s=0,o=0,a=-1;const l=t.length;let c,u=[];for(;r.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)u[a]=c=t[a].shift(),o=Math.min(o,c?c.length:o);Number.isFinite(o)&&(u=zU(n,o,u,t,r),o>0&&(i[s++]=ht({type:new Fe(n),length:o,nullCount:0,children:u.slice()})))}return[e=e.assign(n),i.map(d=>new Ye(e,d))]}function zU(e,t,n,i,r){var s;const o=(t+63&-64)>>3;for(let a=-1,l=i.length;++a<l;){const c=n[a],u=c==null?void 0:c.length;if(u>=t)u===t?n[a]=c:(n[a]=c.slice(0,t),r.numBatches=Math.max(r.numBatches,i[a].unshift(c.slice(t,u-t))));else{const d=e[a];e[a]=d.clone({nullable:!0}),n[a]=(s=c==null?void 0:c._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:ht({type:d.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var mk;class Le{constructor(...t){var n,i;if(t.length===0)return this.batches=[],this.schema=new kt([]),this._offsets=[0],this;let r,s;t[0]instanceof kt&&(r=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=l=>{if(l){if(l instanceof Ye)return[l];if(l instanceof Le)return l.batches;if(l instanceof At){if(l.type instanceof Fe)return[new Ye(new kt(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(c=>o(c));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(c=>o(c));if(typeof l=="object"){const c=Object.keys(l),u=c.map(h=>new It([l[h]])),d=r??new kt(c.map((h,p)=>new Ht(String(h),u[p].type,u[p].nullable))),[,f]=Yh(d,u);return f.length===0?[new Ye(l)]:f}}}return[]},a=t.flatMap(l=>o(l));if(r=(i=r??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&i!==void 0?i:new kt([]),!(r instanceof kt))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof Ye))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Dg(r,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=r,this.batches=a,this._offsets=s??ok(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=sk(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}at(t){return this.get(yy(t,this.numRows))}set(t,n){}indexOf(t,n){return-1}[Symbol.iterator](){return this.batches.length>0?wy.visit(new It(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,i=this.data.concat(t.flatMap(({data:r})=>r));return new Le(n,i.map(r=>new Ye(n,r)))}slice(t,n){const i=this.schema;[t,n]=ik({length:this.numRows},t,n);const r=ak(this.data,this._offsets,t,n);return new Le(i,r.map(s=>new Ye(i,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(i=>i.children[t]);if(n.length===0){const{type:i}=this.schema.fields[t],r=ht({type:i,length:0,nullCount:0});n.push(r._changeLengthAndBackfillNullBitmap(this.numRows))}return new It(n)}return null}setChild(t,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(r=>r.name===t),n)}setChildAt(t,n){let i=this.schema,r=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new It([ht({type:new Nr,length:this.numRows})]));const s=i.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((l,c)=>this.getChildAt(c));[s[t],a[t]]=[o,n],[i,r]=Yh(i,a)}return new Le(i,r)}select(t){const n=this.schema.fields.reduce((i,r,s)=>i.set(r.name,s),new Map);return this.selectAt(t.map(i=>n.get(i)).filter(i=>i>-1))}selectAt(t){const n=this.schema.selectAt(t),i=this.batches.map(r=>r.selectAt(t));return new Le(n,i)}assign(t){const n=this.schema.fields,[i,r]=t.schema.fields.reduce((a,l,c)=>{const[u,d]=a,f=n.findIndex(h=>h.name===l.name);return~f?d[f]=c:u.push(c),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,l)=>[l,r[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):t.getChildAt(l)),...i.map(a=>t.getChildAt(a))].filter(Boolean);return new Le(...Yh(s,o))}}mk=Symbol.toStringTag;Le[mk]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Bd(by),e.get=Bd(tn.getVisitFn(I.Struct)),e.set=lk(Nn.getVisitFn(I.Struct)),e.indexOf=ck(zd.getVisitFn(I.Struct)),"Table"))(Le.prototype);var yk;let Ye=class Ha{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof kt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=ht({nullCount:0,type:new Fe(this.schema.fields),children:this.schema.fields.map(n=>ht({type:n.type,nullCount:0}))})]=t,!(this.data instanceof At))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Eb(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:i,children:r,length:s}=Object.keys(n).reduce((l,c,u)=>(l.children[u]=n[c],l.length=Math.max(l.length,n[c].length),l.fields[u]=Ht.new({name:c,type:n[c].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new kt(i),a=ht({type:new Fe(i),length:s,children:r,nullCount:0});[this.schema,this.data]=Eb(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=_k(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return tn.visit(this.data,t)}at(t){return this.get(yy(t,this.numRows))}set(t,n){return Nn.visit(this.data,t,n)}indexOf(t,n){return zd.visit(this.data,t,n)}[Symbol.iterator](){return wy.visit(new It([this.data]))}toArray(){return[...this]}concat(...t){return new Le(this.schema,[this,...t])}slice(t,n){const[i]=new It([this.data]).slice(t,n).data;return new Ha(this.schema,i)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new It([this.data.children[t]]):null}setChild(t,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(r=>r.name===t),n)}setChildAt(t,n){let i=this.schema,r=this.data;if(t>-1&&t<this.numCols){n||(n=new It([ht({type:new Nr,length:this.numRows})]));const s=i.fields.slice(),o=r.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],i=new kt(s,new Map(this.schema.metadata)),r=ht({type:new Fe(s),children:o})}return new Ha(i,r)}select(t){const n=this.schema.select(t),i=new Fe(n.fields),r=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(r[o]=this.data.children[o])}return new Ha(n,ht({type:i,length:this.numRows,children:r}))}selectAt(t){const n=this.schema.selectAt(t),i=t.map(s=>this.data.children[s]).filter(Boolean),r=ht({type:new Fe(n.fields),length:this.numRows,children:i});return new Ha(n,r)}};yk=Symbol.toStringTag;Ye[yk]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Ye.prototype);function Eb(e,t,n=t.reduce((i,r)=>Math.max(i,r.length),0)){var i;const r=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,l]of e.fields.entries()){const c=t[a];(!c||c.length!==n)&&(r[a]=l.clone({nullable:!0}),s[a]=(i=c==null?void 0:c._changeLengthAndBackfillNullBitmap(n))!==null&&i!==void 0?i:ht({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(r),ht({type:new Fe(r),length:n,children:s})]}function _k(e,t,n=new Map){var i,r;if(((i=e==null?void 0:e.length)!==null&&i!==void 0?i:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],l=t[s];for(const c of[l,...((r=l==null?void 0:l.dictionary)===null||r===void 0?void 0:r.data)||[]])_k(a.children,c==null?void 0:c.children,n);if(X.isDictionary(a)){const{id:c}=a;if(!n.has(c))l!=null&&l.dictionary&&n.set(c,l.dictionary);else if(n.get(c)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class My extends Ye{constructor(t){const n=t.fields.map(r=>ht({type:r.type})),i=ht({type:new Fe(t.fields),nullCount:0,children:n});super(t,i)}}let nr=class ei{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new ei).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Mt),(n||new ei).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ie.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):xt.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,ie.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,xt.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,i,r,s,o){return ei.startMessage(t),ei.addVersion(t,n),ei.addHeaderType(t,i),ei.addHeader(t,r),ei.addBodyLength(t,s),ei.addCustomMetadata(t,o),ei.endMessage(t)}};class UU extends dt{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return gb.startNull(n),gb.endNull(n)}visitInt(t,n){return an.startInt(n),an.addBitWidth(n,t.bitWidth),an.addIsSigned(n,t.isSigned),an.endInt(n)}visitFloat(t,n){return ai.startFloatingPoint(n),ai.addPrecision(n,t.precision),ai.endFloatingPoint(n)}visitBinary(t,n){return ub.startBinary(n),ub.endBinary(n)}visitLargeBinary(t,n){return fb.startLargeBinary(n),fb.endLargeBinary(n)}visitBool(t,n){return db.startBool(n),db.endBool(n)}visitUtf8(t,n){return mb.startUtf8(n),mb.endUtf8(n)}visitLargeUtf8(t,n){return hb.startLargeUtf8(n),hb.endLargeUtf8(n)}visitDecimal(t,n){return Ys.startDecimal(n),Ys.addScale(n,t.scale),Ys.addPrecision(n,t.precision),Ys.addBitWidth(n,t.bitWidth),Ys.endDecimal(n)}visitDate(t,n){return yu.startDate(n),yu.addUnit(n,t.unit),yu.endDate(n)}visitTime(t,n){return wn.startTime(n),wn.addUnit(n,t.unit),wn.addBitWidth(n,t.bitWidth),wn.endTime(n)}visitTimestamp(t,n){const i=t.timezone&&n.createString(t.timezone)||void 0;return Sn.startTimestamp(n),Sn.addUnit(n,t.unit),i!==void 0&&Sn.addTimezone(n,i),Sn.endTimestamp(n)}visitInterval(t,n){return li.startInterval(n),li.addUnit(n,t.unit),li.endInterval(n)}visitDuration(t,n){return _u.startDuration(n),_u.addUnit(n,t.unit),_u.endDuration(n)}visitList(t,n){return pb.startList(n),pb.endList(n)}visitStruct(t,n){return ls.startStruct_(n),ls.endStruct_(n)}visitUnion(t,n){We.startTypeIdsVector(n,t.typeIds.length);const i=We.createTypeIdsVector(n,t.typeIds);return We.startUnion(n),We.addMode(n,t.mode),We.addTypeIds(n,i),We.endUnion(n)}visitDictionary(t,n){const i=this.visit(t.indices,n);return Pi.startDictionaryEncoding(n),Pi.addId(n,BigInt(t.id)),Pi.addIsOrdered(n,t.isOrdered),i!==void 0&&Pi.addIndexType(n,i),Pi.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return vu.startFixedSizeBinary(n),vu.addByteWidth(n,t.byteWidth),vu.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return bu.startFixedSizeList(n),bu.addListSize(n,t.listSize),bu.endFixedSizeList(n)}visitMap(t,n){return wu.startMap(n),wu.addKeysSorted(n,t.keysSorted),wu.endMap(n)}}const Xh=new UU;function $U(e,t=new Map){return new kt(jU(e,t),Eu(e.metadata),t)}function vk(e){return new fn(e.count,bk(e.columns),wk(e.columns))}function VU(e){return new _i(vk(e.data),e.id,e.isDelta)}function jU(e,t){return(e.fields||[]).filter(Boolean).map(n=>Ht.fromJSON(n,t))}function Ib(e,t){return(e.children||[]).filter(Boolean).map(n=>Ht.fromJSON(n,t))}function bk(e){return(e||[]).reduce((t,n)=>[...t,new Lr(n.count,HU(n.VALIDITY)),...bk(n.children)],[])}function wk(e,t=[]){for(let n=-1,i=(e||[]).length;++n<i;){const r=e[n];r.VALIDITY&&t.push(new di(t.length,r.VALIDITY.length)),r.TYPE_ID&&t.push(new di(t.length,r.TYPE_ID.length)),r.OFFSET&&t.push(new di(t.length,r.OFFSET.length)),r.DATA&&t.push(new di(t.length,r.DATA.length)),t=wk(r.children,t)}return t}function HU(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function WU(e,t){let n,i,r,s,o,a;return!t||!(s=e.dictionary)?(o=Mb(e,Ib(e,t)),r=new Ht(e.name,o,e.nullable,Eu(e.metadata))):t.has(n=s.id)?(i=(i=s.indexType)?kb(i):new Vl,a=new Xo(t.get(n),i,n,s.isOrdered),r=new Ht(e.name,a,e.nullable,Eu(e.metadata))):(i=(i=s.indexType)?kb(i):new Vl,t.set(n,o=Mb(e,Ib(e,t))),a=new Xo(o,i,n,s.isOrdered),r=new Ht(e.name,a,e.nullable,Eu(e.metadata))),r||null}function Eu(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function kb(e){return new ks(e.isSigned,e.bitWidth)}function Mb(e,t){const n=e.type.name;switch(n){case"NONE":return new Nr;case"null":return new Nr;case"binary":return new bd;case"largebinary":return new wd;case"utf8":return new Sd;case"largeutf8":return new xd;case"bool":return new Ed;case"list":return new Od((t||[])[0]);case"struct":return new Fe(t||[]);case"struct_":return new Fe(t||[])}switch(n){case"int":{const i=e.type;return new ks(i.isSigned,i.bitWidth)}case"floatingpoint":{const i=e.type;return new vd(Ae[i.precision])}case"decimal":{const i=e.type;return new Id(i.scale,i.precision,i.bitWidth)}case"date":{const i=e.type;return new kd(Cn[i.unit])}case"time":{const i=e.type;return new Md(et[i.unit],i.bitWidth)}case"timestamp":{const i=e.type;return new Td(et[i.unit],i.timezone)}case"interval":{const i=e.type;return new Ad(yi[i.unit])}case"duration":{const i=e.type;return new Dd(et[i.unit])}case"union":{const i=e.type,[r,...s]=(i.mode+"").toLowerCase(),o=r.toUpperCase()+s.join("");return new Cd(Ce[o],i.typeIds||[],t||[])}case"fixedsizebinary":{const i=e.type;return new Nd(i.byteWidth)}case"fixedsizelist":{const i=e.type;return new Rd(i.listSize,(t||[])[0])}case"map":{const i=e.type;return new Pd((t||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var YU=FE,XU=Wo;class Be{static fromJSON(t,n){const i=new Be(0,ie.V5,n);return i._createHeader=KU(t,n),i}static decode(t){t=new XU(mt(t));const n=nr.getRootAsMessage(t),i=n.bodyLength(),r=n.version(),s=n.headerType(),o=new Be(i,r,s);return o._createHeader=GU(n,s),o}static encode(t){const n=new YU;let i=-1;return t.isSchema()?i=kt.encode(n,t.header()):t.isRecordBatch()?i=fn.encode(n,t.header()):t.isDictionaryBatch()&&(i=_i.encode(n,t.header())),nr.startMessage(n),nr.addVersion(n,ie.V5),nr.addHeader(n,i),nr.addHeaderType(n,t.headerType),nr.addBodyLength(n,BigInt(t.bodyLength)),nr.finishMessageBuffer(n,nr.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof kt)return new Be(0,ie.V5,xt.Schema,t);if(t instanceof fn)return new Be(n,ie.V5,xt.RecordBatch,t);if(t instanceof _i)return new Be(n,ie.V5,xt.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===xt.Schema}isRecordBatch(){return this.headerType===xt.RecordBatch}isDictionaryBatch(){return this.headerType===xt.DictionaryBatch}constructor(t,n,i,r){this._version=n,this._headerType=i,this.body=new Uint8Array(0),r&&(this._createHeader=()=>r),this._bodyLength=Lt(t)}}class fn{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,i){this._nodes=n,this._buffers=i,this._length=Lt(t)}}class _i{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,i=!1){this._data=t,this._isDelta=i,this._id=Lt(n)}}class di{constructor(t,n){this.offset=Lt(t),this.length=Lt(n)}}class Lr{constructor(t,n){this.length=Lt(t),this.nullCount=Lt(n)}}function KU(e,t){return()=>{switch(t){case xt.Schema:return kt.fromJSON(e);case xt.RecordBatch:return fn.fromJSON(e);case xt.DictionaryBatch:return _i.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${xt[t]}, type: ${t} }`)}}function GU(e,t){return()=>{switch(t){case xt.Schema:return kt.decode(e.header(new ii),new Map,e.version());case xt.RecordBatch:return fn.decode(e.header(new Ai),e.version());case xt.DictionaryBatch:return _i.decode(e.header(new Hs),e.version())}throw new Error(`Unrecognized Message type: { name: ${xt[t]}, type: ${t} }`)}}Ht.encode=o8;Ht.decode=r8;Ht.fromJSON=WU;kt.encode=s8;kt.decode=QU;kt.fromJSON=$U;fn.encode=a8;fn.decode=qU;fn.fromJSON=vk;_i.encode=l8;_i.decode=ZU;_i.fromJSON=VU;Lr.encode=c8;Lr.decode=t8;di.encode=u8;di.decode=JU;function QU(e,t=new Map,n=ie.V5){const i=i8(e,t);return new kt(i,Iu(e),t,n)}function qU(e,t=ie.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new fn(e.length(),e8(e),n8(e,t))}function ZU(e,t=ie.V5){return new _i(fn.decode(e.data(),t),e.id(),e.isDelta())}function JU(e){return new di(e.offset(),e.length())}function t8(e){return new Lr(e.length(),e.nullCount())}function e8(e){const t=[];for(let n,i=-1,r=-1,s=e.nodesLength();++i<s;)(n=e.nodes(i))&&(t[++r]=Lr.decode(n));return t}function n8(e,t){const n=[];for(let i,r=-1,s=-1,o=e.buffersLength();++r<o;)(i=e.buffers(r))&&(t<ie.V4&&(i.bb_pos+=8*(r+1)),n[++s]=di.decode(i));return n}function i8(e,t){const n=[];for(let i,r=-1,s=-1,o=e.fieldsLength();++r<o;)(i=e.fields(r))&&(n[++s]=Ht.decode(i,t));return n}function Tb(e,t){const n=[];for(let i,r=-1,s=-1,o=e.childrenLength();++r<o;)(i=e.children(r))&&(n[++s]=Ht.decode(i,t));return n}function r8(e,t){let n,i,r,s,o,a;return!t||!(a=e.dictionary())?(r=Db(e,Tb(e,t)),i=new Ht(e.name(),r,e.nullable(),Iu(e))):t.has(n=Lt(a.id()))?(s=(s=a.indexType())?Ab(s):new Vl,o=new Xo(t.get(n),s,n,a.isOrdered()),i=new Ht(e.name(),o,e.nullable(),Iu(e))):(s=(s=a.indexType())?Ab(s):new Vl,t.set(n,r=Db(e,Tb(e,t))),o=new Xo(r,s,n,a.isOrdered()),i=new Ht(e.name(),o,e.nullable(),Iu(e))),i||null}function Iu(e){const t=new Map;if(e)for(let n,i,r=-1,s=Math.trunc(e.customMetadataLength());++r<s;)(n=e.customMetadata(r))&&(i=n.key())!=null&&t.set(i,n.value());return t}function Ab(e){return new ks(e.isSigned(),e.bitWidth())}function Db(e,t){const n=e.typeType();switch(n){case Ft.NONE:return new Nr;case Ft.Null:return new Nr;case Ft.Binary:return new bd;case Ft.LargeBinary:return new wd;case Ft.Utf8:return new Sd;case Ft.LargeUtf8:return new xd;case Ft.Bool:return new Ed;case Ft.List:return new Od((t||[])[0]);case Ft.Struct_:return new Fe(t||[])}switch(n){case Ft.Int:{const i=e.type(new an);return new ks(i.isSigned(),i.bitWidth())}case Ft.FloatingPoint:{const i=e.type(new ai);return new vd(i.precision())}case Ft.Decimal:{const i=e.type(new Ys);return new Id(i.scale(),i.precision(),i.bitWidth())}case Ft.Date:{const i=e.type(new yu);return new kd(i.unit())}case Ft.Time:{const i=e.type(new wn);return new Md(i.unit(),i.bitWidth())}case Ft.Timestamp:{const i=e.type(new Sn);return new Td(i.unit(),i.timezone())}case Ft.Interval:{const i=e.type(new li);return new Ad(i.unit())}case Ft.Duration:{const i=e.type(new _u);return new Dd(i.unit())}case Ft.Union:{const i=e.type(new We);return new Cd(i.mode(),i.typeIdsArray()||[],t||[])}case Ft.FixedSizeBinary:{const i=e.type(new vu);return new Nd(i.byteWidth())}case Ft.FixedSizeList:{const i=e.type(new bu);return new Rd(i.listSize(),(t||[])[0])}case Ft.Map:{const i=e.type(new wu);return new Pd((t||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${Ft[n]}" (${n})`)}function s8(e,t){const n=t.fields.map(s=>Ht.encode(e,s));ii.startFieldsVector(e,n.length);const i=ii.createFieldsVector(e,n),r=t.metadata&&t.metadata.size>0?ii.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),l=e.createString(`${o}`);return ce.startKeyValue(e),ce.addKey(e,a),ce.addValue(e,l),ce.endKeyValue(e)})):-1;return ii.startSchema(e),ii.addFields(e,i),ii.addEndianness(e,d8?Yo.Little:Yo.Big),r!==-1&&ii.addCustomMetadata(e,r),ii.endSchema(e)}function o8(e,t){let n=-1,i=-1,r=-1;const s=t.type;let o=t.typeId;X.isDictionary(s)?(o=s.dictionary.typeId,r=Xh.visit(s,e),i=Xh.visit(s.dictionary,e)):i=Xh.visit(s,e);const a=(s.children||[]).map(u=>Ht.encode(e,u)),l=mn.createChildrenVector(e,a),c=t.metadata&&t.metadata.size>0?mn.createCustomMetadataVector(e,[...t.metadata].map(([u,d])=>{const f=e.createString(`${u}`),h=e.createString(`${d}`);return ce.startKeyValue(e),ce.addKey(e,f),ce.addValue(e,h),ce.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),mn.startField(e),mn.addType(e,i),mn.addTypeType(e,o),mn.addChildren(e,l),mn.addNullable(e,!!t.nullable),n!==-1&&mn.addName(e,n),r!==-1&&mn.addDictionary(e,r),c!==-1&&mn.addCustomMetadata(e,c),mn.endField(e)}function a8(e,t){const n=t.nodes||[],i=t.buffers||[];Ai.startNodesVector(e,n.length);for(const o of n.slice().reverse())Lr.encode(e,o);const r=e.endVector();Ai.startBuffersVector(e,i.length);for(const o of i.slice().reverse())di.encode(e,o);const s=e.endVector();return Ai.startRecordBatch(e),Ai.addLength(e,BigInt(t.length)),Ai.addNodes(e,r),Ai.addBuffers(e,s),Ai.endRecordBatch(e)}function l8(e,t){const n=fn.encode(e,t.data);return Hs.startDictionaryBatch(e),Hs.addId(e,BigInt(t.id)),Hs.addIsDelta(e,t.isDelta),Hs.addData(e,n),Hs.endDictionaryBatch(e)}function c8(e,t){return UE.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function u8(e,t){return zE.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const d8=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),Ty=e=>`Expected ${xt[e]} Message in stream, but was null or length 0.`,Ay=e=>`Header pointer of flatbuffer-encoded ${xt[e]} Message is null or length 0.`,Sk=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,xk=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`;class Ek{constructor(t){this.source=t instanceof $d?t:new $d(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Kt:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(Ty(t));return n.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const n=mt(this.source.read(t));if(n.byteLength<t)throw new Error(xk(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(t=!1){const n=xt.Schema,i=this.readMessage(n),r=i==null?void 0:i.header();if(t&&!r)throw new Error(Ay(n));return r}readMetadataLength(){const t=this.source.read(Bf),n=t&&new Wo(t),i=(n==null?void 0:n.readInt32(0))||0;return{done:i===0,value:i}}readMetadata(t){const n=this.source.read(t);if(!n)return Kt;if(n.byteLength<t)throw new Error(Sk(t,n.byteLength));return{done:!1,value:Be.decode(n)}}}class f8{constructor(t,n){this.source=t instanceof Ko?t:OE(t)?new Vd(t,n):new Ko(t)}[Symbol.asyncIterator](){return this}next(){return at(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Kt:t})}throw(t){return at(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return at(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return at(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(Ty(t));return n.value})}readMessageBody(t){return at(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const n=mt(yield this.source.read(t));if(n.byteLength<t)throw new Error(xk(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return at(this,arguments,void 0,function*(t=!1){const n=xt.Schema,i=yield this.readMessage(n),r=i==null?void 0:i.header();if(t&&!r)throw new Error(Ay(n));return r})}readMetadataLength(){return at(this,void 0,void 0,function*(){const t=yield this.source.read(Bf),n=t&&new Wo(t),i=(n==null?void 0:n.readInt32(0))||0;return{done:i===0,value:i}})}readMetadata(t){return at(this,void 0,void 0,function*(){const n=yield this.source.read(t);if(!n)return Kt;if(n.byteLength<t)throw new Error(Sk(t,n.byteLength));return{done:!1,value:Be.decode(n)}})}}class h8 extends Ek{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Sb?t:new Sb(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Be.fromJSON(t.schema,xt.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const n=t.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:Be.fromJSON(n,xt.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const n=t.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:Be.fromJSON(n,xt.RecordBatch)}}return this._body=[],Kt}readMessageBody(t){return n(this._body);function n(i){return(i||[]).reduce((r,s)=>[...r,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE_ID&&[s.TYPE_ID]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...n(s.children)],[])}}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(Ty(t));return n.value}readSchema(){const t=xt.Schema,n=this.readMessage(t),i=n==null?void 0:n.header();if(!n||!i)throw new Error(Ay(t));return i}}const Bf=4,Og="ARROW1",Hl=new Uint8Array(Og.length);for(let e=0;e<Og.length;e+=1)Hl[e]=Og.codePointAt(e);function Dy(e,t=0){for(let n=-1,i=Hl.length;++n<i;)if(Hl[n]!==e[t+n])return!1;return!0}const cc=Hl.length,Ik=cc+Bf,p8=cc*2+Bf;class Tn extends Sy{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const n=this._impl.open(t);return Is(n)?n.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return _n.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return _n.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Tn?t:wg(t)?_8(t):OE(t)?w8(t):Is(t)?(()=>at(this,void 0,void 0,function*(){return yield Tn.from(yield t)}))():CE(t)||dy(t)||NE(t)||ta(t)?b8(new Ko(t)):v8(new $d(t))}static readAll(t){return t instanceof Tn?t.isSync()?Ob(t):Cb(t):wg(t)||ArrayBuffer.isView(t)||sc(t)||DE(t)?Ob(t):Cb(t)}}class jd extends Tn{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return ui(this,arguments,function*(){yield lt(yield*mu(gs(this[Symbol.iterator]())))})}}class Hd extends Tn{constructor(t){super(t),this._impl=t}readAll(){return at(this,void 0,void 0,function*(){var t,n,i,r;const s=new Array;try{for(var o=!0,a=gs(this),l;l=yield a.next(),t=l.done,!t;o=!0){r=l.value,o=!1;const c=r;s.push(c)}}catch(c){n={error:c}}finally{try{!o&&!t&&(i=a.return)&&(yield i.call(a))}finally{if(n)throw n.error}}return s})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class kk extends jd{constructor(t){super(t),this._impl=t}}class g8 extends Hd{constructor(t){super(t),this._impl=t}}class Mk{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,n){const i=this._loadVectors(t,n,this.schema.fields),r=ht({type:new Fe(this.schema.fields),length:t.length,children:i});return new Ye(this.schema,r)}_loadDictionaryBatch(t,n){const{id:i,isDelta:r}=t,{dictionaries:s,schema:o}=this,a=s.get(i),l=o.dictionaries.get(i),c=this._loadVectors(t.data,n,[l]);return(a&&r?a.concat(new It(c)):new It(c)).memoize()}_loadVectors(t,n,i){return new gk(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(i)}}class Wd extends Mk{constructor(t,n){super(n),this._reader=wg(t)?new h8(this._handle=t):new Ek(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Ak(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Kt}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Kt}next(){if(this.closed)return Kt;let t;const{_reader:n}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),r=n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,r)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),r=n.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(i,r);this.dictionaries.set(i.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new My(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Yd extends Mk{constructor(t,n){super(n),this._reader=new f8(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return at(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return at(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Ak(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return at(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Kt})}return(t){return at(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Kt})}next(){return at(this,void 0,void 0,function*(){if(this.closed)return Kt;let t;const{_reader:n}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),r=yield n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,r)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),r=yield n.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(i,r);this.dictionaries.set(i.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new My(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return at(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class Tk extends Wd{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,n){super(t instanceof xb?t:new xb(t),n)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var n;if(this.closed)return null;this._footer||this.open();const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const r=this._reader.readMessage(xt.RecordBatch);if(r!=null&&r.isRecordBatch()){const s=r.header(),o=this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(t){var n;const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const r=this._reader.readMessage(xt.DictionaryBatch);if(r!=null&&r.isDictionaryBatch()){const s=r.header(),o=this._reader.readMessageBody(r.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){const{_handle:t}=this,n=t.size-Ik,i=t.readInt32(n),r=t.readAt(n-i,i);return jl.decode(r)}_readNextMessageAndValidate(t){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class m8 extends Yd{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...n){const i=typeof n[0]!="number"?n.shift():void 0,r=n[0]instanceof Map?n.shift():void 0;super(t instanceof Vd?t:new Vd(t,i),r)}isFile(){return!0}isAsync(){return!0}open(t){const n=Object.create(null,{open:{get:()=>super.open}});return at(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const i of this._footer.dictionaryBatches())i&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,t)})}readRecordBatch(t){return at(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const r=yield this._reader.readMessage(xt.RecordBatch);if(r!=null&&r.isRecordBatch()){const s=r.header(),o=yield this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(t){return at(this,void 0,void 0,function*(){var n;const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const r=yield this._reader.readMessage(xt.DictionaryBatch);if(r!=null&&r.isDictionaryBatch()){const s=r.header(),o=yield this._reader.readMessageBody(r.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return at(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const n=t.size-Ik,i=yield t.readInt32(n),r=yield t.readAt(n-i,i);return jl.decode(r)})}_readNextMessageAndValidate(t){return at(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(t)}return null})}}class y8 extends Wd{constructor(t,n){super(t,n)}_loadVectors(t,n,i){return new DU(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(i)}}function Ak(e,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:e.autoDestroy}function*Ob(e){const t=Tn.from(e);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function Cb(e){return ui(this,arguments,function*(){const n=yield lt(Tn.from(e));try{if(!(yield lt(n.open({autoDestroy:!1}))).closed)do yield yield lt(n);while(!(yield lt(n.reset().open())).closed)}finally{yield lt(n.cancel())}})}function _8(e){return new jd(new y8(e))}function v8(e){const t=e.peek(cc+7&-8);return t&&t.byteLength>=4?Dy(t)?new kk(new Tk(e.read())):new jd(new Wd(e)):new jd(new Wd(function*(){}()))}function b8(e){return at(this,void 0,void 0,function*(){const t=yield e.peek(cc+7&-8);return t&&t.byteLength>=4?Dy(t)?new kk(new Tk(yield e.read())):new Hd(new Yd(e)):new Hd(new Yd(function(){return ui(this,arguments,function*(){})}()))})}function w8(e){return at(this,void 0,void 0,function*(){const{size:t}=yield e.stat(),n=new Vd(e,t);return t>=p8&&Dy(yield n.readAt(0,cc+7&-8))?new g8(new m8(n)):new Hd(new Yd(n))})}class qt extends dt{static assemble(...t){const n=r=>r.flatMap(s=>Array.isArray(s)?n(s):s instanceof Ye?s.data.children:s.data),i=new qt;return i.visitMany(n(t)),i}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof It)return this.visitMany(t.data),this;const{type:n}=t;if(!X.isDictionary(n)){const{length:i}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(X.isUnion(n))this.nodes.push(new Lr(i,0));else{const{nullCount:r}=t;X.isNull(n)||Yn.call(this,r<=0?new Uint8Array(0):Ld(t.offset,i,t.nullBitmap)),this.nodes.push(new Lr(i,r))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Yn(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new di(this._byteLength,t)),this._byteLength+=t,this}function S8(e){var t;const{type:n,length:i,typeIds:r,valueOffsets:s}=e;if(Yn.call(this,r),n.mode===Ce.Sparse)return Cg.call(this,e);if(n.mode===Ce.Dense){if(e.offset<=0)return Yn.call(this,s),Cg.call(this,e);{const o=new Int32Array(i),a=Object.create(null),l=Object.create(null);for(let c,u,d=-1;++d<i;)(c=r[d])!==void 0&&((u=a[c])===void 0&&(u=a[c]=s[d]),o[d]=s[d]-u,l[c]=((t=l[c])!==null&&t!==void 0?t:0)+1);Yn.call(this,o),this.visitMany(e.children.map((c,u)=>{const d=n.typeIds[u],f=a[d],h=l[d];return c.slice(f,Math.min(i,h))}))}}return this}function x8(e){let t;return e.nullCount>=e.length?Yn.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Yn.call(this,Ld(e.offset,e.length,t)):Yn.call(this,Fd(e.values))}function Zi(e){return Yn.call(this,e.values.subarray(0,e.length*e.stride))}function zf(e){const{length:t,values:n,valueOffsets:i}=e,r=Lt(i[0]),s=Lt(i[t]),o=Math.min(s-r,n.byteLength-r);return Yn.call(this,PE(-r,t+1,i)),Yn.call(this,n.subarray(r,r+o)),this}function Oy(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:i,[t]:r}=n;return Yn.call(this,PE(-i,t+1,n)),this.visit(e.children[0].slice(i,r-i))}return this.visit(e.children[0])}function Cg(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}qt.prototype.visitBool=x8;qt.prototype.visitInt=Zi;qt.prototype.visitFloat=Zi;qt.prototype.visitUtf8=zf;qt.prototype.visitLargeUtf8=zf;qt.prototype.visitBinary=zf;qt.prototype.visitLargeBinary=zf;qt.prototype.visitFixedSizeBinary=Zi;qt.prototype.visitDate=Zi;qt.prototype.visitTimestamp=Zi;qt.prototype.visitTime=Zi;qt.prototype.visitDecimal=Zi;qt.prototype.visitList=Oy;qt.prototype.visitStruct=Cg;qt.prototype.visitUnion=S8;qt.prototype.visitInterval=Zi;qt.prototype.visitDuration=Zi;qt.prototype.visitFixedSizeList=Oy;qt.prototype.visitMap=Oy;class Dk extends Sy{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new xu,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,Je(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return Is(t)?t.then(n=>this.writeAll(n)):ta(t)?Py(this,t):Ry(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof xu?this._sink=t:(this._sink=new xu,t&&t4(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&e4(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!Dg(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Le&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof Ye&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!Dg(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof Ye?t instanceof My||this._writeRecordBatch(t):t instanceof Le?this.writeAll(t.batches):sc(t)&&this.writeAll(t)}_writeMessage(t,n=8){const i=n-1,r=Be.encode(t),s=r.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+i&~i,l=a-s-o;return t.headerType===xt.RecordBatch?this._recordBatchBlocks.push(new Rr(a,t.bodyLength,this._position)):t.headerType===xt.DictionaryBatch&&this._dictionaryBlocks.push(new Rr(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(r),this._writePadding(l)}_write(t){if(this._started){const n=mt(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Be.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Hl)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:i,bufferRegions:r,buffers:s}=qt.assemble(t),o=new fn(t.numRows,i,r),a=Be.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,i=!1){const{byteLength:r,nodes:s,bufferRegions:o,buffers:a}=qt.assemble(new It([t])),l=new fn(t.length,s,o),c=new _i(l,n,i),u=Be.from(c,r);return this._writeMessage(u)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,i,r;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(i=n.byteLength)>0&&(this._write(n),(r=(i+7&-8)-i)>0&&this._writePadding(r));return this}_writeDictionaries(t){var n,i;for(const[r,s]of t.dictionaries){const o=(n=s==null?void 0:s.data)!==null&&n!==void 0?n:[],a=this._seenDictionaries.get(r),l=(i=this._dictionaryDeltaOffsets.get(r))!==null&&i!==void 0?i:0;if(!a||a.data[0]!==o[0])for(const[c,u]of o.entries())this._writeDictionaryBatch(u,r,c>0);else if(l<o.length)for(const c of o.slice(l))this._writeDictionaryBatch(c,r,!0);this._seenDictionaries.set(r,s),this._dictionaryDeltaOffsets.set(r,o.length)}return this}}class Cy extends Dk{static writeAll(t,n){const i=new Cy(n);return Is(t)?t.then(r=>i.writeAll(r)):ta(t)?Py(i,t):Ry(i,t)}}class Ny extends Dk{static writeAll(t){const n=new Ny;return Is(t)?t.then(i=>n.writeAll(i)):ta(t)?Py(n,t):Ry(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(t,n,i=!1){if(!i&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(t,n,i)}_writeFooter(t){const n=jl.encode(new jl(t,ie.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Ry(e,t){let n=t;t instanceof Le&&(n=t.batches,e.reset(void 0,t.schema));for(const i of n)e.write(i);return e.finish()}function Py(e,t){return at(this,void 0,void 0,function*(){var n,i,r,s,o,a,l;try{for(n=!0,i=gs(t);r=yield i.next(),s=r.done,!s;n=!0){l=r.value,n=!1;const c=l;e.write(c)}}catch(c){o={error:c}}finally{try{!n&&!s&&(a=i.return)&&(yield a.call(i))}finally{if(o)throw o.error}}return e.finish()})}function E8(e,t="stream"){return(t==="stream"?Cy:Ny).writeAll(e).toUint8Array(!0)}var I8=Object.create,Ok=Object.defineProperty,k8=Object.getOwnPropertyDescriptor,M8=Object.getOwnPropertyNames,T8=Object.getPrototypeOf,A8=Object.prototype.hasOwnProperty,D8=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),O8=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of M8(t))!A8.call(e,r)&&r!==n&&Ok(e,r,{get:()=>t[r],enumerable:!(i=k8(t,r))||i.enumerable});return e},C8=(e,t,n)=>(n=e!=null?I8(T8(e)):{},O8(t||!e||!e.__esModule?Ok(n,"default",{value:e,enumerable:!0}):n,e)),N8=D8((e,t)=>{t.exports=Worker}),R8=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.AUTOMATIC=1]="AUTOMATIC",e[e.READ_ONLY=2]="READ_ONLY",e[e.READ_WRITE=3]="READ_WRITE",e))(R8||{}),P8=(e=>(e[e.IDENTIFIER=0]="IDENTIFIER",e[e.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",e[e.STRING_CONSTANT=2]="STRING_CONSTANT",e[e.OPERATOR=3]="OPERATOR",e[e.KEYWORD=4]="KEYWORD",e[e.COMMENT=5]="COMMENT",e))(P8||{}),L8=(e=>(e[e.NONE=0]="NONE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR",e))(L8||{}),F8=(e=>(e[e.NONE=0]="NONE",e[e.CONNECT=1]="CONNECT",e[e.DISCONNECT=2]="DISCONNECT",e[e.OPEN=3]="OPEN",e[e.QUERY=4]="QUERY",e[e.INSTANTIATE=5]="INSTANTIATE",e))(F8||{}),B8=(e=>(e[e.NONE=0]="NONE",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR",e[e.START=3]="START",e[e.RUN=4]="RUN",e[e.CAPTURE=5]="CAPTURE",e))(B8||{}),z8=(e=>(e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",e))(z8||{}),U8=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}},$8=(e=>(e[e.SUCCESS=0]="SUCCESS",e))($8||{}),V8=class{constructor(e,t){this._bindings=e,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.runQuery(this._conn,e),n=Tn.from(t);return console.assert(n.isSync(),"Reader is not sync"),console.assert(n.isFile(),"Reader is not file"),new Le(n)}async send(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.startPendingQuery(this._conn,e);for(;t==null;)t=await this._bindings.pollPendingQuery(this._conn);let n=new Ck(this._bindings,this._conn,t),i=await Tn.from(n);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let t=await this._bindings.createPrepared(this._conn,e);return new j8(this._bindings,this._conn,t)}async insertArrowTable(e,t){let n=E8(e,"stream");await this.insertArrowFromIPCStream(n,t)}async insertArrowFromIPCStream(e,t){await this._bindings.insertArrowFromIPCStream(this._conn,e,t)}async insertCSVFromPath(e,t){await this._bindings.insertCSVFromPath(this._conn,e,t)}async insertJSONFromPath(e,t){await this._bindings.insertJSONFromPath(this._conn,e,t)}},Ck=class{constructor(e,t,n){this.db=e,this.conn=t,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return this._inFlight!=null?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},j8=class{constructor(e,t,n){this.bindings=e,this.connectionId=t,this.statementId=n}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let t=await this.bindings.runPrepared(this.connectionId,this.statementId,e),n=Tn.from(t);return console.assert(n.isSync()),console.assert(n.isFile()),new Le(n)}async send(...e){let t=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),n=new Ck(this.bindings,this.connectionId,t),i=await Tn.from(n);return console.assert(i.isAsync()),console.assert(i.isStream()),i}},H8=(e=>(e.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",e.CLOSE_PREPARED="CLOSE_PREPARED",e.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",e.CONNECT="CONNECT",e.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",e.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",e.CREATE_PREPARED="CREATE_PREPARED",e.DISCONNECT="DISCONNECT",e.DROP_FILE="DROP_FILE",e.DROP_FILES="DROP_FILES",e.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",e.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",e.FLUSH_FILES="FLUSH_FILES",e.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",e.GET_TABLE_NAMES="GET_TABLE_NAMES",e.GET_VERSION="GET_VERSION",e.GLOB_FILE_INFOS="GLOB_FILE_INFOS",e.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",e.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",e.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",e.INSTANTIATE="INSTANTIATE",e.OPEN="OPEN",e.PING="PING",e.POLL_PENDING_QUERY="POLL_PENDING_QUERY",e.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",e.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",e.REGISTER_FILE_URL="REGISTER_FILE_URL",e.RESET="RESET",e.RUN_PREPARED="RUN_PREPARED",e.RUN_QUERY="RUN_QUERY",e.SEND_PREPARED="SEND_PREPARED",e.START_PENDING_QUERY="START_PENDING_QUERY",e.TOKENIZE="TOKENIZE",e))(H8||{}),W8=(e=>(e.CONNECTION_INFO="CONNECTION_INFO",e.ERROR="ERROR",e.FEATURE_FLAGS="FEATURE_FLAGS",e.FILE_BUFFER="FILE_BUFFER",e.FILE_INFOS="FILE_INFOS",e.FILE_SIZE="FILE_SIZE",e.FILE_STATISTICS="FILE_STATISTICS",e.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",e.LOG="LOG",e.OK="OK",e.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",e.QUERY_PLAN="QUERY_PLAN",e.QUERY_RESULT="QUERY_RESULT",e.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",e.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",e.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",e.REGISTERED_FILE="REGISTERED_FILE",e.SCRIPT_TOKENS="SCRIPT_TOKENS",e.SUCCESS="SUCCESS",e.TABLE_NAMES="TABLE_NAMES",e.VERSION_STRING="VERSION_STRING",e))(W8||{}),_t=class{constructor(e,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=t,this.promise=new Promise((n,i)=>{this.promiseResolver=n,this.promiseRejecter=i})}};function ku(e){switch(e.typeId){case I.Binary:return{sqlType:"binary"};case I.Bool:return{sqlType:"bool"};case I.Date:return{sqlType:"date"};case I.DateDay:return{sqlType:"date32[d]"};case I.DateMillisecond:return{sqlType:"date64[ms]"};case I.Decimal:{let t=e;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case I.Float:return{sqlType:"float"};case I.Float16:return{sqlType:"float16"};case I.Float32:return{sqlType:"float32"};case I.Float64:return{sqlType:"float64"};case I.Int:return{sqlType:"int32"};case I.Int16:return{sqlType:"int16"};case I.Int32:return{sqlType:"int32"};case I.Int64:return{sqlType:"int64"};case I.Uint16:return{sqlType:"uint16"};case I.Uint32:return{sqlType:"uint32"};case I.Uint64:return{sqlType:"uint64"};case I.Uint8:return{sqlType:"uint8"};case I.IntervalDayTime:return{sqlType:"interval[dt]"};case I.IntervalYearMonth:return{sqlType:"interval[m]"};case I.List:return{sqlType:"list",valueType:ku(e.valueType)};case I.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:e.byteWidth};case I.Null:return{sqlType:"null"};case I.Utf8:return{sqlType:"utf8"};case I.Struct:return{sqlType:"struct",fields:e.children.map(t=>Ng(t.name,t.type))};case I.Map:{let t=e;return{sqlType:"map",keyType:ku(t.keyType),valueType:ku(t.valueType)}}case I.Time:return{sqlType:"time[s]"};case I.TimeMicrosecond:return{sqlType:"time[us]"};case I.TimeMillisecond:return{sqlType:"time[ms]"};case I.TimeNanosecond:return{sqlType:"time[ns]"};case I.TimeSecond:return{sqlType:"time[s]"};case I.Timestamp:return{sqlType:"timestamp",timezone:e.timezone||void 0};case I.TimestampSecond:return{sqlType:"timestamp[s]",timezone:e.timezone||void 0};case I.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:e.timezone||void 0};case I.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:e.timezone||void 0};case I.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(e.toString()))}function Ng(e,t){let n=ku(t);return n.name=e,n}var Y8=new TextEncoder,X8=class{constructor(e,t=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),t!=null&&this.attach(t)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,n)=>{this._workerShutdownResolver=t})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,t=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let n=this._nextMessageId++;return this._pendingRequests.set(n,e),this._worker.postMessage({messageId:n,type:e.type,data:e.data},t),await e.promise}onMessage(e){var t;let n=e.data;switch(n.type){case"LOG":{this._logger.log(n.data);return}case"INSTANTIATE_PROGRESS":{for(let r of this._onInstantiationProgress)r(n.data);return}}let i=this._pendingRequests.get(n.requestId);if(!i){console.warn("unassociated response: [".concat(n.requestId,", ").concat(n.type.toString(),"]"));return}if(this._pendingRequests.delete(n.requestId),n.type=="ERROR"){let r=new Error(n.data.message);r.name=n.data.name,(t=Object.getOwnPropertyDescriptor(r,"stack"))!=null&&t.writable&&(r.stack=n.data.stack),i.promiseRejecter(r);return}switch(i.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(n.type=="OK"){i.promiseResolver(n.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],n.type=="OK"){i.promiseResolver(n.data);return}break;case"GLOB_FILE_INFOS":if(n.type=="FILE_INFOS"){i.promiseResolver(n.data);return}break;case"GET_VERSION":if(n.type=="VERSION_STRING"){i.promiseResolver(n.data);return}break;case"GET_FEATURE_FLAGS":if(n.type=="FEATURE_FLAGS"){i.promiseResolver(n.data);return}break;case"GET_TABLE_NAMES":if(n.type=="TABLE_NAMES"){i.promiseResolver(n.data);return}break;case"TOKENIZE":if(n.type=="SCRIPT_TOKENS"){i.promiseResolver(n.data);return}break;case"COPY_FILE_TO_BUFFER":if(n.type=="FILE_BUFFER"){i.promiseResolver(n.data);return}break;case"EXPORT_FILE_STATISTICS":if(n.type=="FILE_STATISTICS"){i.promiseResolver(n.data);return}break;case"CONNECT":if(n.type=="CONNECTION_INFO"){i.promiseResolver(n.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(n.type=="QUERY_RESULT"){i.promiseResolver(n.data);return}break;case"SEND_PREPARED":if(n.type=="QUERY_RESULT_HEADER"){i.promiseResolver(n.data);return}break;case"START_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(n.data);return}break;case"POLL_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(n.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],n.type=="SUCCESS"){i.promiseResolver(n.data);return}break;case"FETCH_QUERY_RESULTS":if(n.type=="QUERY_RESULT_CHUNK"){i.promiseResolver(n.data);return}break;case"CREATE_PREPARED":if(n.type=="PREPARED_STATEMENT_ID"){i.promiseResolver(n.data);return}break}i.promiseRejecter(new Error("unexpected response type: ".concat(n.type.toString())))}onError(e){console.error(e),console.error("error in duckdb worker: ".concat(e.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let e=new _t("RESET",null);return await this.postTask(e)}async ping(){let e=new _t("PING",null);await this.postTask(e)}async dropFile(e){let t=new _t("DROP_FILE",e);return await this.postTask(t)}async dropFiles(){let e=new _t("DROP_FILES",null);return await this.postTask(e)}async flushFiles(){let e=new _t("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,t=null,n=i=>{}){this._onInstantiationProgress.push(n);let i=new _t("INSTANTIATE",[e,t]);return await this.postTask(i)}async getVersion(){let e=new _t("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new _t("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){let t=new _t("OPEN",e);await this.postTask(t)}async tokenize(e){let t=new _t("TOKENIZE",e);return await this.postTask(t)}async connectInternal(){let e=new _t("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new V8(this,e)}async disconnect(e){let t=new _t("DISCONNECT",e);await this.postTask(t)}async runQuery(e,t){let n=new _t("RUN_QUERY",[e,t]);return await this.postTask(n)}async startPendingQuery(e,t){let n=new _t("START_PENDING_QUERY",[e,t]);return await this.postTask(n)}async pollPendingQuery(e){let t=new _t("POLL_PENDING_QUERY",e);return await this.postTask(t)}async cancelPendingQuery(e){let t=new _t("CANCEL_PENDING_QUERY",e);return await this.postTask(t)}async fetchQueryResults(e){let t=new _t("FETCH_QUERY_RESULTS",e);return await this.postTask(t)}async getTableNames(e,t){let n=new _t("GET_TABLE_NAMES",[e,t]);return await this.postTask(n)}async createPrepared(e,t){let n=new _t("CREATE_PREPARED",[e,t]);return await this.postTask(n)}async closePrepared(e,t){let n=new _t("CLOSE_PREPARED",[e,t]);await this.postTask(n)}async runPrepared(e,t,n){let i=new _t("RUN_PREPARED",[e,t,n]);return await this.postTask(i)}async sendPrepared(e,t,n){let i=new _t("SEND_PREPARED",[e,t,n]);return await this.postTask(i)}async globFiles(e){let t=new _t("GLOB_FILE_INFOS",e);return await this.postTask(t)}async registerFileText(e,t){let n=Y8.encode(t);await this.registerFileBuffer(e,n)}async registerFileURL(e,t,n,i){t===void 0&&(t=e);let r=new _t("REGISTER_FILE_URL",[e,t,n,i]);await this.postTask(r)}async registerEmptyFileBuffer(e){}async registerFileBuffer(e,t){let n=new _t("REGISTER_FILE_BUFFER",[e,t]);await this.postTask(n,[t.buffer])}async registerFileHandle(e,t,n,i){let r=new _t("REGISTER_FILE_HANDLE",[e,t,n,i]);await this.postTask(r,[])}async collectFileStatistics(e,t){let n=new _t("COLLECT_FILE_STATISTICS",[e,t]);await this.postTask(n,[])}async exportFileStatistics(e){let t=new _t("EXPORT_FILE_STATISTICS",e);return await this.postTask(t,[])}async copyFileToBuffer(e){let t=new _t("COPY_FILE_TO_BUFFER",e);return await this.postTask(t)}async copyFileToPath(e,t){let n=new _t("COPY_FILE_TO_PATH",[e,t]);await this.postTask(n)}async insertArrowFromIPCStream(e,t,n){if(t.length==0)return;let i=new _t("INSERT_ARROW_FROM_IPC_STREAM",[e,t,n]);await this.postTask(i,[t.buffer])}async insertCSVFromPath(e,t,n){if(n.columns!==void 0){let r=[];for(let s in n.columns){let o=n.columns[s];r.push(Ng(s,o))}n.columnsFlat=r,delete n.columns}let i=new _t("IMPORT_CSV_FROM_PATH",[e,t,n]);await this.postTask(i)}async insertJSONFromPath(e,t,n){if(n.columns!==void 0){let r=[];for(let s in n.columns){let o=n.columns[s];r.push(Ng(s,o))}n.columnsFlat=r,delete n.columns}let i=new _t("IMPORT_JSON_FROM_PATH",[e,t,n]);await this.postTask(i)}},K8=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),G8=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),Q8=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),q8=()=>(async e=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Z8={name:"@duckdb/duckdb-wasm",version:"1.29.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^17.0.0"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0",esbuild:"^0.20.2",eslint:"^8.57.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.34.0","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.2","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.11.0",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.3","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.5",puppeteer:"^22.8.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.13",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/tests-*","!dist/duckdb-browser-mvp.worker.js.map","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-node-blocking.d.ts",import:"./dist/duckdb-node-blocking.mjs",require:"./dist/duckdb-node-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},Ly=Z8.version.split(".");Ly[0];Ly[1];Ly[2];var J8=()=>typeof navigator>"u",Kh=null,Gh=null,Qh=null,qh=null,Zh=null;async function t6(){return Kh==null&&(Kh=typeof BigInt64Array<"u"),Gh==null&&(Gh=await G8()),Qh==null&&(Qh=await q8()),qh==null&&(qh=await Q8()),Zh==null&&(Zh=await K8()),{bigInt64Array:Kh,crossOriginIsolated:J8()||globalThis.crossOriginIsolated||!1,wasmExceptions:Gh,wasmSIMD:qh,wasmThreads:Qh,wasmBulkMemory:Zh}}async function e6(e){let t=await t6();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&e.coi)return{mainModule:e.coi.mainModule,mainWorker:e.coi.mainWorker,pthreadWorker:e.coi.pthreadWorker};if(e.eh)return{mainModule:e.eh.mainModule,mainWorker:e.eh.mainWorker,pthreadWorker:null}}return{mainModule:e.mvp.mainModule,mainWorker:e.mvp.mainWorker,pthreadWorker:null}}C8(N8());function n6(){let e=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}n6();var Nk=(e=>(e[e.BUFFER=0]="BUFFER",e[e.NODE_FS=1]="NODE_FS",e[e.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",e[e.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",e[e.HTTP=4]="HTTP",e[e.S3=5]="S3",e))(Nk||{});let Xd;function i6(){return"/duck-quanvas/"}async function r6(){const e=i6(),t={mvp:{mainModule:`${e}duckdb-mvp.wasm`,mainWorker:`${e}duckdb-browser-mvp.worker.js`},eh:{mainModule:`${e}duckdb-eh.wasm`,mainWorker:`${e}duckdb-browser-eh.worker.js`}},n=await e6(t),i=new Worker(n.mainWorker),r=new U8;Xd=new X8(r,i),await Xd.instantiate(n.mainModule)}const s6={fileUpload:ZR,editor:sL,chart:Qz};function o6(){const[e,t,n]=MR([]),[i,r,s]=TR([]),[o,a]=O.useState(null),l={animated:!0,type:"smoothstep",style:{stroke:"#888"},markerEnd:{type:Ol.ArrowClosed,color:"#888"}};O.useEffect(()=>{r6().then(()=>{Xd.connect().then(a)})},[]);const c=O.useCallback(async f=>{if(!o)throw new Error("Database connection not available");try{return await Xd.registerFileHandle(f.name,f,Nk.BROWSER_FILEREADER,!0),await o.query(`CREATE TABLE csv_data AS SELECT * FROM read_csv_auto('${f.name}')`),!0}catch(h){throw console.error("Error loading CSV:",h),h}},[o]),u=O.useCallback(async(f,h)=>{if(!o)throw new Error("Database connection not available");try{const y=(await o.query(f)).toArray(),b=w=>typeof w=="bigint"?w.toString():w instanceof Date?w.toISOString():ArrayBuffer.isView(w)?Array.from(w):w??null,g=y.map(w=>Object.fromEntries(Object.entries(w).map(([x,E])=>[x,b(E)]))),m=g.map(w=>Object.values(w)[0]),_=g.map(w=>Object.values(w)[1]),v={labels:m,datasets:[{label:"Query Result",data:_,backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]};t(w=>w.map(x=>x.id===h?{...x,data:{...x.data,result:g}}:x.id===`chart-${h}`?{...x,data:{...x.data,chartData:v}}:x))}catch(p){console.error("Error running query:",p),t(y=>y.map(b=>b.id===h?{...b,data:{...b.data,result:`Error: ${p.message}`}}:b))}},[o,t]);O.useEffect(()=>{o&&(t([{id:"1",type:"fileUpload",data:{label:"File Upload",onFileUpload:c,conn:o},position:{x:250,y:-500}},{id:"2",type:"editor",data:{label:"SQL Editor 1",onRunQuery:f=>u(f,"2"),result:"",editorRef:B.createRef()},position:{x:50,y:200}},{id:"chart-2",type:"chart",data:{label:"Chart 1",chartData:null},position:{x:20,y:500}},{id:"3",type:"editor",data:{label:"SQL Editor 2",onRunQuery:f=>u(f,"3"),result:"",editorRef:B.createRef()},position:{x:800,y:150}},{id:"chart-3",type:"chart",data:{label:"Chart 2",chartData:null},position:{x:600,y:500}}]),r([{id:"e1-2",source:"1",target:"2",animated:!0},{id:"e2-chart2",source:"2",target:"chart-2",animated:!0}]))},[o,c,u]);const d=O.useCallback(f=>r(h=>FS(f,h)),[r]);return St("div",{style:{width:"100vw",height:"100vh"},children:yr(_x,{nodes:e,edges:i,onNodesChange:n,onEdgesChange:s,onConnect:d,nodeTypes:s6,defaultEdgeOptions:l,fitView:!0,children:[St(qR,{}),St(WR,{}),St(BR,{})]})})}Jh.createRoot(document.getElementById("root")).render(St(B.StrictMode,{children:St(o6,{})}));
