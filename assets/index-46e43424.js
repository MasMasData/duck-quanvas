(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var UN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var XE={exports:{}},wg={},QE={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf=Symbol.for("react.element"),HN=Symbol.for("react.portal"),WN=Symbol.for("react.fragment"),VN=Symbol.for("react.strict_mode"),$N=Symbol.for("react.profiler"),jN=Symbol.for("react.provider"),YN=Symbol.for("react.context"),qN=Symbol.for("react.forward_ref"),KN=Symbol.for("react.suspense"),GN=Symbol.for("react.memo"),XN=Symbol.for("react.lazy"),u1=Symbol.iterator;function QN(e){return e===null||typeof e!="object"?null:(e=u1&&e[u1]||e["@@iterator"],typeof e=="function"?e:null)}var ZE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JE=Object.assign,tC={};function du(e,t,n){this.props=e,this.context=t,this.refs=tC,this.updater=n||ZE}du.prototype.isReactComponent={};du.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};du.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eC(){}eC.prototype=du.prototype;function l_(e,t,n){this.props=e,this.context=t,this.refs=tC,this.updater=n||ZE}var u_=l_.prototype=new eC;u_.constructor=l_;JE(u_,du.prototype);u_.isPureReactComponent=!0;var c1=Array.isArray,nC=Object.prototype.hasOwnProperty,c_={current:null},iC={key:!0,ref:!0,__self:!0,__source:!0};function rC(e,t,n){var i,r={},o=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)nC.call(t,i)&&!iC.hasOwnProperty(i)&&(r[i]=t[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),p=0;p<u;p++)c[p]=arguments[p+2];r.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:Bf,type:e,key:o,ref:a,props:r,_owner:c_.current}}function ZN(e,t){return{$$typeof:Bf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function f_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bf}function JN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var f1=/\/+/g;function yy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?JN(""+e.key):t.toString(36)}function Ch(e,t,n,i,r){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Bf:case HN:a=!0}}if(a)return a=e,r=r(a),e=i===""?"."+yy(a,0):i,c1(r)?(n="",e!=null&&(n=e.replace(f1,"$&/")+"/"),Ch(r,t,n,"",function(p){return p})):r!=null&&(f_(r)&&(r=ZN(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(f1,"$&/")+"/")+e)),t.push(r)),1;if(a=0,i=i===""?".":i+":",c1(e))for(var u=0;u<e.length;u++){o=e[u];var c=i+yy(o,u);a+=Ch(o,t,n,c,r)}else if(c=QN(e),typeof c=="function")for(e=c.call(e),u=0;!(o=e.next()).done;)o=o.value,c=i+yy(o,u++),a+=Ch(o,t,n,c,r);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function zd(e,t,n){if(e==null)return e;var i=[],r=0;return Ch(e,i,"","",function(o){return t.call(n,o,r++)}),i}function tO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qn={current:null},Th={transition:null},eO={ReactCurrentDispatcher:Qn,ReactCurrentBatchConfig:Th,ReactCurrentOwner:c_};function sC(){throw Error("act(...) is not supported in production builds of React.")}Gt.Children={map:zd,forEach:function(e,t,n){zd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zd(e,function(){t++}),t},toArray:function(e){return zd(e,function(t){return t})||[]},only:function(e){if(!f_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Gt.Component=du;Gt.Fragment=WN;Gt.Profiler=$N;Gt.PureComponent=l_;Gt.StrictMode=VN;Gt.Suspense=KN;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eO;Gt.act=sC;Gt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=JE({},e.props),r=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=c_.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)nC.call(t,c)&&!iC.hasOwnProperty(c)&&(i[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){u=Array(c);for(var p=0;p<c;p++)u[p]=arguments[p+2];i.children=u}return{$$typeof:Bf,type:e.type,key:r,ref:o,props:i,_owner:a}};Gt.createContext=function(e){return e={$$typeof:YN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jN,_context:e},e.Consumer=e};Gt.createElement=rC;Gt.createFactory=function(e){var t=rC.bind(null,e);return t.type=e,t};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(e){return{$$typeof:qN,render:e}};Gt.isValidElement=f_;Gt.lazy=function(e){return{$$typeof:XN,_payload:{_status:-1,_result:e},_init:tO}};Gt.memo=function(e,t){return{$$typeof:GN,type:e,compare:t===void 0?null:t}};Gt.startTransition=function(e){var t=Th.transition;Th.transition={};try{e()}finally{Th.transition=t}};Gt.unstable_act=sC;Gt.useCallback=function(e,t){return Qn.current.useCallback(e,t)};Gt.useContext=function(e){return Qn.current.useContext(e)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(e){return Qn.current.useDeferredValue(e)};Gt.useEffect=function(e,t){return Qn.current.useEffect(e,t)};Gt.useId=function(){return Qn.current.useId()};Gt.useImperativeHandle=function(e,t,n){return Qn.current.useImperativeHandle(e,t,n)};Gt.useInsertionEffect=function(e,t){return Qn.current.useInsertionEffect(e,t)};Gt.useLayoutEffect=function(e,t){return Qn.current.useLayoutEffect(e,t)};Gt.useMemo=function(e,t){return Qn.current.useMemo(e,t)};Gt.useReducer=function(e,t,n){return Qn.current.useReducer(e,t,n)};Gt.useRef=function(e){return Qn.current.useRef(e)};Gt.useState=function(e){return Qn.current.useState(e)};Gt.useSyncExternalStore=function(e,t,n){return Qn.current.useSyncExternalStore(e,t,n)};Gt.useTransition=function(){return Qn.current.useTransition()};Gt.version="18.3.1";QE.exports=Gt;var Z=QE.exports;const nt=a_(Z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nO=Z,iO=Symbol.for("react.element"),rO=Symbol.for("react.fragment"),sO=Object.prototype.hasOwnProperty,oO=nO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aO={key:!0,ref:!0,__self:!0,__source:!0};function oC(e,t,n){var i,r={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)sO.call(t,i)&&!aO.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:iO,type:e,key:o,ref:a,props:r,_owner:oO.current}}wg.Fragment=rO;wg.jsx=oC;wg.jsxs=oC;XE.exports=wg;var aC=XE.exports;const yn=aC.jsx,xg=aC.jsxs;var E0={},lC={exports:{}},Ti={},uC={exports:{}},cC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,z){var X=q.length;q.push(z);t:for(;0<X;){var J=X-1>>>1,tt=q[J];if(0<r(tt,z))q[J]=z,q[X]=tt,X=J;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var z=q[0],X=q.pop();if(X!==z){q[0]=X;t:for(var J=0,tt=q.length,at=tt>>>1;J<at;){var rt=2*(J+1)-1,dt=q[rt],mt=rt+1,_t=q[mt];if(0>r(dt,X))mt<tt&&0>r(_t,dt)?(q[J]=_t,q[mt]=X,J=mt):(q[J]=dt,q[rt]=X,J=rt);else if(mt<tt&&0>r(_t,X))q[J]=_t,q[mt]=X,J=mt;else break t}}return z}function r(q,z){var X=q.sortIndex-z.sortIndex;return X!==0?X:q.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var c=[],p=[],g=1,y=null,v=3,b=!1,k=!1,T=!1,D=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(q){for(var z=n(p);z!==null;){if(z.callback===null)i(p);else if(z.startTime<=q)i(p),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(p)}}function I(q){if(T=!1,C(q),!k)if(n(c)!==null)k=!0,H(L);else{var z=n(p);z!==null&&Q(I,z.startTime-q)}}function L(q,z){k=!1,T&&(T=!1,w(V),V=-1),b=!0;var X=v;try{for(C(z),y=n(c);y!==null&&(!(y.expirationTime>z)||q&&!$());){var J=y.callback;if(typeof J=="function"){y.callback=null,v=y.priorityLevel;var tt=J(y.expirationTime<=z);z=e.unstable_now(),typeof tt=="function"?y.callback=tt:y===n(c)&&i(c),C(z)}else i(c);y=n(c)}if(y!==null)var at=!0;else{var rt=n(p);rt!==null&&Q(I,rt.startTime-z),at=!1}return at}finally{y=null,v=X,b=!1}}var R=!1,F=null,V=-1,j=5,U=-1;function $(){return!(e.unstable_now()-U<j)}function B(){if(F!==null){var q=e.unstable_now();U=q;var z=!0;try{z=F(!0,q)}finally{z?G():(R=!1,F=null)}}else R=!1}var G;if(typeof S=="function")G=function(){S(B)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,O=A.port2;A.port1.onmessage=B,G=function(){O.postMessage(null)}}else G=function(){D(B,0)};function H(q){F=q,R||(R=!0,G())}function Q(q,z){V=D(function(){q(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){k||b||(k=!0,H(L))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(q){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var X=v;v=z;try{return q()}finally{v=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var X=v;v=q;try{return z()}finally{v=X}},e.unstable_scheduleCallback=function(q,z,X){var J=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?J+X:J):X=J,q){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=X+tt,q={id:g++,callback:z,priorityLevel:q,startTime:X,expirationTime:tt,sortIndex:-1},X>J?(q.sortIndex=X,t(p,q),n(c)===null&&q===n(p)&&(T?(w(V),V=-1):T=!0,Q(I,X-J))):(q.sortIndex=tt,t(c,q),k||b||(k=!0,H(L))),q},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(q){var z=v;return function(){var X=v;v=z;try{return q.apply(this,arguments)}finally{v=X}}}})(cC);uC.exports=cC;var lO=uC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uO=Z,ki=lO;function lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fC=new Set,ef={};function Da(e,t){ql(e,t),ql(e+"Capture",t)}function ql(e,t){for(ef[e]=t,e=0;e<t.length;e++)fC.add(t[e])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C0=Object.prototype.hasOwnProperty,cO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d1={},h1={};function fO(e){return C0.call(h1,e)?!0:C0.call(d1,e)?!1:cO.test(e)?h1[e]=!0:(d1[e]=!0,!1)}function dO(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hO(e,t,n,i){if(t===null||typeof t>"u"||dO(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zn(e,t,n,i,r,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mn[e]=new Zn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mn[t]=new Zn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mn[e]=new Zn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mn[e]=new Zn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mn[e]=new Zn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mn[e]=new Zn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mn[e]=new Zn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mn[e]=new Zn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mn[e]=new Zn(e,5,!1,e.toLowerCase(),null,!1,!1)});var d_=/[\-:]([a-z])/g;function h_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(d_,h_);Mn[t]=new Zn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(d_,h_);Mn[t]=new Zn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(d_,h_);Mn[t]=new Zn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mn[e]=new Zn(e,1,!1,e.toLowerCase(),null,!1,!1)});Mn.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mn[e]=new Zn(e,1,!1,e.toLowerCase(),null,!0,!0)});function p_(e,t,n,i){var r=Mn.hasOwnProperty(t)?Mn[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hO(t,n,r,i)&&(n=null),i||r===null?fO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Ns=uO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ud=Symbol.for("react.element"),_l=Symbol.for("react.portal"),bl=Symbol.for("react.fragment"),g_=Symbol.for("react.strict_mode"),T0=Symbol.for("react.profiler"),dC=Symbol.for("react.provider"),hC=Symbol.for("react.context"),m_=Symbol.for("react.forward_ref"),M0=Symbol.for("react.suspense"),I0=Symbol.for("react.suspense_list"),y_=Symbol.for("react.memo"),io=Symbol.for("react.lazy"),pC=Symbol.for("react.offscreen"),p1=Symbol.iterator;function nc(e){return e===null||typeof e!="object"?null:(e=p1&&e[p1]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,vy;function xc(e){if(vy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vy=t&&t[1]||""}return`
`+vy+e}var _y=!1;function by(e,t){if(!e||_y)return"";_y=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var i=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){i=p}e.call(t.prototype)}else{try{throw Error()}catch(p){i=p}e()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var r=p.stack.split(`
`),o=i.stack.split(`
`),a=r.length-1,u=o.length-1;1<=a&&0<=u&&r[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(r[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||r[a]!==o[u]){var c=`
`+r[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=u);break}}}finally{_y=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xc(e):""}function pO(e){switch(e.tag){case 5:return xc(e.type);case 16:return xc("Lazy");case 13:return xc("Suspense");case 19:return xc("SuspenseList");case 0:case 2:case 15:return e=by(e.type,!1),e;case 11:return e=by(e.type.render,!1),e;case 1:return e=by(e.type,!0),e;default:return""}}function A0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bl:return"Fragment";case _l:return"Portal";case T0:return"Profiler";case g_:return"StrictMode";case M0:return"Suspense";case I0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hC:return(e.displayName||"Context")+".Consumer";case dC:return(e._context.displayName||"Context")+".Provider";case m_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case y_:return t=e.displayName||null,t!==null?t:A0(e.type)||"Memo";case io:t=e._payload,e=e._init;try{return A0(e(t))}catch{}}return null}function gO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A0(t);case 8:return t===g_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function To(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mO(e){var t=gC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hd(e){e._valueTracker||(e._valueTracker=mO(e))}function mC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=gC(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function ep(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function D0(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function g1(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=To(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yC(e,t){t=t.checked,t!=null&&p_(e,"checked",t,!1)}function L0(e,t){yC(e,t);var n=To(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?N0(e,t.type,n):t.hasOwnProperty("defaultValue")&&N0(e,t.type,To(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function m1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function N0(e,t,n){(t!=="number"||ep(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sc=Array.isArray;function Nl(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+To(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function O0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(lt(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function y1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(lt(92));if(Sc(n)){if(1<n.length)throw Error(lt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:To(n)}}function vC(e,t){var n=To(t.value),i=To(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function v1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _C(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_C(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wd,bC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wd=Wd||document.createElement("div"),Wd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yO=["Webkit","ms","Moz","O"];Object.keys(Uc).forEach(function(e){yO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Uc[t]=Uc[e]})});function wC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Uc.hasOwnProperty(e)&&Uc[e]?(""+t).trim():t+"px"}function xC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=wC(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var vO=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F0(e,t){if(t){if(vO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(lt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(lt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(lt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(lt(62))}}function P0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=null;function v_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var z0=null,Ol=null,Rl=null;function _1(e){if(e=Hf(e)){if(typeof z0!="function")throw Error(lt(280));var t=e.stateNode;t&&(t=Tg(t),z0(e.stateNode,e.type,t))}}function SC(e){Ol?Rl?Rl.push(e):Rl=[e]:Ol=e}function kC(){if(Ol){var e=Ol,t=Rl;if(Rl=Ol=null,_1(e),t)for(e=0;e<t.length;e++)_1(t[e])}}function EC(e,t){return e(t)}function CC(){}var wy=!1;function TC(e,t,n){if(wy)return e(t,n);wy=!0;try{return EC(e,t,n)}finally{wy=!1,(Ol!==null||Rl!==null)&&(CC(),kC())}}function rf(e,t){var n=e.stateNode;if(n===null)return null;var i=Tg(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(lt(231,t,typeof n));return n}var U0=!1;if(Ts)try{var ic={};Object.defineProperty(ic,"passive",{get:function(){U0=!0}}),window.addEventListener("test",ic,ic),window.removeEventListener("test",ic,ic)}catch{U0=!1}function _O(e,t,n,i,r,o,a,u,c){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(g){this.onError(g)}}var Hc=!1,np=null,ip=!1,H0=null,bO={onError:function(e){Hc=!0,np=e}};function wO(e,t,n,i,r,o,a,u,c){Hc=!1,np=null,_O.apply(bO,arguments)}function xO(e,t,n,i,r,o,a,u,c){if(wO.apply(this,arguments),Hc){if(Hc){var p=np;Hc=!1,np=null}else throw Error(lt(198));ip||(ip=!0,H0=p)}}function La(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function MC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b1(e){if(La(e)!==e)throw Error(lt(188))}function SO(e){var t=e.alternate;if(!t){if(t=La(e),t===null)throw Error(lt(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return b1(r),e;if(o===i)return b1(r),t;o=o.sibling}throw Error(lt(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=o;break}if(u===i){a=!0,i=r,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,i=r;break}if(u===i){a=!0,i=o,n=r;break}u=u.sibling}if(!a)throw Error(lt(189))}}if(n.alternate!==i)throw Error(lt(190))}if(n.tag!==3)throw Error(lt(188));return n.stateNode.current===n?e:t}function IC(e){return e=SO(e),e!==null?AC(e):null}function AC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=AC(e);if(t!==null)return t;e=e.sibling}return null}var DC=ki.unstable_scheduleCallback,w1=ki.unstable_cancelCallback,kO=ki.unstable_shouldYield,EO=ki.unstable_requestPaint,Xe=ki.unstable_now,CO=ki.unstable_getCurrentPriorityLevel,__=ki.unstable_ImmediatePriority,LC=ki.unstable_UserBlockingPriority,rp=ki.unstable_NormalPriority,TO=ki.unstable_LowPriority,NC=ki.unstable_IdlePriority,Sg=null,Ur=null;function MO(e){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(Sg,e,void 0,(e.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:DO,IO=Math.log,AO=Math.LN2;function DO(e){return e>>>=0,e===0?32:31-(IO(e)/AO|0)|0}var Vd=64,$d=4194304;function kc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sp(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var u=a&~r;u!==0?i=kc(u):(o&=a,o!==0&&(i=kc(o)))}else a=n&~r,a!==0?i=kc(a):o!==0&&(i=kc(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,o=t&-t,r>=o||r===16&&(o&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-dr(t),r=1<<n,i|=e[n],t&=~r;return i}function LO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NO(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-dr(o),u=1<<a,c=r[a];c===-1?(!(u&n)||u&i)&&(r[a]=LO(u,t)):c<=t&&(e.expiredLanes|=u),o&=~u}}function W0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OC(){var e=Vd;return Vd<<=1,!(Vd&4194240)&&(Vd=64),e}function xy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dr(t),e[t]=n}function OO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-dr(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}function b_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-dr(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var pe=0;function RC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FC,w_,PC,BC,zC,V0=!1,jd=[],yo=null,vo=null,_o=null,sf=new Map,of=new Map,uo=[],RO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x1(e,t){switch(e){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":sf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":of.delete(t.pointerId)}}function rc(e,t,n,i,r,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},t!==null&&(t=Hf(t),t!==null&&w_(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function FO(e,t,n,i,r){switch(t){case"focusin":return yo=rc(yo,e,t,n,i,r),!0;case"dragenter":return vo=rc(vo,e,t,n,i,r),!0;case"mouseover":return _o=rc(_o,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return sf.set(o,rc(sf.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,of.set(o,rc(of.get(o)||null,e,t,n,i,r)),!0}return!1}function UC(e){var t=aa(e.target);if(t!==null){var n=La(t);if(n!==null){if(t=n.tag,t===13){if(t=MC(n),t!==null){e.blockedOn=t,zC(e.priority,function(){PC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);B0=i,n.target.dispatchEvent(i),B0=null}else return t=Hf(n),t!==null&&w_(t),e.blockedOn=n,!1;t.shift()}return!0}function S1(e,t,n){Mh(e)&&n.delete(t)}function PO(){V0=!1,yo!==null&&Mh(yo)&&(yo=null),vo!==null&&Mh(vo)&&(vo=null),_o!==null&&Mh(_o)&&(_o=null),sf.forEach(S1),of.forEach(S1)}function sc(e,t){e.blockedOn===t&&(e.blockedOn=null,V0||(V0=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,PO)))}function af(e){function t(r){return sc(r,e)}if(0<jd.length){sc(jd[0],e);for(var n=1;n<jd.length;n++){var i=jd[n];i.blockedOn===e&&(i.blockedOn=null)}}for(yo!==null&&sc(yo,e),vo!==null&&sc(vo,e),_o!==null&&sc(_o,e),sf.forEach(t),of.forEach(t),n=0;n<uo.length;n++)i=uo[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<uo.length&&(n=uo[0],n.blockedOn===null);)UC(n),n.blockedOn===null&&uo.shift()}var Fl=Ns.ReactCurrentBatchConfig,op=!0;function BO(e,t,n,i){var r=pe,o=Fl.transition;Fl.transition=null;try{pe=1,x_(e,t,n,i)}finally{pe=r,Fl.transition=o}}function zO(e,t,n,i){var r=pe,o=Fl.transition;Fl.transition=null;try{pe=4,x_(e,t,n,i)}finally{pe=r,Fl.transition=o}}function x_(e,t,n,i){if(op){var r=$0(e,t,n,i);if(r===null)Ly(e,t,i,ap,n),x1(e,i);else if(FO(r,e,t,n,i))i.stopPropagation();else if(x1(e,i),t&4&&-1<RO.indexOf(e)){for(;r!==null;){var o=Hf(r);if(o!==null&&FC(o),o=$0(e,t,n,i),o===null&&Ly(e,t,i,ap,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Ly(e,t,i,null,n)}}var ap=null;function $0(e,t,n,i){if(ap=null,e=v_(i),e=aa(e),e!==null)if(t=La(e),t===null)e=null;else if(n=t.tag,n===13){if(e=MC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ap=e,null}function HC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CO()){case __:return 1;case LC:return 4;case rp:case TO:return 16;case NC:return 536870912;default:return 16}default:return 16}}var ho=null,S_=null,Ih=null;function WC(){if(Ih)return Ih;var e,t=S_,n=t.length,i,r="value"in ho?ho.value:ho.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[o-i];i++);return Ih=r.slice(e,1<i?1-i:void 0)}function Ah(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yd(){return!0}function k1(){return!1}function Mi(e){function t(n,i,r,o,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yd:k1,this.isPropagationStopped=k1,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yd)},persist:function(){},isPersistent:Yd}),t}var hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k_=Mi(hu),Uf=Ue({},hu,{view:0,detail:0}),UO=Mi(Uf),Sy,ky,oc,kg=Ue({},Uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oc&&(oc&&e.type==="mousemove"?(Sy=e.screenX-oc.screenX,ky=e.screenY-oc.screenY):ky=Sy=0,oc=e),Sy)},movementY:function(e){return"movementY"in e?e.movementY:ky}}),E1=Mi(kg),HO=Ue({},kg,{dataTransfer:0}),WO=Mi(HO),VO=Ue({},Uf,{relatedTarget:0}),Ey=Mi(VO),$O=Ue({},hu,{animationName:0,elapsedTime:0,pseudoElement:0}),jO=Mi($O),YO=Ue({},hu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qO=Mi(YO),KO=Ue({},hu,{data:0}),C1=Mi(KO),GO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QO[e])?!!t[e]:!1}function E_(){return ZO}var JO=Ue({},Uf,{key:function(e){if(e.key){var t=GO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ah(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E_,charCode:function(e){return e.type==="keypress"?Ah(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ah(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tR=Mi(JO),eR=Ue({},kg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T1=Mi(eR),nR=Ue({},Uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E_}),iR=Mi(nR),rR=Ue({},hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),sR=Mi(rR),oR=Ue({},kg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aR=Mi(oR),lR=[9,13,27,32],C_=Ts&&"CompositionEvent"in window,Wc=null;Ts&&"documentMode"in document&&(Wc=document.documentMode);var uR=Ts&&"TextEvent"in window&&!Wc,VC=Ts&&(!C_||Wc&&8<Wc&&11>=Wc),M1=String.fromCharCode(32),I1=!1;function $C(e,t){switch(e){case"keyup":return lR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wl=!1;function cR(e,t){switch(e){case"compositionend":return jC(t);case"keypress":return t.which!==32?null:(I1=!0,M1);case"textInput":return e=t.data,e===M1&&I1?null:e;default:return null}}function fR(e,t){if(wl)return e==="compositionend"||!C_&&$C(e,t)?(e=WC(),Ih=S_=ho=null,wl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VC&&t.locale!=="ko"?null:t.data;default:return null}}var dR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dR[e.type]:t==="textarea"}function YC(e,t,n,i){SC(i),t=lp(t,"onChange"),0<t.length&&(n=new k_("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Vc=null,lf=null;function hR(e){iT(e,0)}function Eg(e){var t=kl(e);if(mC(t))return e}function pR(e,t){if(e==="change")return t}var qC=!1;if(Ts){var Cy;if(Ts){var Ty="oninput"in document;if(!Ty){var D1=document.createElement("div");D1.setAttribute("oninput","return;"),Ty=typeof D1.oninput=="function"}Cy=Ty}else Cy=!1;qC=Cy&&(!document.documentMode||9<document.documentMode)}function L1(){Vc&&(Vc.detachEvent("onpropertychange",KC),lf=Vc=null)}function KC(e){if(e.propertyName==="value"&&Eg(lf)){var t=[];YC(t,lf,e,v_(e)),TC(hR,t)}}function gR(e,t,n){e==="focusin"?(L1(),Vc=t,lf=n,Vc.attachEvent("onpropertychange",KC)):e==="focusout"&&L1()}function mR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eg(lf)}function yR(e,t){if(e==="click")return Eg(t)}function vR(e,t){if(e==="input"||e==="change")return Eg(t)}function _R(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:_R;function uf(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!C0.call(t,r)||!mr(e[r],t[r]))return!1}return!0}function N1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O1(e,t){var n=N1(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=N1(n)}}function GC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function XC(){for(var e=window,t=ep();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ep(e.document)}return t}function T_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bR(e){var t=XC(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&GC(n.ownerDocument.documentElement,n)){if(i!==null&&T_(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=O1(n,o);var a=O1(n,i);r&&a&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wR=Ts&&"documentMode"in document&&11>=document.documentMode,xl=null,j0=null,$c=null,Y0=!1;function R1(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Y0||xl==null||xl!==ep(i)||(i=xl,"selectionStart"in i&&T_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$c&&uf($c,i)||($c=i,i=lp(j0,"onSelect"),0<i.length&&(t=new k_("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=xl)))}function qd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sl={animationend:qd("Animation","AnimationEnd"),animationiteration:qd("Animation","AnimationIteration"),animationstart:qd("Animation","AnimationStart"),transitionend:qd("Transition","TransitionEnd")},My={},QC={};Ts&&(QC=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function Cg(e){if(My[e])return My[e];if(!Sl[e])return e;var t=Sl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in QC)return My[e]=t[n];return e}var ZC=Cg("animationend"),JC=Cg("animationiteration"),tT=Cg("animationstart"),eT=Cg("transitionend"),nT=new Map,F1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(e,t){nT.set(e,t),Da(t,[e])}for(var Iy=0;Iy<F1.length;Iy++){var Ay=F1[Iy],xR=Ay.toLowerCase(),SR=Ay[0].toUpperCase()+Ay.slice(1);Fo(xR,"on"+SR)}Fo(ZC,"onAnimationEnd");Fo(JC,"onAnimationIteration");Fo(tT,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(eT,"onTransitionEnd");ql("onMouseEnter",["mouseout","mouseover"]);ql("onMouseLeave",["mouseout","mouseover"]);ql("onPointerEnter",["pointerout","pointerover"]);ql("onPointerLeave",["pointerout","pointerover"]);Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Da("onBeforeInput",["compositionend","keypress","textInput","paste"]);Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function P1(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,xO(i,t,void 0,e),e.currentTarget=null}function iT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var u=i[a],c=u.instance,p=u.currentTarget;if(u=u.listener,c!==o&&r.isPropagationStopped())break t;P1(r,u,p),o=c}else for(a=0;a<i.length;a++){if(u=i[a],c=u.instance,p=u.currentTarget,u=u.listener,c!==o&&r.isPropagationStopped())break t;P1(r,u,p),o=c}}}if(ip)throw e=H0,ip=!1,H0=null,e}function Me(e,t){var n=t[Q0];n===void 0&&(n=t[Q0]=new Set);var i=e+"__bubble";n.has(i)||(rT(t,e,2,!1),n.add(i))}function Dy(e,t,n){var i=0;t&&(i|=4),rT(n,e,i,t)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function cf(e){if(!e[Kd]){e[Kd]=!0,fC.forEach(function(n){n!=="selectionchange"&&(kR.has(n)||Dy(n,!1,e),Dy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kd]||(t[Kd]=!0,Dy("selectionchange",!1,t))}}function rT(e,t,n,i){switch(HC(t)){case 1:var r=BO;break;case 4:r=zO;break;default:r=x_}n=r.bind(null,t,n,e),r=void 0,!U0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ly(e,t,n,i,r){var o=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;u!==null;){if(a=aa(u),a===null)return;if(c=a.tag,c===5||c===6){i=o=a;continue t}u=u.parentNode}}i=i.return}TC(function(){var p=o,g=v_(n),y=[];t:{var v=nT.get(e);if(v!==void 0){var b=k_,k=e;switch(e){case"keypress":if(Ah(n)===0)break t;case"keydown":case"keyup":b=tR;break;case"focusin":k="focus",b=Ey;break;case"focusout":k="blur",b=Ey;break;case"beforeblur":case"afterblur":b=Ey;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=E1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=WO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=iR;break;case ZC:case JC:case tT:b=jO;break;case eT:b=sR;break;case"scroll":b=UO;break;case"wheel":b=aR;break;case"copy":case"cut":case"paste":b=qO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=T1}var T=(t&4)!==0,D=!T&&e==="scroll",w=T?v!==null?v+"Capture":null:v;T=[];for(var S=p,C;S!==null;){C=S;var I=C.stateNode;if(C.tag===5&&I!==null&&(C=I,w!==null&&(I=rf(S,w),I!=null&&T.push(ff(S,I,C)))),D)break;S=S.return}0<T.length&&(v=new b(v,k,null,n,g),y.push({event:v,listeners:T}))}}if(!(t&7)){t:{if(v=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",v&&n!==B0&&(k=n.relatedTarget||n.fromElement)&&(aa(k)||k[Ms]))break t;if((b||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,b?(k=n.relatedTarget||n.toElement,b=p,k=k?aa(k):null,k!==null&&(D=La(k),k!==D||k.tag!==5&&k.tag!==6)&&(k=null)):(b=null,k=p),b!==k)){if(T=E1,I="onMouseLeave",w="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(T=T1,I="onPointerLeave",w="onPointerEnter",S="pointer"),D=b==null?v:kl(b),C=k==null?v:kl(k),v=new T(I,S+"leave",b,n,g),v.target=D,v.relatedTarget=C,I=null,aa(g)===p&&(T=new T(w,S+"enter",k,n,g),T.target=C,T.relatedTarget=D,I=T),D=I,b&&k)e:{for(T=b,w=k,S=0,C=T;C;C=el(C))S++;for(C=0,I=w;I;I=el(I))C++;for(;0<S-C;)T=el(T),S--;for(;0<C-S;)w=el(w),C--;for(;S--;){if(T===w||w!==null&&T===w.alternate)break e;T=el(T),w=el(w)}T=null}else T=null;b!==null&&B1(y,v,b,T,!1),k!==null&&D!==null&&B1(y,D,k,T,!0)}}t:{if(v=p?kl(p):window,b=v.nodeName&&v.nodeName.toLowerCase(),b==="select"||b==="input"&&v.type==="file")var L=pR;else if(A1(v))if(qC)L=vR;else{L=mR;var R=gR}else(b=v.nodeName)&&b.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(L=yR);if(L&&(L=L(e,p))){YC(y,L,n,g);break t}R&&R(e,v,p),e==="focusout"&&(R=v._wrapperState)&&R.controlled&&v.type==="number"&&N0(v,"number",v.value)}switch(R=p?kl(p):window,e){case"focusin":(A1(R)||R.contentEditable==="true")&&(xl=R,j0=p,$c=null);break;case"focusout":$c=j0=xl=null;break;case"mousedown":Y0=!0;break;case"contextmenu":case"mouseup":case"dragend":Y0=!1,R1(y,n,g);break;case"selectionchange":if(wR)break;case"keydown":case"keyup":R1(y,n,g)}var F;if(C_)t:{switch(e){case"compositionstart":var V="onCompositionStart";break t;case"compositionend":V="onCompositionEnd";break t;case"compositionupdate":V="onCompositionUpdate";break t}V=void 0}else wl?$C(e,n)&&(V="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(VC&&n.locale!=="ko"&&(wl||V!=="onCompositionStart"?V==="onCompositionEnd"&&wl&&(F=WC()):(ho=g,S_="value"in ho?ho.value:ho.textContent,wl=!0)),R=lp(p,V),0<R.length&&(V=new C1(V,e,null,n,g),y.push({event:V,listeners:R}),F?V.data=F:(F=jC(n),F!==null&&(V.data=F)))),(F=uR?cR(e,n):fR(e,n))&&(p=lp(p,"onBeforeInput"),0<p.length&&(g=new C1("onBeforeInput","beforeinput",null,n,g),y.push({event:g,listeners:p}),g.data=F))}iT(y,t)})}function ff(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lp(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=rf(e,n),o!=null&&i.unshift(ff(e,o,r)),o=rf(e,t),o!=null&&i.push(ff(e,o,r))),e=e.return}return i}function el(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function B1(e,t,n,i,r){for(var o=t._reactName,a=[];n!==null&&n!==i;){var u=n,c=u.alternate,p=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&p!==null&&(u=p,r?(c=rf(n,o),c!=null&&a.unshift(ff(n,c,u))):r||(c=rf(n,o),c!=null&&a.push(ff(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var ER=/\r\n?/g,CR=/\u0000|\uFFFD/g;function z1(e){return(typeof e=="string"?e:""+e).replace(ER,`
`).replace(CR,"")}function Gd(e,t,n){if(t=z1(t),z1(e)!==t&&n)throw Error(lt(425))}function up(){}var q0=null,K0=null;function G0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var X0=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,U1=typeof Promise=="function"?Promise:void 0,MR=typeof queueMicrotask=="function"?queueMicrotask:typeof U1<"u"?function(e){return U1.resolve(null).then(e).catch(IR)}:X0;function IR(e){setTimeout(function(){throw e})}function Ny(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),af(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);af(t)}function bo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function H1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pu=Math.random().toString(36).slice(2),Nr="__reactFiber$"+pu,df="__reactProps$"+pu,Ms="__reactContainer$"+pu,Q0="__reactEvents$"+pu,AR="__reactListeners$"+pu,DR="__reactHandles$"+pu;function aa(e){var t=e[Nr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ms]||n[Nr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=H1(e);e!==null;){if(n=e[Nr])return n;e=H1(e)}return t}e=n,n=e.parentNode}return null}function Hf(e){return e=e[Nr]||e[Ms],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(lt(33))}function Tg(e){return e[df]||null}var Z0=[],El=-1;function Po(e){return{current:e}}function Ie(e){0>El||(e.current=Z0[El],Z0[El]=null,El--)}function Se(e,t){El++,Z0[El]=e.current,e.current=t}var Mo={},Bn=Po(Mo),ci=Po(!1),ba=Mo;function Kl(e,t){var n=e.type.contextTypes;if(!n)return Mo;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function fi(e){return e=e.childContextTypes,e!=null}function cp(){Ie(ci),Ie(Bn)}function W1(e,t,n){if(Bn.current!==Mo)throw Error(lt(168));Se(Bn,t),Se(ci,n)}function sT(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(lt(108,gO(e)||"Unknown",r));return Ue({},n,i)}function fp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mo,ba=Bn.current,Se(Bn,e),Se(ci,ci.current),!0}function V1(e,t,n){var i=e.stateNode;if(!i)throw Error(lt(169));n?(e=sT(e,t,ba),i.__reactInternalMemoizedMergedChildContext=e,Ie(ci),Ie(Bn),Se(Bn,e)):Ie(ci),Se(ci,n)}var ms=null,Mg=!1,Oy=!1;function oT(e){ms===null?ms=[e]:ms.push(e)}function LR(e){Mg=!0,oT(e)}function Bo(){if(!Oy&&ms!==null){Oy=!0;var e=0,t=pe;try{var n=ms;for(pe=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ms=null,Mg=!1}catch(r){throw ms!==null&&(ms=ms.slice(e+1)),DC(__,Bo),r}finally{pe=t,Oy=!1}}return null}var Cl=[],Tl=0,dp=null,hp=0,Fi=[],Pi=0,wa=null,bs=1,ws="";function na(e,t){Cl[Tl++]=hp,Cl[Tl++]=dp,dp=e,hp=t}function aT(e,t,n){Fi[Pi++]=bs,Fi[Pi++]=ws,Fi[Pi++]=wa,wa=e;var i=bs;e=ws;var r=32-dr(i)-1;i&=~(1<<r),n+=1;var o=32-dr(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,bs=1<<32-dr(t)+r|n<<r|i,ws=o+e}else bs=1<<o|n<<r|i,ws=e}function M_(e){e.return!==null&&(na(e,1),aT(e,1,0))}function I_(e){for(;e===dp;)dp=Cl[--Tl],Cl[Tl]=null,hp=Cl[--Tl],Cl[Tl]=null;for(;e===wa;)wa=Fi[--Pi],Fi[Pi]=null,ws=Fi[--Pi],Fi[Pi]=null,bs=Fi[--Pi],Fi[Pi]=null}var Si=null,xi=null,Ne=!1,ur=null;function lT(e,t){var n=Wi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Si=e,xi=bo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Si=e,xi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wa!==null?{id:bs,overflow:ws}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Si=e,xi=null,!0):!1;default:return!1}}function J0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tv(e){if(Ne){var t=xi;if(t){var n=t;if(!$1(e,t)){if(J0(e))throw Error(lt(418));t=bo(n.nextSibling);var i=Si;t&&$1(e,t)?lT(i,n):(e.flags=e.flags&-4097|2,Ne=!1,Si=e)}}else{if(J0(e))throw Error(lt(418));e.flags=e.flags&-4097|2,Ne=!1,Si=e}}}function j1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Si=e}function Xd(e){if(e!==Si)return!1;if(!Ne)return j1(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!G0(e.type,e.memoizedProps)),t&&(t=xi)){if(J0(e))throw uT(),Error(lt(418));for(;t;)lT(e,t),t=bo(t.nextSibling)}if(j1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(lt(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xi=bo(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xi=null}}else xi=Si?bo(e.stateNode.nextSibling):null;return!0}function uT(){for(var e=xi;e;)e=bo(e.nextSibling)}function Gl(){xi=Si=null,Ne=!1}function A_(e){ur===null?ur=[e]:ur.push(e)}var NR=Ns.ReactCurrentBatchConfig;function ac(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(lt(309));var i=n.stateNode}if(!i)throw Error(lt(147,e));var r=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var u=r.refs;a===null?delete u[o]:u[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(lt(284));if(!n._owner)throw Error(lt(290,e))}return e}function Qd(e,t){throw e=Object.prototype.toString.call(t),Error(lt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Y1(e){var t=e._init;return t(e._payload)}function cT(e){function t(w,S){if(e){var C=w.deletions;C===null?(w.deletions=[S],w.flags|=16):C.push(S)}}function n(w,S){if(!e)return null;for(;S!==null;)t(w,S),S=S.sibling;return null}function i(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function r(w,S){return w=ko(w,S),w.index=0,w.sibling=null,w}function o(w,S,C){return w.index=C,e?(C=w.alternate,C!==null?(C=C.index,C<S?(w.flags|=2,S):C):(w.flags|=2,S)):(w.flags|=1048576,S)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function u(w,S,C,I){return S===null||S.tag!==6?(S=Hy(C,w.mode,I),S.return=w,S):(S=r(S,C),S.return=w,S)}function c(w,S,C,I){var L=C.type;return L===bl?g(w,S,C.props.children,I,C.key):S!==null&&(S.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===io&&Y1(L)===S.type)?(I=r(S,C.props),I.ref=ac(w,S,C),I.return=w,I):(I=Ph(C.type,C.key,C.props,null,w.mode,I),I.ref=ac(w,S,C),I.return=w,I)}function p(w,S,C,I){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=Wy(C,w.mode,I),S.return=w,S):(S=r(S,C.children||[]),S.return=w,S)}function g(w,S,C,I,L){return S===null||S.tag!==7?(S=pa(C,w.mode,I,L),S.return=w,S):(S=r(S,C),S.return=w,S)}function y(w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Hy(""+S,w.mode,C),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ud:return C=Ph(S.type,S.key,S.props,null,w.mode,C),C.ref=ac(w,null,S),C.return=w,C;case _l:return S=Wy(S,w.mode,C),S.return=w,S;case io:var I=S._init;return y(w,I(S._payload),C)}if(Sc(S)||nc(S))return S=pa(S,w.mode,C,null),S.return=w,S;Qd(w,S)}return null}function v(w,S,C,I){var L=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return L!==null?null:u(w,S,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ud:return C.key===L?c(w,S,C,I):null;case _l:return C.key===L?p(w,S,C,I):null;case io:return L=C._init,v(w,S,L(C._payload),I)}if(Sc(C)||nc(C))return L!==null?null:g(w,S,C,I,null);Qd(w,C)}return null}function b(w,S,C,I,L){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(C)||null,u(S,w,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ud:return w=w.get(I.key===null?C:I.key)||null,c(S,w,I,L);case _l:return w=w.get(I.key===null?C:I.key)||null,p(S,w,I,L);case io:var R=I._init;return b(w,S,C,R(I._payload),L)}if(Sc(I)||nc(I))return w=w.get(C)||null,g(S,w,I,L,null);Qd(S,I)}return null}function k(w,S,C,I){for(var L=null,R=null,F=S,V=S=0,j=null;F!==null&&V<C.length;V++){F.index>V?(j=F,F=null):j=F.sibling;var U=v(w,F,C[V],I);if(U===null){F===null&&(F=j);break}e&&F&&U.alternate===null&&t(w,F),S=o(U,S,V),R===null?L=U:R.sibling=U,R=U,F=j}if(V===C.length)return n(w,F),Ne&&na(w,V),L;if(F===null){for(;V<C.length;V++)F=y(w,C[V],I),F!==null&&(S=o(F,S,V),R===null?L=F:R.sibling=F,R=F);return Ne&&na(w,V),L}for(F=i(w,F);V<C.length;V++)j=b(F,w,V,C[V],I),j!==null&&(e&&j.alternate!==null&&F.delete(j.key===null?V:j.key),S=o(j,S,V),R===null?L=j:R.sibling=j,R=j);return e&&F.forEach(function($){return t(w,$)}),Ne&&na(w,V),L}function T(w,S,C,I){var L=nc(C);if(typeof L!="function")throw Error(lt(150));if(C=L.call(C),C==null)throw Error(lt(151));for(var R=L=null,F=S,V=S=0,j=null,U=C.next();F!==null&&!U.done;V++,U=C.next()){F.index>V?(j=F,F=null):j=F.sibling;var $=v(w,F,U.value,I);if($===null){F===null&&(F=j);break}e&&F&&$.alternate===null&&t(w,F),S=o($,S,V),R===null?L=$:R.sibling=$,R=$,F=j}if(U.done)return n(w,F),Ne&&na(w,V),L;if(F===null){for(;!U.done;V++,U=C.next())U=y(w,U.value,I),U!==null&&(S=o(U,S,V),R===null?L=U:R.sibling=U,R=U);return Ne&&na(w,V),L}for(F=i(w,F);!U.done;V++,U=C.next())U=b(F,w,V,U.value,I),U!==null&&(e&&U.alternate!==null&&F.delete(U.key===null?V:U.key),S=o(U,S,V),R===null?L=U:R.sibling=U,R=U);return e&&F.forEach(function(B){return t(w,B)}),Ne&&na(w,V),L}function D(w,S,C,I){if(typeof C=="object"&&C!==null&&C.type===bl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Ud:t:{for(var L=C.key,R=S;R!==null;){if(R.key===L){if(L=C.type,L===bl){if(R.tag===7){n(w,R.sibling),S=r(R,C.props.children),S.return=w,w=S;break t}}else if(R.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===io&&Y1(L)===R.type){n(w,R.sibling),S=r(R,C.props),S.ref=ac(w,R,C),S.return=w,w=S;break t}n(w,R);break}else t(w,R);R=R.sibling}C.type===bl?(S=pa(C.props.children,w.mode,I,C.key),S.return=w,w=S):(I=Ph(C.type,C.key,C.props,null,w.mode,I),I.ref=ac(w,S,C),I.return=w,w=I)}return a(w);case _l:t:{for(R=C.key;S!==null;){if(S.key===R)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(w,S.sibling),S=r(S,C.children||[]),S.return=w,w=S;break t}else{n(w,S);break}else t(w,S);S=S.sibling}S=Wy(C,w.mode,I),S.return=w,w=S}return a(w);case io:return R=C._init,D(w,S,R(C._payload),I)}if(Sc(C))return k(w,S,C,I);if(nc(C))return T(w,S,C,I);Qd(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(w,S.sibling),S=r(S,C),S.return=w,w=S):(n(w,S),S=Hy(C,w.mode,I),S.return=w,w=S),a(w)):n(w,S)}return D}var Xl=cT(!0),fT=cT(!1),pp=Po(null),gp=null,Ml=null,D_=null;function L_(){D_=Ml=gp=null}function N_(e){var t=pp.current;Ie(pp),e._currentValue=t}function ev(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Pl(e,t){gp=e,D_=Ml=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(li=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(D_!==e)if(e={context:e,memoizedValue:t,next:null},Ml===null){if(gp===null)throw Error(lt(308));Ml=e,gp.dependencies={lanes:0,firstContext:e}}else Ml=Ml.next=e;return t}var la=null;function O_(e){la===null?la=[e]:la.push(e)}function dT(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,O_(t)):(n.next=r.next,r.next=n),t.interleaved=n,Is(e,i)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ro=!1;function R_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wo(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,te&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Is(e,n)}return r=i.interleaved,r===null?(t.next=t,O_(i)):(t.next=r.next,r.next=t),i.interleaved=t,Is(e,n)}function Dh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,b_(e,n)}}function q1(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=t:o=o.next=t}else r=o=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function mp(e,t,n,i){var r=e.updateQueue;ro=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,p=c.next;c.next=null,a===null?o=p:a.next=p,a=c;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==a&&(u===null?g.firstBaseUpdate=p:u.next=p,g.lastBaseUpdate=c))}if(o!==null){var y=r.baseState;a=0,g=p=c=null,u=o;do{var v=u.lane,b=u.eventTime;if((i&v)===v){g!==null&&(g=g.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var k=e,T=u;switch(v=t,b=n,T.tag){case 1:if(k=T.payload,typeof k=="function"){y=k.call(b,y,v);break t}y=k;break t;case 3:k.flags=k.flags&-65537|128;case 0:if(k=T.payload,v=typeof k=="function"?k.call(b,y,v):k,v==null)break t;y=Ue({},y,v);break t;case 2:ro=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,v=r.effects,v===null?r.effects=[u]:v.push(u))}else b={eventTime:b,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(p=g=b,c=y):g=g.next=b,a|=v;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;v=u,u=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(1);if(g===null&&(c=y),r.baseState=c,r.firstBaseUpdate=p,r.lastBaseUpdate=g,t=r.shared.interleaved,t!==null){r=t;do a|=r.lane,r=r.next;while(r!==t)}else o===null&&(r.shared.lanes=0);Sa|=a,e.lanes=a,e.memoizedState=y}}function K1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(lt(191,r));r.call(i)}}}var Wf={},Hr=Po(Wf),hf=Po(Wf),pf=Po(Wf);function ua(e){if(e===Wf)throw Error(lt(174));return e}function F_(e,t){switch(Se(pf,t),Se(hf,e),Se(Hr,Wf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:R0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=R0(t,e)}Ie(Hr),Se(Hr,t)}function Ql(){Ie(Hr),Ie(hf),Ie(pf)}function pT(e){ua(pf.current);var t=ua(Hr.current),n=R0(t,e.type);t!==n&&(Se(hf,e),Se(Hr,n))}function P_(e){hf.current===e&&(Ie(Hr),Ie(hf))}var Pe=Po(0);function yp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ry=[];function B_(){for(var e=0;e<Ry.length;e++)Ry[e]._workInProgressVersionPrimary=null;Ry.length=0}var Lh=Ns.ReactCurrentDispatcher,Fy=Ns.ReactCurrentBatchConfig,xa=0,ze=null,un=null,mn=null,vp=!1,jc=!1,gf=0,OR=0;function Ln(){throw Error(lt(321))}function z_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mr(e[n],t[n]))return!1;return!0}function U_(e,t,n,i,r,o){if(xa=o,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lh.current=e===null||e.memoizedState===null?BR:zR,e=n(i,r),jc){o=0;do{if(jc=!1,gf=0,25<=o)throw Error(lt(301));o+=1,mn=un=null,t.updateQueue=null,Lh.current=UR,e=n(i,r)}while(jc)}if(Lh.current=_p,t=un!==null&&un.next!==null,xa=0,mn=un=ze=null,vp=!1,t)throw Error(lt(300));return e}function H_(){var e=gf!==0;return gf=0,e}function Ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?ze.memoizedState=mn=e:mn=mn.next=e,mn}function qi(){if(un===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=un.next;var t=mn===null?ze.memoizedState:mn.next;if(t!==null)mn=t,un=e;else{if(e===null)throw Error(lt(310));un=e,e={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},mn===null?ze.memoizedState=mn=e:mn=mn.next=e}return mn}function mf(e,t){return typeof t=="function"?t(e):t}function Py(e){var t=qi(),n=t.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=e;var i=un,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var u=a=null,c=null,p=o;do{var g=p.lane;if((xa&g)===g)c!==null&&(c=c.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:e(i,p.action);else{var y={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};c===null?(u=c=y,a=i):c=c.next=y,ze.lanes|=g,Sa|=g}p=p.next}while(p!==null&&p!==o);c===null?a=i:c.next=u,mr(i,t.memoizedState)||(li=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do o=r.lane,ze.lanes|=o,Sa|=o,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function By(e){var t=qi(),n=t.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=e(o,a.action),a=a.next;while(a!==r);mr(o,t.memoizedState)||(li=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function gT(){}function mT(e,t){var n=ze,i=qi(),r=t(),o=!mr(i.memoizedState,r);if(o&&(i.memoizedState=r,li=!0),i=i.queue,W_(_T.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,yf(9,vT.bind(null,n,i,r,t),void 0,null),_n===null)throw Error(lt(349));xa&30||yT(n,t,r)}return r}function yT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vT(e,t,n,i){t.value=n,t.getSnapshot=i,bT(t)&&wT(e)}function _T(e,t,n){return n(function(){bT(t)&&wT(e)})}function bT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mr(e,n)}catch{return!0}}function wT(e){var t=Is(e,1);t!==null&&hr(t,e,1,-1)}function G1(e){var t=Ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mf,lastRenderedState:e},t.queue=e,e=e.dispatch=PR.bind(null,ze,e),[t.memoizedState,e]}function yf(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function xT(){return qi().memoizedState}function Nh(e,t,n,i){var r=Ar();ze.flags|=e,r.memoizedState=yf(1|t,n,void 0,i===void 0?null:i)}function Ig(e,t,n,i){var r=qi();i=i===void 0?null:i;var o=void 0;if(un!==null){var a=un.memoizedState;if(o=a.destroy,i!==null&&z_(i,a.deps)){r.memoizedState=yf(t,n,o,i);return}}ze.flags|=e,r.memoizedState=yf(1|t,n,o,i)}function X1(e,t){return Nh(8390656,8,e,t)}function W_(e,t){return Ig(2048,8,e,t)}function ST(e,t){return Ig(4,2,e,t)}function kT(e,t){return Ig(4,4,e,t)}function ET(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CT(e,t,n){return n=n!=null?n.concat([e]):null,Ig(4,4,ET.bind(null,t,e),n)}function V_(){}function TT(e,t){var n=qi();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&z_(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function MT(e,t){var n=qi();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&z_(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function IT(e,t,n){return xa&21?(mr(n,t)||(n=OC(),ze.lanes|=n,Sa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,li=!0),e.memoizedState=n)}function RR(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var i=Fy.transition;Fy.transition={};try{e(!1),t()}finally{pe=n,Fy.transition=i}}function AT(){return qi().memoizedState}function FR(e,t,n){var i=So(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},DT(e))LT(t,n);else if(n=dT(e,t,n,i),n!==null){var r=Xn();hr(n,e,i,r),NT(n,t,i)}}function PR(e,t,n){var i=So(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(DT(e))LT(t,r);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,u=o(a,n);if(r.hasEagerState=!0,r.eagerState=u,mr(u,a)){var c=t.interleaved;c===null?(r.next=r,O_(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=dT(e,t,r,i),n!==null&&(r=Xn(),hr(n,e,i,r),NT(n,t,i))}}function DT(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function LT(e,t){jc=vp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function NT(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,b_(e,n)}}var _p={readContext:Yi,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},BR={readContext:Yi,useCallback:function(e,t){return Ar().memoizedState=[e,t===void 0?null:t],e},useContext:Yi,useEffect:X1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Nh(4194308,4,ET.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nh(4,2,e,t)},useMemo:function(e,t){var n=Ar();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ar();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=FR.bind(null,ze,e),[i.memoizedState,e]},useRef:function(e){var t=Ar();return e={current:e},t.memoizedState=e},useState:G1,useDebugValue:V_,useDeferredValue:function(e){return Ar().memoizedState=e},useTransition:function(){var e=G1(!1),t=e[0];return e=RR.bind(null,e[1]),Ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ze,r=Ar();if(Ne){if(n===void 0)throw Error(lt(407));n=n()}else{if(n=t(),_n===null)throw Error(lt(349));xa&30||yT(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,X1(_T.bind(null,i,o,e),[e]),i.flags|=2048,yf(9,vT.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Ar(),t=_n.identifierPrefix;if(Ne){var n=ws,i=bs;n=(i&~(1<<32-dr(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=gf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=OR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zR={readContext:Yi,useCallback:TT,useContext:Yi,useEffect:W_,useImperativeHandle:CT,useInsertionEffect:ST,useLayoutEffect:kT,useMemo:MT,useReducer:Py,useRef:xT,useState:function(){return Py(mf)},useDebugValue:V_,useDeferredValue:function(e){var t=qi();return IT(t,un.memoizedState,e)},useTransition:function(){var e=Py(mf)[0],t=qi().memoizedState;return[e,t]},useMutableSource:gT,useSyncExternalStore:mT,useId:AT,unstable_isNewReconciler:!1},UR={readContext:Yi,useCallback:TT,useContext:Yi,useEffect:W_,useImperativeHandle:CT,useInsertionEffect:ST,useLayoutEffect:kT,useMemo:MT,useReducer:By,useRef:xT,useState:function(){return By(mf)},useDebugValue:V_,useDeferredValue:function(e){var t=qi();return un===null?t.memoizedState=e:IT(t,un.memoizedState,e)},useTransition:function(){var e=By(mf)[0],t=qi().memoizedState;return[e,t]},useMutableSource:gT,useSyncExternalStore:mT,useId:AT,unstable_isNewReconciler:!1};function sr(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nv(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ag={isMounted:function(e){return(e=e._reactInternals)?La(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Xn(),r=So(e),o=Es(i,r);o.payload=t,n!=null&&(o.callback=n),t=wo(e,o,r),t!==null&&(hr(t,e,r,i),Dh(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Xn(),r=So(e),o=Es(i,r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=wo(e,o,r),t!==null&&(hr(t,e,r,i),Dh(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xn(),i=So(e),r=Es(n,i);r.tag=2,t!=null&&(r.callback=t),t=wo(e,r,i),t!==null&&(hr(t,e,i,n),Dh(t,e,i))}};function Q1(e,t,n,i,r,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,a):t.prototype&&t.prototype.isPureReactComponent?!uf(n,i)||!uf(r,o):!0}function OT(e,t,n){var i=!1,r=Mo,o=t.contextType;return typeof o=="object"&&o!==null?o=Yi(o):(r=fi(t)?ba:Bn.current,i=t.contextTypes,o=(i=i!=null)?Kl(e,r):Mo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ag,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Z1(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ag.enqueueReplaceState(t,t.state,null)}function iv(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},R_(e);var o=t.contextType;typeof o=="object"&&o!==null?r.context=Yi(o):(o=fi(t)?ba:Bn.current,r.context=Kl(e,o)),r.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(nv(e,t,o,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Ag.enqueueReplaceState(r,r.state,null),mp(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Zl(e,t){try{var n="",i=t;do n+=pO(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:r,digest:null}}function zy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var HR=typeof WeakMap=="function"?WeakMap:Map;function RT(e,t,n){n=Es(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){wp||(wp=!0,pv=i),rv(e,t)},n}function FT(e,t,n){n=Es(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){rv(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){rv(e,t),typeof i!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function J1(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new HR;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=eF.bind(null,e,t,n),t.then(e,e))}function tS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eS(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Es(-1,1),t.tag=2,wo(n,t,1))),n.lanes|=1),e)}var WR=Ns.ReactCurrentOwner,li=!1;function Yn(e,t,n,i){t.child=e===null?fT(t,null,n,i):Xl(t,e.child,n,i)}function nS(e,t,n,i,r){n=n.render;var o=t.ref;return Pl(t,r),i=U_(e,t,n,i,o,r),n=H_(),e!==null&&!li?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,As(e,t,r)):(Ne&&n&&M_(t),t.flags|=1,Yn(e,t,i,r),t.child)}function iS(e,t,n,i,r){if(e===null){var o=n.type;return typeof o=="function"&&!Q_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,PT(e,t,o,i,r)):(e=Ph(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:uf,n(a,i)&&e.ref===t.ref)return As(e,t,r)}return t.flags|=1,e=ko(o,i),e.ref=t.ref,e.return=t,t.child=e}function PT(e,t,n,i,r){if(e!==null){var o=e.memoizedProps;if(uf(o,i)&&e.ref===t.ref)if(li=!1,t.pendingProps=i=o,(e.lanes&r)!==0)e.flags&131072&&(li=!0);else return t.lanes=e.lanes,As(e,t,r)}return sv(e,t,n,i,r)}function BT(e,t,n){var i=t.pendingProps,r=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Al,_i),_i|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Al,_i),_i|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Se(Al,_i),_i|=i}else o!==null?(i=o.baseLanes|n,t.memoizedState=null):i=n,Se(Al,_i),_i|=i;return Yn(e,t,r,n),t.child}function zT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sv(e,t,n,i,r){var o=fi(n)?ba:Bn.current;return o=Kl(t,o),Pl(t,r),n=U_(e,t,n,i,o,r),i=H_(),e!==null&&!li?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,As(e,t,r)):(Ne&&i&&M_(t),t.flags|=1,Yn(e,t,n,r),t.child)}function rS(e,t,n,i,r){if(fi(n)){var o=!0;fp(t)}else o=!1;if(Pl(t,r),t.stateNode===null)Oh(e,t),OT(t,n,i),iv(t,n,i,r),i=!0;else if(e===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var c=a.context,p=n.contextType;typeof p=="object"&&p!==null?p=Yi(p):(p=fi(n)?ba:Bn.current,p=Kl(t,p));var g=n.getDerivedStateFromProps,y=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||c!==p)&&Z1(t,a,i,p),ro=!1;var v=t.memoizedState;a.state=v,mp(t,i,a,r),c=t.memoizedState,u!==i||v!==c||ci.current||ro?(typeof g=="function"&&(nv(t,n,g,i),c=t.memoizedState),(u=ro||Q1(t,n,u,i,v,c,p))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=p,i=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,hT(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:sr(t.type,u),a.props=p,y=t.pendingProps,v=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yi(c):(c=fi(n)?ba:Bn.current,c=Kl(t,c));var b=n.getDerivedStateFromProps;(g=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==y||v!==c)&&Z1(t,a,i,c),ro=!1,v=t.memoizedState,a.state=v,mp(t,i,a,r);var k=t.memoizedState;u!==y||v!==k||ci.current||ro?(typeof b=="function"&&(nv(t,n,b,i),k=t.memoizedState),(p=ro||Q1(t,n,p,i,v,k,c)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,k,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,k,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=k),a.props=i,a.state=k,a.context=c,i=p):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),i=!1)}return ov(e,t,n,i,o,r)}function ov(e,t,n,i,r,o){zT(e,t);var a=(t.flags&128)!==0;if(!i&&!a)return r&&V1(t,n,!1),As(e,t,o);i=t.stateNode,WR.current=t;var u=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&a?(t.child=Xl(t,e.child,null,o),t.child=Xl(t,null,u,o)):Yn(e,t,u,o),t.memoizedState=i.state,r&&V1(t,n,!0),t.child}function UT(e){var t=e.stateNode;t.pendingContext?W1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&W1(e,t.context,!1),F_(e,t.containerInfo)}function sS(e,t,n,i,r){return Gl(),A_(r),t.flags|=256,Yn(e,t,n,i),t.child}var av={dehydrated:null,treeContext:null,retryLane:0};function lv(e){return{baseLanes:e,cachePool:null,transitions:null}}function HT(e,t,n){var i=t.pendingProps,r=Pe.current,o=!1,a=(t.flags&128)!==0,u;if((u=a)||(u=e!==null&&e.memoizedState===null?!1:(r&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Se(Pe,r&1),e===null)return tv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ng(a,i,0,null),e=pa(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=lv(n),t.memoizedState=av,e):$_(t,a));if(r=e.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return VR(e,t,a,i,u,r,n);if(o){o=i.fallback,a=t.mode,r=e.child,u=r.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=c,t.deletions=null):(i=ko(r,c),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?o=ko(u,o):(o=pa(o,a,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,a=e.child.memoizedState,a=a===null?lv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=av,i}return o=e.child,e=o.sibling,i=ko(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function $_(e,t){return t=Ng({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zd(e,t,n,i){return i!==null&&A_(i),Xl(t,e.child,null,n),e=$_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function VR(e,t,n,i,r,o,a){if(n)return t.flags&256?(t.flags&=-257,i=zy(Error(lt(422))),Zd(e,t,a,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=Ng({mode:"visible",children:i.children},r,0,null),o=pa(o,r,a,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&Xl(t,e.child,null,a),t.child.memoizedState=lv(a),t.memoizedState=av,o);if(!(t.mode&1))return Zd(e,t,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(lt(419)),i=zy(o,i,void 0),Zd(e,t,a,i)}if(u=(a&e.childLanes)!==0,li||u){if(i=_n,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Is(e,r),hr(i,e,r,-1))}return X_(),i=zy(Error(lt(421))),Zd(e,t,a,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=nF.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,xi=bo(r.nextSibling),Si=t,Ne=!0,ur=null,e!==null&&(Fi[Pi++]=bs,Fi[Pi++]=ws,Fi[Pi++]=wa,bs=e.id,ws=e.overflow,wa=t),t=$_(t,i.children),t.flags|=4096,t)}function oS(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ev(e.return,t,n)}function Uy(e,t,n,i,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function WT(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Yn(e,t,i.children,n),i=Pe.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oS(e,n,t);else if(e.tag===19)oS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Se(Pe,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&yp(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Uy(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&yp(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Uy(t,!0,n,null,o);break;case"together":Uy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function As(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(lt(153));if(t.child!==null){for(e=t.child,n=ko(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ko(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $R(e,t,n){switch(t.tag){case 3:UT(t),Gl();break;case 5:pT(t);break;case 1:fi(t.type)&&fp(t);break;case 4:F_(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Se(pp,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Se(Pe,Pe.current&1),t.flags|=128,null):n&t.child.childLanes?HT(e,t,n):(Se(Pe,Pe.current&1),e=As(e,t,n),e!==null?e.sibling:null);Se(Pe,Pe.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return WT(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Se(Pe,Pe.current),i)break;return null;case 22:case 23:return t.lanes=0,BT(e,t,n)}return As(e,t,n)}var VT,uv,$T,jT;VT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uv=function(){};$T=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,ua(Hr.current);var o=null;switch(n){case"input":r=D0(e,r),i=D0(e,i),o=[];break;case"select":r=Ue({},r,{value:void 0}),i=Ue({},i,{value:void 0}),o=[];break;case"textarea":r=O0(e,r),i=O0(e,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=up)}F0(n,i);var a;n=null;for(p in r)if(!i.hasOwnProperty(p)&&r.hasOwnProperty(p)&&r[p]!=null)if(p==="style"){var u=r[p];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ef.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in i){var c=i[p];if(u=r!=null?r[p]:void 0,i.hasOwnProperty(p)&&c!==u&&(c!=null||u!=null))if(p==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(p,n)),n=c;else p==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(p,c)):p==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(p,""+c):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ef.hasOwnProperty(p)?(c!=null&&p==="onScroll"&&Me("scroll",e),o||u===c||(o=[])):(o=o||[]).push(p,c))}n&&(o=o||[]).push("style",n);var p=o;(t.updateQueue=p)&&(t.flags|=4)}};jT=function(e,t,n,i){n!==i&&(t.flags|=4)};function lc(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function jR(e,t,n){var i=t.pendingProps;switch(I_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(t),null;case 1:return fi(t.type)&&cp(),Nn(t),null;case 3:return i=t.stateNode,Ql(),Ie(ci),Ie(Bn),B_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Xd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ur!==null&&(yv(ur),ur=null))),uv(e,t),Nn(t),null;case 5:P_(t);var r=ua(pf.current);if(n=t.type,e!==null&&t.stateNode!=null)$T(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(lt(166));return Nn(t),null}if(e=ua(Hr.current),Xd(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[Nr]=t,i[df]=o,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(r=0;r<Ec.length;r++)Me(Ec[r],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":g1(i,o),Me("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Me("invalid",i);break;case"textarea":y1(i,o),Me("invalid",i)}F0(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&Gd(i.textContent,u,e),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Gd(i.textContent,u,e),r=["children",""+u]):ef.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Me("scroll",i)}switch(n){case"input":Hd(i),m1(i,o,!0);break;case"textarea":Hd(i),v1(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=up)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_C(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=a.createElement(n,{is:i.is}):(e=a.createElement(n),n==="select"&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,n),e[Nr]=t,e[df]=i,VT(e,t,!1,!1),t.stateNode=e;t:{switch(a=P0(n,i),n){case"dialog":Me("cancel",e),Me("close",e),r=i;break;case"iframe":case"object":case"embed":Me("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ec.length;r++)Me(Ec[r],e);r=i;break;case"source":Me("error",e),r=i;break;case"img":case"image":case"link":Me("error",e),Me("load",e),r=i;break;case"details":Me("toggle",e),r=i;break;case"input":g1(e,i),r=D0(e,i),Me("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Ue({},i,{value:void 0}),Me("invalid",e);break;case"textarea":y1(e,i),r=O0(e,i),Me("invalid",e);break;default:r=i}F0(n,r),u=r;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?xC(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bC(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&nf(e,c):typeof c=="number"&&nf(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ef.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Me("scroll",e):c!=null&&p_(e,o,c,a))}switch(n){case"input":Hd(e),m1(e,i,!1);break;case"textarea":Hd(e),v1(e);break;case"option":i.value!=null&&e.setAttribute("value",""+To(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?Nl(e,!!i.multiple,o,!1):i.defaultValue!=null&&Nl(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=up)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nn(t),null;case 6:if(e&&t.stateNode!=null)jT(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(lt(166));if(n=ua(pf.current),ua(Hr.current),Xd(t)){if(i=t.stateNode,n=t.memoizedProps,i[Nr]=t,(o=i.nodeValue!==n)&&(e=Si,e!==null))switch(e.tag){case 3:Gd(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gd(i.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Nr]=t,t.stateNode=i}return Nn(t),null;case 13:if(Ie(Pe),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&xi!==null&&t.mode&1&&!(t.flags&128))uT(),Gl(),t.flags|=98560,o=!1;else if(o=Xd(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(lt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(lt(317));o[Nr]=t}else Gl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nn(t),o=!1}else ur!==null&&(yv(ur),ur=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?dn===0&&(dn=3):X_())),t.updateQueue!==null&&(t.flags|=4),Nn(t),null);case 4:return Ql(),uv(e,t),e===null&&cf(t.stateNode.containerInfo),Nn(t),null;case 10:return N_(t.type._context),Nn(t),null;case 17:return fi(t.type)&&cp(),Nn(t),null;case 19:if(Ie(Pe),o=t.memoizedState,o===null)return Nn(t),null;if(i=(t.flags&128)!==0,a=o.rendering,a===null)if(i)lc(o,!1);else{if(dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=yp(e),a!==null){for(t.flags|=128,lc(o,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)o=n,e=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Pe,Pe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Xe()>Jl&&(t.flags|=128,i=!0,lc(o,!1),t.lanes=4194304)}else{if(!i)if(e=yp(a),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ne)return Nn(t),null}else 2*Xe()-o.renderingStartTime>Jl&&n!==1073741824&&(t.flags|=128,i=!0,lc(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Pe.current,Se(Pe,i?n&1|2:n&1),t):(Nn(t),null);case 22:case 23:return G_(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?_i&1073741824&&(Nn(t),t.subtreeFlags&6&&(t.flags|=8192)):Nn(t),null;case 24:return null;case 25:return null}throw Error(lt(156,t.tag))}function YR(e,t){switch(I_(t),t.tag){case 1:return fi(t.type)&&cp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ql(),Ie(ci),Ie(Bn),B_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return P_(t),null;case 13:if(Ie(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(lt(340));Gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Pe),null;case 4:return Ql(),null;case 10:return N_(t.type._context),null;case 22:case 23:return G_(),null;case 24:return null;default:return null}}var Jd=!1,Rn=!1,qR=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Il(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){je(e,t,i)}else n.current=null}function cv(e,t,n){try{n()}catch(i){je(e,t,i)}}var aS=!1;function KR(e,t){if(q0=op,e=XC(),T_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break t}var a=0,u=-1,c=-1,p=0,g=0,y=e,v=null;e:for(;;){for(var b;y!==n||r!==0&&y.nodeType!==3||(u=a+r),y!==o||i!==0&&y.nodeType!==3||(c=a+i),y.nodeType===3&&(a+=y.nodeValue.length),(b=y.firstChild)!==null;)v=y,y=b;for(;;){if(y===e)break e;if(v===n&&++p===r&&(u=a),v===o&&++g===i&&(c=a),(b=y.nextSibling)!==null)break;y=v,v=y.parentNode}y=b}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(K0={focusedElem:e,selectionRange:n},op=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){t=gt;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var T=k.memoizedProps,D=k.memoizedState,w=t.stateNode,S=w.getSnapshotBeforeUpdate(t.elementType===t.type?T:sr(t.type,T),D);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(I){je(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}return k=aS,aS=!1,k}function Yc(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,o!==void 0&&cv(t,n,o)}r=r.next}while(r!==i)}}function Dg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function fv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function YT(e){var t=e.alternate;t!==null&&(e.alternate=null,YT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nr],delete t[df],delete t[Q0],delete t[AR],delete t[DR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qT(e){return e.tag===5||e.tag===3||e.tag===4}function lS(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||qT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dv(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=up));else if(i!==4&&(e=e.child,e!==null))for(dv(e,t,n),e=e.sibling;e!==null;)dv(e,t,n),e=e.sibling}function hv(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(hv(e,t,n),e=e.sibling;e!==null;)hv(e,t,n),e=e.sibling}var Cn=null,or=!1;function Zs(e,t,n){for(n=n.child;n!==null;)KT(e,t,n),n=n.sibling}function KT(e,t,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(Sg,n)}catch{}switch(n.tag){case 5:Rn||Il(n,t);case 6:var i=Cn,r=or;Cn=null,Zs(e,t,n),Cn=i,or=r,Cn!==null&&(or?(e=Cn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Cn.removeChild(n.stateNode));break;case 18:Cn!==null&&(or?(e=Cn,n=n.stateNode,e.nodeType===8?Ny(e.parentNode,n):e.nodeType===1&&Ny(e,n),af(e)):Ny(Cn,n.stateNode));break;case 4:i=Cn,r=or,Cn=n.stateNode.containerInfo,or=!0,Zs(e,t,n),Cn=i,or=r;break;case 0:case 11:case 14:case 15:if(!Rn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&cv(n,t,a),r=r.next}while(r!==i)}Zs(e,t,n);break;case 1:if(!Rn&&(Il(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){je(n,t,u)}Zs(e,t,n);break;case 21:Zs(e,t,n);break;case 22:n.mode&1?(Rn=(i=Rn)||n.memoizedState!==null,Zs(e,t,n),Rn=i):Zs(e,t,n);break;default:Zs(e,t,n)}}function uS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qR),t.forEach(function(i){var r=iF.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function rr(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,a=t,u=a;t:for(;u!==null;){switch(u.tag){case 5:Cn=u.stateNode,or=!1;break t;case 3:Cn=u.stateNode.containerInfo,or=!0;break t;case 4:Cn=u.stateNode.containerInfo,or=!0;break t}u=u.return}if(Cn===null)throw Error(lt(160));KT(o,a,r),Cn=null,or=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(p){je(r,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GT(t,e),t=t.sibling}function GT(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rr(t,e),Tr(e),i&4){try{Yc(3,e,e.return),Dg(3,e)}catch(T){je(e,e.return,T)}try{Yc(5,e,e.return)}catch(T){je(e,e.return,T)}}break;case 1:rr(t,e),Tr(e),i&512&&n!==null&&Il(n,n.return);break;case 5:if(rr(t,e),Tr(e),i&512&&n!==null&&Il(n,n.return),e.flags&32){var r=e.stateNode;try{nf(r,"")}catch(T){je(e,e.return,T)}}if(i&4&&(r=e.stateNode,r!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&yC(r,o),P0(u,a);var p=P0(u,o);for(a=0;a<c.length;a+=2){var g=c[a],y=c[a+1];g==="style"?xC(r,y):g==="dangerouslySetInnerHTML"?bC(r,y):g==="children"?nf(r,y):p_(r,g,y,p)}switch(u){case"input":L0(r,o);break;case"textarea":vC(r,o);break;case"select":var v=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?Nl(r,!!o.multiple,b,!1):v!==!!o.multiple&&(o.defaultValue!=null?Nl(r,!!o.multiple,o.defaultValue,!0):Nl(r,!!o.multiple,o.multiple?[]:"",!1))}r[df]=o}catch(T){je(e,e.return,T)}}break;case 6:if(rr(t,e),Tr(e),i&4){if(e.stateNode===null)throw Error(lt(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(T){je(e,e.return,T)}}break;case 3:if(rr(t,e),Tr(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{af(t.containerInfo)}catch(T){je(e,e.return,T)}break;case 4:rr(t,e),Tr(e);break;case 13:rr(t,e),Tr(e),r=e.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(q_=Xe())),i&4&&uS(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Rn=(p=Rn)||g,rr(t,e),Rn=p):rr(t,e),Tr(e),i&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!g&&e.mode&1)for(gt=e,g=e.child;g!==null;){for(y=gt=g;gt!==null;){switch(v=gt,b=v.child,v.tag){case 0:case 11:case 14:case 15:Yc(4,v,v.return);break;case 1:Il(v,v.return);var k=v.stateNode;if(typeof k.componentWillUnmount=="function"){i=v,n=v.return;try{t=i,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(T){je(i,n,T)}}break;case 5:Il(v,v.return);break;case 22:if(v.memoizedState!==null){fS(y);continue}}b!==null?(b.return=v,gt=b):fS(y)}g=g.sibling}t:for(g=null,y=e;;){if(y.tag===5){if(g===null){g=y;try{r=y.stateNode,p?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=y.stateNode,c=y.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=wC("display",a))}catch(T){je(e,e.return,T)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=p?"":y.memoizedProps}catch(T){je(e,e.return,T)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break t;for(;y.sibling===null;){if(y.return===null||y.return===e)break t;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:rr(t,e),Tr(e),i&4&&uS(e);break;case 21:break;default:rr(t,e),Tr(e)}}function Tr(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(qT(n)){var i=n;break t}n=n.return}throw Error(lt(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(nf(r,""),i.flags&=-33);var o=lS(e);hv(e,o,r);break;case 3:case 4:var a=i.stateNode.containerInfo,u=lS(e);dv(e,u,a);break;default:throw Error(lt(161))}}catch(c){je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GR(e,t,n){gt=e,XT(e)}function XT(e,t,n){for(var i=(e.mode&1)!==0;gt!==null;){var r=gt,o=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Jd;if(!a){var u=r.alternate,c=u!==null&&u.memoizedState!==null||Rn;u=Jd;var p=Rn;if(Jd=a,(Rn=c)&&!p)for(gt=r;gt!==null;)a=gt,c=a.child,a.tag===22&&a.memoizedState!==null?dS(r):c!==null?(c.return=a,gt=c):dS(r);for(;o!==null;)gt=o,XT(o),o=o.sibling;gt=r,Jd=u,Rn=p}cS(e)}else r.subtreeFlags&8772&&o!==null?(o.return=r,gt=o):cS(e)}}function cS(e){for(;gt!==null;){var t=gt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rn||Dg(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Rn)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:sr(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&K1(t,o,i);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}K1(t,a,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&af(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}Rn||t.flags&512&&fv(t)}catch(v){je(t,t.return,v)}}if(t===e){gt=null;break}if(n=t.sibling,n!==null){n.return=t.return,gt=n;break}gt=t.return}}function fS(e){for(;gt!==null;){var t=gt;if(t===e){gt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,gt=n;break}gt=t.return}}function dS(e){for(;gt!==null;){var t=gt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dg(4,t)}catch(c){je(t,n,c)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(c){je(t,r,c)}}var o=t.return;try{fv(t)}catch(c){je(t,o,c)}break;case 5:var a=t.return;try{fv(t)}catch(c){je(t,a,c)}}}catch(c){je(t,t.return,c)}if(t===e){gt=null;break}var u=t.sibling;if(u!==null){u.return=t.return,gt=u;break}gt=t.return}}var XR=Math.ceil,bp=Ns.ReactCurrentDispatcher,j_=Ns.ReactCurrentOwner,$i=Ns.ReactCurrentBatchConfig,te=0,_n=null,en=null,Tn=0,_i=0,Al=Po(0),dn=0,vf=null,Sa=0,Lg=0,Y_=0,qc=null,ri=null,q_=0,Jl=1/0,ds=null,wp=!1,pv=null,xo=null,th=!1,po=null,xp=0,Kc=0,gv=null,Rh=-1,Fh=0;function Xn(){return te&6?Xe():Rh!==-1?Rh:Rh=Xe()}function So(e){return e.mode&1?te&2&&Tn!==0?Tn&-Tn:NR.transition!==null?(Fh===0&&(Fh=OC()),Fh):(e=pe,e!==0||(e=window.event,e=e===void 0?16:HC(e.type)),e):1}function hr(e,t,n,i){if(50<Kc)throw Kc=0,gv=null,Error(lt(185));zf(e,n,i),(!(te&2)||e!==_n)&&(e===_n&&(!(te&2)&&(Lg|=n),dn===4&&co(e,Tn)),di(e,i),n===1&&te===0&&!(t.mode&1)&&(Jl=Xe()+500,Mg&&Bo()))}function di(e,t){var n=e.callbackNode;NO(e,t);var i=sp(e,e===_n?Tn:0);if(i===0)n!==null&&w1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&w1(n),t===1)e.tag===0?LR(hS.bind(null,e)):oT(hS.bind(null,e)),MR(function(){!(te&6)&&Bo()}),n=null;else{switch(RC(i)){case 1:n=__;break;case 4:n=LC;break;case 16:n=rp;break;case 536870912:n=NC;break;default:n=rp}n=rM(n,QT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function QT(e,t){if(Rh=-1,Fh=0,te&6)throw Error(lt(327));var n=e.callbackNode;if(Bl()&&e.callbackNode!==n)return null;var i=sp(e,e===_n?Tn:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Sp(e,i);else{t=i;var r=te;te|=2;var o=JT();(_n!==e||Tn!==t)&&(ds=null,Jl=Xe()+500,ha(e,t));do try{JR();break}catch(u){ZT(e,u)}while(1);L_(),bp.current=o,te=r,en!==null?t=0:(_n=null,Tn=0,t=dn)}if(t!==0){if(t===2&&(r=W0(e),r!==0&&(i=r,t=mv(e,r))),t===1)throw n=vf,ha(e,0),co(e,i),di(e,Xe()),n;if(t===6)co(e,i);else{if(r=e.current.alternate,!(i&30)&&!QR(r)&&(t=Sp(e,i),t===2&&(o=W0(e),o!==0&&(i=o,t=mv(e,o))),t===1))throw n=vf,ha(e,0),co(e,i),di(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(lt(345));case 2:ia(e,ri,ds);break;case 3:if(co(e,i),(i&130023424)===i&&(t=q_+500-Xe(),10<t)){if(sp(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){Xn(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=X0(ia.bind(null,e,ri,ds),t);break}ia(e,ri,ds);break;case 4:if(co(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-dr(i);o=1<<a,a=t[a],a>r&&(r=a),i&=~o}if(i=r,i=Xe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*XR(i/1960))-i,10<i){e.timeoutHandle=X0(ia.bind(null,e,ri,ds),i);break}ia(e,ri,ds);break;case 5:ia(e,ri,ds);break;default:throw Error(lt(329))}}}return di(e,Xe()),e.callbackNode===n?QT.bind(null,e):null}function mv(e,t){var n=qc;return e.current.memoizedState.isDehydrated&&(ha(e,t).flags|=256),e=Sp(e,t),e!==2&&(t=ri,ri=n,t!==null&&yv(t)),e}function yv(e){ri===null?ri=e:ri.push.apply(ri,e)}function QR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!mr(o(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function co(e,t){for(t&=~Y_,t&=~Lg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dr(t),i=1<<n;e[n]=-1,t&=~i}}function hS(e){if(te&6)throw Error(lt(327));Bl();var t=sp(e,0);if(!(t&1))return di(e,Xe()),null;var n=Sp(e,t);if(e.tag!==0&&n===2){var i=W0(e);i!==0&&(t=i,n=mv(e,i))}if(n===1)throw n=vf,ha(e,0),co(e,t),di(e,Xe()),n;if(n===6)throw Error(lt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ia(e,ri,ds),di(e,Xe()),null}function K_(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(Jl=Xe()+500,Mg&&Bo())}}function ka(e){po!==null&&po.tag===0&&!(te&6)&&Bl();var t=te;te|=1;var n=$i.transition,i=pe;try{if($i.transition=null,pe=1,e)return e()}finally{pe=i,$i.transition=n,te=t,!(te&6)&&Bo()}}function G_(){_i=Al.current,Ie(Al)}function ha(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,TR(n)),en!==null)for(n=en.return;n!==null;){var i=n;switch(I_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&cp();break;case 3:Ql(),Ie(ci),Ie(Bn),B_();break;case 5:P_(i);break;case 4:Ql();break;case 13:Ie(Pe);break;case 19:Ie(Pe);break;case 10:N_(i.type._context);break;case 22:case 23:G_()}n=n.return}if(_n=e,en=e=ko(e.current,null),Tn=_i=t,dn=0,vf=null,Y_=Lg=Sa=0,ri=qc=null,la!==null){for(t=0;t<la.length;t++)if(n=la[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,i.next=a}n.pending=i}la=null}return e}function ZT(e,t){do{var n=en;try{if(L_(),Lh.current=_p,vp){for(var i=ze.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}vp=!1}if(xa=0,mn=un=ze=null,jc=!1,gf=0,j_.current=null,n===null||n.return===null){dn=1,vf=t,en=null;break}t:{var o=e,a=n.return,u=n,c=t;if(t=Tn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c,g=u,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=tS(a);if(b!==null){b.flags&=-257,eS(b,a,u,o,t),b.mode&1&&J1(o,p,t),t=b,c=p;var k=t.updateQueue;if(k===null){var T=new Set;T.add(c),t.updateQueue=T}else k.add(c);break t}else{if(!(t&1)){J1(o,p,t),X_();break t}c=Error(lt(426))}}else if(Ne&&u.mode&1){var D=tS(a);if(D!==null){!(D.flags&65536)&&(D.flags|=256),eS(D,a,u,o,t),A_(Zl(c,u));break t}}o=c=Zl(c,u),dn!==4&&(dn=2),qc===null?qc=[o]:qc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=RT(o,c,t);q1(o,w);break t;case 1:u=c;var S=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(xo===null||!xo.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=FT(o,u,t);q1(o,I);break t}}o=o.return}while(o!==null)}eM(n)}catch(L){t=L,en===n&&n!==null&&(en=n=n.return);continue}break}while(1)}function JT(){var e=bp.current;return bp.current=_p,e===null?_p:e}function X_(){(dn===0||dn===3||dn===2)&&(dn=4),_n===null||!(Sa&268435455)&&!(Lg&268435455)||co(_n,Tn)}function Sp(e,t){var n=te;te|=2;var i=JT();(_n!==e||Tn!==t)&&(ds=null,ha(e,t));do try{ZR();break}catch(r){ZT(e,r)}while(1);if(L_(),te=n,bp.current=i,en!==null)throw Error(lt(261));return _n=null,Tn=0,dn}function ZR(){for(;en!==null;)tM(en)}function JR(){for(;en!==null&&!kO();)tM(en)}function tM(e){var t=iM(e.alternate,e,_i);e.memoizedProps=e.pendingProps,t===null?eM(e):en=t,j_.current=null}function eM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=YR(n,t),n!==null){n.flags&=32767,en=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dn=6,en=null;return}}else if(n=jR(n,t,_i),n!==null){en=n;return}if(t=t.sibling,t!==null){en=t;return}en=t=e}while(t!==null);dn===0&&(dn=5)}function ia(e,t,n){var i=pe,r=$i.transition;try{$i.transition=null,pe=1,tF(e,t,n,i)}finally{$i.transition=r,pe=i}return null}function tF(e,t,n,i){do Bl();while(po!==null);if(te&6)throw Error(lt(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(lt(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(OO(e,o),e===_n&&(en=_n=null,Tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||th||(th=!0,rM(rp,function(){return Bl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$i.transition,$i.transition=null;var a=pe;pe=1;var u=te;te|=4,j_.current=null,KR(e,n),GT(n,e),bR(K0),op=!!q0,K0=q0=null,e.current=n,GR(n),EO(),te=u,pe=a,$i.transition=o}else e.current=n;if(th&&(th=!1,po=e,xp=r),o=e.pendingLanes,o===0&&(xo=null),MO(n.stateNode),di(e,Xe()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(wp)throw wp=!1,e=pv,pv=null,e;return xp&1&&e.tag!==0&&Bl(),o=e.pendingLanes,o&1?e===gv?Kc++:(Kc=0,gv=e):Kc=0,Bo(),null}function Bl(){if(po!==null){var e=RC(xp),t=$i.transition,n=pe;try{if($i.transition=null,pe=16>e?16:e,po===null)var i=!1;else{if(e=po,po=null,xp=0,te&6)throw Error(lt(331));var r=te;for(te|=4,gt=e.current;gt!==null;){var o=gt,a=o.child;if(gt.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var p=u[c];for(gt=p;gt!==null;){var g=gt;switch(g.tag){case 0:case 11:case 15:Yc(8,g,o)}var y=g.child;if(y!==null)y.return=g,gt=y;else for(;gt!==null;){g=gt;var v=g.sibling,b=g.return;if(YT(g),g===p){gt=null;break}if(v!==null){v.return=b,gt=v;break}gt=b}}}var k=o.alternate;if(k!==null){var T=k.child;if(T!==null){k.child=null;do{var D=T.sibling;T.sibling=null,T=D}while(T!==null)}}gt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,gt=a;else t:for(;gt!==null;){if(o=gt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Yc(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,gt=w;break t}gt=o.return}}var S=e.current;for(gt=S;gt!==null;){a=gt;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,gt=C;else t:for(a=S;gt!==null;){if(u=gt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Dg(9,u)}}catch(L){je(u,u.return,L)}if(u===a){gt=null;break t}var I=u.sibling;if(I!==null){I.return=u.return,gt=I;break t}gt=u.return}}if(te=r,Bo(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(Sg,e)}catch{}i=!0}return i}finally{pe=n,$i.transition=t}}return!1}function pS(e,t,n){t=Zl(n,t),t=RT(e,t,1),e=wo(e,t,1),t=Xn(),e!==null&&(zf(e,1,t),di(e,t))}function je(e,t,n){if(e.tag===3)pS(e,e,n);else for(;t!==null;){if(t.tag===3){pS(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(xo===null||!xo.has(i))){e=Zl(n,e),e=FT(t,e,1),t=wo(t,e,1),e=Xn(),t!==null&&(zf(t,1,e),di(t,e));break}}t=t.return}}function eF(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Xn(),e.pingedLanes|=e.suspendedLanes&n,_n===e&&(Tn&n)===n&&(dn===4||dn===3&&(Tn&130023424)===Tn&&500>Xe()-q_?ha(e,0):Y_|=n),di(e,t)}function nM(e,t){t===0&&(e.mode&1?(t=$d,$d<<=1,!($d&130023424)&&($d=4194304)):t=1);var n=Xn();e=Is(e,t),e!==null&&(zf(e,t,n),di(e,n))}function nF(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nM(e,n)}function iF(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(lt(314))}i!==null&&i.delete(t),nM(e,n)}var iM;iM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ci.current)li=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return li=!1,$R(e,t,n);li=!!(e.flags&131072)}else li=!1,Ne&&t.flags&1048576&&aT(t,hp,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Oh(e,t),e=t.pendingProps;var r=Kl(t,Bn.current);Pl(t,n),r=U_(null,t,i,e,r,n);var o=H_();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fi(i)?(o=!0,fp(t)):o=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,R_(t),r.updater=Ag,t.stateNode=r,r._reactInternals=t,iv(t,i,e,n),t=ov(null,t,i,!0,o,n)):(t.tag=0,Ne&&o&&M_(t),Yn(null,t,r,n),t=t.child),t;case 16:i=t.elementType;t:{switch(Oh(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=sF(i),e=sr(i,e),r){case 0:t=sv(null,t,i,e,n);break t;case 1:t=rS(null,t,i,e,n);break t;case 11:t=nS(null,t,i,e,n);break t;case 14:t=iS(null,t,i,sr(i.type,e),n);break t}throw Error(lt(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:sr(i,r),sv(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:sr(i,r),rS(e,t,i,r,n);case 3:t:{if(UT(t),e===null)throw Error(lt(387));i=t.pendingProps,o=t.memoizedState,r=o.element,hT(e,t),mp(t,i,null,n);var a=t.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){r=Zl(Error(lt(423)),t),t=sS(e,t,i,n,r);break t}else if(i!==r){r=Zl(Error(lt(424)),t),t=sS(e,t,i,n,r);break t}else for(xi=bo(t.stateNode.containerInfo.firstChild),Si=t,Ne=!0,ur=null,n=fT(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gl(),i===r){t=As(e,t,n);break t}Yn(e,t,i,n)}t=t.child}return t;case 5:return pT(t),e===null&&tv(t),i=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,a=r.children,G0(i,r)?a=null:o!==null&&G0(i,o)&&(t.flags|=32),zT(e,t),Yn(e,t,a,n),t.child;case 6:return e===null&&tv(t),null;case 13:return HT(e,t,n);case 4:return F_(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Xl(t,null,i,n):Yn(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:sr(i,r),nS(e,t,i,r,n);case 7:return Yn(e,t,t.pendingProps,n),t.child;case 8:return Yn(e,t,t.pendingProps.children,n),t.child;case 12:return Yn(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,a=r.value,Se(pp,i._currentValue),i._currentValue=a,o!==null)if(mr(o.value,a)){if(o.children===r.children&&!ci.current){t=As(e,t,n);break t}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(o.tag===1){c=Es(-1,n&-n),c.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?c.next=c:(c.next=g.next,g.next=c),p.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ev(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(lt(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),ev(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Yn(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Pl(t,n),r=Yi(r),i=i(r),t.flags|=1,Yn(e,t,i,n),t.child;case 14:return i=t.type,r=sr(i,t.pendingProps),r=sr(i.type,r),iS(e,t,i,r,n);case 15:return PT(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:sr(i,r),Oh(e,t),t.tag=1,fi(i)?(e=!0,fp(t)):e=!1,Pl(t,n),OT(t,i,r),iv(t,i,r,n),ov(null,t,i,!0,e,n);case 19:return WT(e,t,n);case 22:return BT(e,t,n)}throw Error(lt(156,t.tag))};function rM(e,t){return DC(e,t)}function rF(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(e,t,n,i){return new rF(e,t,n,i)}function Q_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sF(e){if(typeof e=="function")return Q_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===m_)return 11;if(e===y_)return 14}return 2}function ko(e,t){var n=e.alternate;return n===null?(n=Wi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ph(e,t,n,i,r,o){var a=2;if(i=e,typeof e=="function")Q_(e)&&(a=1);else if(typeof e=="string")a=5;else t:switch(e){case bl:return pa(n.children,r,o,t);case g_:a=8,r|=8;break;case T0:return e=Wi(12,n,t,r|2),e.elementType=T0,e.lanes=o,e;case M0:return e=Wi(13,n,t,r),e.elementType=M0,e.lanes=o,e;case I0:return e=Wi(19,n,t,r),e.elementType=I0,e.lanes=o,e;case pC:return Ng(n,r,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dC:a=10;break t;case hC:a=9;break t;case m_:a=11;break t;case y_:a=14;break t;case io:a=16,i=null;break t}throw Error(lt(130,e==null?e:typeof e,""))}return t=Wi(a,n,t,r),t.elementType=e,t.type=i,t.lanes=o,t}function pa(e,t,n,i){return e=Wi(7,e,i,t),e.lanes=n,e}function Ng(e,t,n,i){return e=Wi(22,e,i,t),e.elementType=pC,e.lanes=n,e.stateNode={isHidden:!1},e}function Hy(e,t,n){return e=Wi(6,e,null,t),e.lanes=n,e}function Wy(e,t,n){return t=Wi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oF(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xy(0),this.expirationTimes=xy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xy(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Z_(e,t,n,i,r,o,a,u,c){return e=new oF(e,t,n,u,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Wi(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},R_(o),e}function aF(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_l,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function sM(e){if(!e)return Mo;e=e._reactInternals;t:{if(La(e)!==e||e.tag!==1)throw Error(lt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(fi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(lt(171))}if(e.tag===1){var n=e.type;if(fi(n))return sT(e,n,t)}return t}function oM(e,t,n,i,r,o,a,u,c){return e=Z_(n,i,!0,e,r,o,a,u,c),e.context=sM(null),n=e.current,i=Xn(),r=So(n),o=Es(i,r),o.callback=t??null,wo(n,o,r),e.current.lanes=r,zf(e,r,i),di(e,i),e}function Og(e,t,n,i){var r=t.current,o=Xn(),a=So(r);return n=sM(n),t.context===null?t.context=n:t.pendingContext=n,t=Es(o,a),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=wo(r,t,a),e!==null&&(hr(e,r,a,o),Dh(e,r,a)),a}function kp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function J_(e,t){gS(e,t),(e=e.alternate)&&gS(e,t)}function lF(){return null}var aM=typeof reportError=="function"?reportError:function(e){console.error(e)};function tb(e){this._internalRoot=e}Rg.prototype.render=tb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(lt(409));Og(e,t,null,null)};Rg.prototype.unmount=tb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ka(function(){Og(null,e,null,null)}),t[Ms]=null}};function Rg(e){this._internalRoot=e}Rg.prototype.unstable_scheduleHydration=function(e){if(e){var t=BC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<uo.length&&t!==0&&t<uo[n].priority;n++);uo.splice(n,0,e),n===0&&UC(e)}};function eb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mS(){}function uF(e,t,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var p=kp(a);o.call(p)}}var a=oM(t,i,e,0,null,!1,!1,"",mS);return e._reactRootContainer=a,e[Ms]=a.current,cf(e.nodeType===8?e.parentNode:e),ka(),a}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var p=kp(c);u.call(p)}}var c=Z_(e,0,!1,null,null,!1,!1,"",mS);return e._reactRootContainer=c,e[Ms]=c.current,cf(e.nodeType===8?e.parentNode:e),ka(function(){Og(t,c,n,i)}),c}function Pg(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var u=r;r=function(){var c=kp(a);u.call(c)}}Og(t,a,e,r)}else a=uF(n,t,e,r,i);return kp(a)}FC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kc(t.pendingLanes);n!==0&&(b_(t,n|1),di(t,Xe()),!(te&6)&&(Jl=Xe()+500,Bo()))}break;case 13:ka(function(){var i=Is(e,1);if(i!==null){var r=Xn();hr(i,e,1,r)}}),J_(e,1)}};w_=function(e){if(e.tag===13){var t=Is(e,134217728);if(t!==null){var n=Xn();hr(t,e,134217728,n)}J_(e,134217728)}};PC=function(e){if(e.tag===13){var t=So(e),n=Is(e,t);if(n!==null){var i=Xn();hr(n,e,t,i)}J_(e,t)}};BC=function(){return pe};zC=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};z0=function(e,t,n){switch(t){case"input":if(L0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Tg(i);if(!r)throw Error(lt(90));mC(i),L0(i,r)}}}break;case"textarea":vC(e,n);break;case"select":t=n.value,t!=null&&Nl(e,!!n.multiple,t,!1)}};EC=K_;CC=ka;var cF={usingClientEntryPoint:!1,Events:[Hf,kl,Tg,SC,kC,K_]},uc={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fF={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=IC(e),e===null?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||lF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Sg=eh.inject(fF),Ur=eh}catch{}}Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cF;Ti.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eb(t))throw Error(lt(200));return aF(e,t,null,n)};Ti.createRoot=function(e,t){if(!eb(e))throw Error(lt(299));var n=!1,i="",r=aM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Z_(e,1,!1,null,null,n,!1,i,r),e[Ms]=t.current,cf(e.nodeType===8?e.parentNode:e),new tb(t)};Ti.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(lt(188)):(e=Object.keys(e).join(","),Error(lt(268,e)));return e=IC(t),e=e===null?null:e.stateNode,e};Ti.flushSync=function(e){return ka(e)};Ti.hydrate=function(e,t,n){if(!Fg(t))throw Error(lt(200));return Pg(null,e,t,!0,n)};Ti.hydrateRoot=function(e,t,n){if(!eb(e))throw Error(lt(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",a=aM;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=oM(t,null,e,1,n??null,r,!1,o,a),e[Ms]=t.current,cf(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Rg(t)};Ti.render=function(e,t,n){if(!Fg(t))throw Error(lt(200));return Pg(null,e,t,!1,n)};Ti.unmountComponentAtNode=function(e){if(!Fg(e))throw Error(lt(40));return e._reactRootContainer?(ka(function(){Pg(null,null,e,!1,function(){e._reactRootContainer=null,e[Ms]=null})}),!0):!1};Ti.unstable_batchedUpdates=K_;Ti.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Fg(n))throw Error(lt(200));if(e==null||e._reactInternals===void 0)throw Error(lt(38));return Pg(e,t,n,!1,i)};Ti.version="18.3.1-next-f1338f8080-20240426";function lM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lM)}catch(e){console.error(e)}}lM(),lC.exports=Ti;var dF=lC.exports,yS=dF;E0.createRoot=yS.createRoot,E0.hydrateRoot=yS.hydrateRoot;function In(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=In(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var uM={exports:{}},cM={},fM={exports:{}},dM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=Z;function hF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pF=typeof Object.is=="function"?Object.is:hF,gF=tu.useState,mF=tu.useEffect,yF=tu.useLayoutEffect,vF=tu.useDebugValue;function _F(e,t){var n=t(),i=gF({inst:{value:n,getSnapshot:t}}),r=i[0].inst,o=i[1];return yF(function(){r.value=n,r.getSnapshot=t,Vy(r)&&o({inst:r})},[e,n,t]),mF(function(){return Vy(r)&&o({inst:r}),e(function(){Vy(r)&&o({inst:r})})},[e]),vF(n),n}function Vy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pF(e,n)}catch{return!0}}function bF(e,t){return t()}var wF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bF:_F;dM.useSyncExternalStore=tu.useSyncExternalStore!==void 0?tu.useSyncExternalStore:wF;fM.exports=dM;var xF=fM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg=Z,SF=xF;function kF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EF=typeof Object.is=="function"?Object.is:kF,CF=SF.useSyncExternalStore,TF=Bg.useRef,MF=Bg.useEffect,IF=Bg.useMemo,AF=Bg.useDebugValue;cM.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var o=TF(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=IF(function(){function c(b){if(!p){if(p=!0,g=b,b=i(b),r!==void 0&&a.hasValue){var k=a.value;if(r(k,b))return y=k}return y=b}if(k=y,EF(g,b))return k;var T=i(b);return r!==void 0&&r(k,T)?k:(g=b,y=T)}var p=!1,g,y,v=n===void 0?null:n;return[function(){return c(t())},v===null?void 0:function(){return c(v())}]},[t,n,i,r]);var u=CF(e,o[0],o[1]);return MF(function(){a.hasValue=!0,a.value=u},[u]),AF(u),u};uM.exports=cM;var DF=uM.exports;const LF=a_(DF),vS=e=>{let t;const n=new Set,i=(g,y)=>{const v=typeof g=="function"?g(t):g;if(!Object.is(v,t)){const b=t;t=y??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(k=>k(t,b))}},r=()=>t,c={setState:i,getState:r,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{n.clear()}},p=t=e(i,r,c);return c},NF=e=>e?vS(e):vS,{useDebugValue:OF}=nt,{useSyncExternalStoreWithSelector:RF}=LF,FF=e=>e;function hM(e,t=FF,n){const i=RF(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return OF(i),i}const _S=(e,t)=>{const n=NF(e),i=(r,o=t)=>hM(n,r,o);return Object.assign(i,n),i},PF=(e,t)=>e?_S(e,t):_S;function bn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,r]of e)if(!Object.is(r,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1;return!0}var BF={value:()=>{}};function zg(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Bh(n)}function Bh(e){this._=e}function zF(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Bh.prototype=zg.prototype={constructor:Bh,on:function(e,t){var n=this._,i=zF(e+"",n),r,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((r=(e=i[o]).type)&&(r=UF(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(r=(e=i[o]).type)n[r]=bS(n[r],e.name,t);else if(t==null)for(r in n)n[r]=bS(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Bh(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};function UF(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function bS(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=BF,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var vv="http://www.w3.org/1999/xhtml";const wS={svg:"http://www.w3.org/2000/svg",xhtml:vv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ug(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),wS.hasOwnProperty(t)?{space:wS[t],local:e}:e}function HF(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===vv&&t.documentElement.namespaceURI===vv?t.createElement(e):t.createElementNS(n,e)}}function WF(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function pM(e){var t=Ug(e);return(t.local?WF:HF)(t)}function VF(){}function nb(e){return e==null?VF:function(){return this.querySelector(e)}}function $F(e){typeof e!="function"&&(e=nb(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,u=i[r]=new Array(a),c,p,g=0;g<a;++g)(c=o[g])&&(p=e.call(c,c.__data__,g,o))&&("__data__"in c&&(p.__data__=c.__data__),u[g]=p);return new Ei(i,this._parents)}function jF(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function YF(){return[]}function gM(e){return e==null?YF:function(){return this.querySelectorAll(e)}}function qF(e){return function(){return jF(e.apply(this,arguments))}}function KF(e){typeof e=="function"?e=qF(e):e=gM(e);for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var a=t[o],u=a.length,c,p=0;p<u;++p)(c=a[p])&&(i.push(e.call(c,c.__data__,p,a)),r.push(c));return new Ei(i,r)}function mM(e){return function(){return this.matches(e)}}function yM(e){return function(t){return t.matches(e)}}var GF=Array.prototype.find;function XF(e){return function(){return GF.call(this.children,e)}}function QF(){return this.firstElementChild}function ZF(e){return this.select(e==null?QF:XF(typeof e=="function"?e:yM(e)))}var JF=Array.prototype.filter;function tP(){return Array.from(this.children)}function eP(e){return function(){return JF.call(this.children,e)}}function nP(e){return this.selectAll(e==null?tP:eP(typeof e=="function"?e:yM(e)))}function iP(e){typeof e!="function"&&(e=mM(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,u=i[r]=[],c,p=0;p<a;++p)(c=o[p])&&e.call(c,c.__data__,p,o)&&u.push(c);return new Ei(i,this._parents)}function vM(e){return new Array(e.length)}function rP(){return new Ei(this._enter||this._groups.map(vM),this._parents)}function Ep(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ep.prototype={constructor:Ep,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function sP(e){return function(){return e}}function oP(e,t,n,i,r,o){for(var a=0,u,c=t.length,p=o.length;a<p;++a)(u=t[a])?(u.__data__=o[a],i[a]=u):n[a]=new Ep(e,o[a]);for(;a<c;++a)(u=t[a])&&(r[a]=u)}function aP(e,t,n,i,r,o,a){var u,c,p=new Map,g=t.length,y=o.length,v=new Array(g),b;for(u=0;u<g;++u)(c=t[u])&&(v[u]=b=a.call(c,c.__data__,u,t)+"",p.has(b)?r[u]=c:p.set(b,c));for(u=0;u<y;++u)b=a.call(e,o[u],u,o)+"",(c=p.get(b))?(i[u]=c,c.__data__=o[u],p.delete(b)):n[u]=new Ep(e,o[u]);for(u=0;u<g;++u)(c=t[u])&&p.get(v[u])===c&&(r[u]=c)}function lP(e){return e.__data__}function uP(e,t){if(!arguments.length)return Array.from(this,lP);var n=t?aP:oP,i=this._parents,r=this._groups;typeof e!="function"&&(e=sP(e));for(var o=r.length,a=new Array(o),u=new Array(o),c=new Array(o),p=0;p<o;++p){var g=i[p],y=r[p],v=y.length,b=cP(e.call(g,g&&g.__data__,p,i)),k=b.length,T=u[p]=new Array(k),D=a[p]=new Array(k),w=c[p]=new Array(v);n(g,y,T,D,w,b,t);for(var S=0,C=0,I,L;S<k;++S)if(I=T[S]){for(S>=C&&(C=S+1);!(L=D[C])&&++C<k;);I._next=L||null}}return a=new Ei(a,i),a._enter=u,a._exit=c,a}function cP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fP(){return new Ei(this._exit||this._groups.map(vM),this._parents)}function dP(e,t,n){var i=this.enter(),r=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function hP(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,a=Math.min(r,o),u=new Array(r),c=0;c<a;++c)for(var p=n[c],g=i[c],y=p.length,v=u[c]=new Array(y),b,k=0;k<y;++k)(b=p[k]||g[k])&&(v[k]=b);for(;c<r;++c)u[c]=n[c];return new Ei(u,this._parents)}function pP(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,o=i[r],a;--r>=0;)(a=i[r])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function gP(e){e||(e=mP);function t(y,v){return y&&v?e(y.__data__,v.__data__):!y-!v}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a=n[o],u=a.length,c=r[o]=new Array(u),p,g=0;g<u;++g)(p=a[g])&&(c[g]=p);c.sort(t)}return new Ei(r,this._parents).order()}function mP(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function yP(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function vP(){return Array.from(this)}function _P(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null}function bP(){let e=0;for(const t of this)++e;return e}function wP(){return!this.node()}function xP(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],o=0,a=r.length,u;o<a;++o)(u=r[o])&&e.call(u,u.__data__,o,r);return this}function SP(e){return function(){this.removeAttribute(e)}}function kP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function EP(e,t){return function(){this.setAttribute(e,t)}}function CP(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function TP(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function MP(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function IP(e,t){var n=Ug(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?kP:SP:typeof t=="function"?n.local?MP:TP:n.local?CP:EP)(n,t))}function _M(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function AP(e){return function(){this.style.removeProperty(e)}}function DP(e,t,n){return function(){this.style.setProperty(e,t,n)}}function LP(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function NP(e,t,n){return arguments.length>1?this.each((t==null?AP:typeof t=="function"?LP:DP)(e,t,n??"")):eu(this.node(),e)}function eu(e,t){return e.style.getPropertyValue(t)||_M(e).getComputedStyle(e,null).getPropertyValue(t)}function OP(e){return function(){delete this[e]}}function RP(e,t){return function(){this[e]=t}}function FP(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function PP(e,t){return arguments.length>1?this.each((t==null?OP:typeof t=="function"?FP:RP)(e,t)):this.node()[e]}function bM(e){return e.trim().split(/^|\s+/)}function ib(e){return e.classList||new wM(e)}function wM(e){this._node=e,this._names=bM(e.getAttribute("class")||"")}wM.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function xM(e,t){for(var n=ib(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function SM(e,t){for(var n=ib(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function BP(e){return function(){xM(this,e)}}function zP(e){return function(){SM(this,e)}}function UP(e,t){return function(){(t.apply(this,arguments)?xM:SM)(this,e)}}function HP(e,t){var n=bM(e+"");if(arguments.length<2){for(var i=ib(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?UP:t?BP:zP)(n,t))}function WP(){this.textContent=""}function VP(e){return function(){this.textContent=e}}function $P(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function jP(e){return arguments.length?this.each(e==null?WP:(typeof e=="function"?$P:VP)(e)):this.node().textContent}function YP(){this.innerHTML=""}function qP(e){return function(){this.innerHTML=e}}function KP(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function GP(e){return arguments.length?this.each(e==null?YP:(typeof e=="function"?KP:qP)(e)):this.node().innerHTML}function XP(){this.nextSibling&&this.parentNode.appendChild(this)}function QP(){return this.each(XP)}function ZP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function JP(){return this.each(ZP)}function tB(e){var t=typeof e=="function"?e:pM(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function eB(){return null}function nB(e,t){var n=typeof e=="function"?e:pM(e),i=t==null?eB:typeof t=="function"?t:nb(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function iB(){var e=this.parentNode;e&&e.removeChild(this)}function rB(){return this.each(iB)}function sB(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oB(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function aB(e){return this.select(e?oB:sB)}function lB(e){return arguments.length?this.property("__data__",e):this.node().__data__}function uB(e){return function(t){e.call(this,t,this.__data__)}}function cB(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function fB(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,o;n<r;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++i]=o;++i?t.length=i:delete this.__on}}}function dB(e,t,n){return function(){var i=this.__on,r,o=uB(t);if(i){for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function hB(e,t,n){var i=cB(e+""),r,o=i.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,p=u.length,g;c<p;++c)for(r=0,g=u[c];r<o;++r)if((a=i[r]).type===g.type&&a.name===g.name)return g.value}return}for(u=t?dB:fB,r=0;r<o;++r)this.each(u(i[r],t,n));return this}function kM(e,t,n){var i=_M(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function pB(e,t){return function(){return kM(this,e,t)}}function gB(e,t){return function(){return kM(this,e,t.apply(this,arguments))}}function mB(e,t){return this.each((typeof t=="function"?gB:pB)(e,t))}function*yB(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length,a;r<o;++r)(a=i[r])&&(yield a)}var EM=[null];function Ei(e,t){this._groups=e,this._parents=t}function Vf(){return new Ei([[document.documentElement]],EM)}function vB(){return this}Ei.prototype=Vf.prototype={constructor:Ei,select:$F,selectAll:KF,selectChild:ZF,selectChildren:nP,filter:iP,data:uP,enter:rP,exit:fP,join:dP,merge:hP,selection:vB,order:pP,sort:gP,call:yP,nodes:vP,node:_P,size:bP,empty:wP,each:xP,attr:IP,style:NP,property:PP,classed:HP,text:jP,html:GP,raise:QP,lower:JP,append:tB,insert:nB,remove:rB,clone:aB,datum:lB,on:hB,dispatch:mB,[Symbol.iterator]:yB};function Ui(e){return typeof e=="string"?new Ei([[document.querySelector(e)]],[document.documentElement]):new Ei([[e]],EM)}function _B(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ar(e,t){if(e=_B(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const bB={passive:!1},_f={capture:!0,passive:!1};function $y(e){e.stopImmediatePropagation()}function zl(e){e.preventDefault(),e.stopImmediatePropagation()}function CM(e){var t=e.document.documentElement,n=Ui(e).on("dragstart.drag",zl,_f);"onselectstart"in t?n.on("selectstart.drag",zl,_f):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function TM(e,t){var n=e.document.documentElement,i=Ui(e).on("dragstart.drag",null);t&&(i.on("click.drag",zl,_f),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const nh=e=>()=>e;function _v(e,{sourceEvent:t,subject:n,target:i,identifier:r,active:o,x:a,y:u,dx:c,dy:p,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:g}})}_v.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function wB(e){return!e.ctrlKey&&!e.button}function xB(){return this.parentNode}function SB(e,t){return t??{x:e.x,y:e.y}}function kB(){return navigator.maxTouchPoints||"ontouchstart"in this}function EB(){var e=wB,t=xB,n=SB,i=kB,r={},o=zg("start","drag","end"),a=0,u,c,p,g,y=0;function v(I){I.on("mousedown.drag",b).filter(i).on("touchstart.drag",D).on("touchmove.drag",w,bB).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(I,L){if(!(g||!e.call(this,I,L))){var R=C(this,t.call(this,I,L),I,L,"mouse");R&&(Ui(I.view).on("mousemove.drag",k,_f).on("mouseup.drag",T,_f),CM(I.view),$y(I),p=!1,u=I.clientX,c=I.clientY,R("start",I))}}function k(I){if(zl(I),!p){var L=I.clientX-u,R=I.clientY-c;p=L*L+R*R>y}r.mouse("drag",I)}function T(I){Ui(I.view).on("mousemove.drag mouseup.drag",null),TM(I.view,p),zl(I),r.mouse("end",I)}function D(I,L){if(e.call(this,I,L)){var R=I.changedTouches,F=t.call(this,I,L),V=R.length,j,U;for(j=0;j<V;++j)(U=C(this,F,I,L,R[j].identifier,R[j]))&&($y(I),U("start",I,R[j]))}}function w(I){var L=I.changedTouches,R=L.length,F,V;for(F=0;F<R;++F)(V=r[L[F].identifier])&&(zl(I),V("drag",I,L[F]))}function S(I){var L=I.changedTouches,R=L.length,F,V;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),F=0;F<R;++F)(V=r[L[F].identifier])&&($y(I),V("end",I,L[F]))}function C(I,L,R,F,V,j){var U=o.copy(),$=ar(j||R,L),B,G,A;if((A=n.call(I,new _v("beforestart",{sourceEvent:R,target:v,identifier:V,active:a,x:$[0],y:$[1],dx:0,dy:0,dispatch:U}),F))!=null)return B=A.x-$[0]||0,G=A.y-$[1]||0,function O(H,Q,q){var z=$,X;switch(H){case"start":r[V]=O,X=a++;break;case"end":delete r[V],--a;case"drag":$=ar(q||Q,L),X=a;break}U.call(H,I,new _v(H,{sourceEvent:Q,subject:A,target:v,identifier:V,active:X,x:$[0]+B,y:$[1]+G,dx:$[0]-z[0],dy:$[1]-z[1],dispatch:U}),F)}}return v.filter=function(I){return arguments.length?(e=typeof I=="function"?I:nh(!!I),v):e},v.container=function(I){return arguments.length?(t=typeof I=="function"?I:nh(I),v):t},v.subject=function(I){return arguments.length?(n=typeof I=="function"?I:nh(I),v):n},v.touchable=function(I){return arguments.length?(i=typeof I=="function"?I:nh(!!I),v):i},v.on=function(){var I=o.on.apply(o,arguments);return I===o?v:I},v.clickDistance=function(I){return arguments.length?(y=(I=+I)*I,v):Math.sqrt(y)},v}function rb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function MM(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function $f(){}var bf=.7,Cp=1/bf,Ul="\\s*([+-]?\\d+)\\s*",wf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CB=/^#([0-9a-f]{3,8})$/,TB=new RegExp(`^rgb\\(${Ul},${Ul},${Ul}\\)$`),MB=new RegExp(`^rgb\\(${Wr},${Wr},${Wr}\\)$`),IB=new RegExp(`^rgba\\(${Ul},${Ul},${Ul},${wf}\\)$`),AB=new RegExp(`^rgba\\(${Wr},${Wr},${Wr},${wf}\\)$`),DB=new RegExp(`^hsl\\(${wf},${Wr},${Wr}\\)$`),LB=new RegExp(`^hsla\\(${wf},${Wr},${Wr},${wf}\\)$`),xS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rb($f,xf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:SS,formatHex:SS,formatHex8:NB,formatHsl:OB,formatRgb:kS,toString:kS});function SS(){return this.rgb().formatHex()}function NB(){return this.rgb().formatHex8()}function OB(){return IM(this).formatHsl()}function kS(){return this.rgb().formatRgb()}function xf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=CB.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ES(t):n===3?new ui(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ih(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ih(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TB.exec(e))?new ui(t[1],t[2],t[3],1):(t=MB.exec(e))?new ui(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IB.exec(e))?ih(t[1],t[2],t[3],t[4]):(t=AB.exec(e))?ih(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=DB.exec(e))?MS(t[1],t[2]/100,t[3]/100,1):(t=LB.exec(e))?MS(t[1],t[2]/100,t[3]/100,t[4]):xS.hasOwnProperty(e)?ES(xS[e]):e==="transparent"?new ui(NaN,NaN,NaN,0):null}function ES(e){return new ui(e>>16&255,e>>8&255,e&255,1)}function ih(e,t,n,i){return i<=0&&(e=t=n=NaN),new ui(e,t,n,i)}function RB(e){return e instanceof $f||(e=xf(e)),e?(e=e.rgb(),new ui(e.r,e.g,e.b,e.opacity)):new ui}function bv(e,t,n,i){return arguments.length===1?RB(e):new ui(e,t,n,i??1)}function ui(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}rb(ui,bv,MM($f,{brighter(e){return e=e==null?Cp:Math.pow(Cp,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bf:Math.pow(bf,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ui(ga(this.r),ga(this.g),ga(this.b),Tp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CS,formatHex:CS,formatHex8:FB,formatRgb:TS,toString:TS}));function CS(){return`#${ca(this.r)}${ca(this.g)}${ca(this.b)}`}function FB(){return`#${ca(this.r)}${ca(this.g)}${ca(this.b)}${ca((isNaN(this.opacity)?1:this.opacity)*255)}`}function TS(){const e=Tp(this.opacity);return`${e===1?"rgb(":"rgba("}${ga(this.r)}, ${ga(this.g)}, ${ga(this.b)}${e===1?")":`, ${e})`}`}function Tp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ga(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ca(e){return e=ga(e),(e<16?"0":"")+e.toString(16)}function MS(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cr(e,t,n,i)}function IM(e){if(e instanceof cr)return new cr(e.h,e.s,e.l,e.opacity);if(e instanceof $f||(e=xf(e)),!e)return new cr;if(e instanceof cr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,u=o-r,c=(o+r)/2;return u?(t===o?a=(n-i)/u+(n<i)*6:n===o?a=(i-t)/u+2:a=(t-n)/u+4,u/=c<.5?o+r:2-o-r,a*=60):u=c>0&&c<1?0:a,new cr(a,u,c,e.opacity)}function PB(e,t,n,i){return arguments.length===1?IM(e):new cr(e,t,n,i??1)}function cr(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}rb(cr,PB,MM($f,{brighter(e){return e=e==null?Cp:Math.pow(Cp,e),new cr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bf:Math.pow(bf,e),new cr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new ui(jy(e>=240?e-240:e+120,r,i),jy(e,r,i),jy(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new cr(IS(this.h),rh(this.s),rh(this.l),Tp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tp(this.opacity);return`${e===1?"hsl(":"hsla("}${IS(this.h)}, ${rh(this.s)*100}%, ${rh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function IS(e){return e=(e||0)%360,e<0?e+360:e}function rh(e){return Math.max(0,Math.min(1,e||0))}function jy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const AM=e=>()=>e;function BB(e,t){return function(n){return e+n*t}}function zB(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function UB(e){return(e=+e)==1?DM:function(t,n){return n-t?zB(t,n,e):AM(isNaN(t)?n:t)}}function DM(e,t){var n=t-e;return n?BB(e,n):AM(isNaN(e)?t:e)}const AS=function e(t){var n=UB(t);function i(r,o){var a=n((r=bv(r)).r,(o=bv(o)).r),u=n(r.g,o.g),c=n(r.b,o.b),p=DM(r.opacity,o.opacity);return function(g){return r.r=a(g),r.g=u(g),r.b=c(g),r.opacity=p(g),r+""}}return i.gamma=e,i}(1);function so(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var wv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yy=new RegExp(wv.source,"g");function HB(e){return function(){return e}}function WB(e){return function(t){return e(t)+""}}function VB(e,t){var n=wv.lastIndex=Yy.lastIndex=0,i,r,o,a=-1,u=[],c=[];for(e=e+"",t=t+"";(i=wv.exec(e))&&(r=Yy.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(i=i[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:so(i,r)})),n=Yy.lastIndex;return n<t.length&&(o=t.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?WB(c[0].x):HB(t):(t=c.length,function(p){for(var g=0,y;g<t;++g)u[(y=c[g]).i]=y.x(p);return u.join("")})}var DS=180/Math.PI,xv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function LM(e,t,n,i,r,o){var a,u,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,c/=u),e*i<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*DS,skewX:Math.atan(c)*DS,scaleX:a,scaleY:u}}var sh;function $B(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?xv:LM(t.a,t.b,t.c,t.d,t.e,t.f)}function jB(e){return e==null||(sh||(sh=document.createElementNS("http://www.w3.org/2000/svg","g")),sh.setAttribute("transform",e),!(e=sh.transform.baseVal.consolidate()))?xv:(e=e.matrix,LM(e.a,e.b,e.c,e.d,e.e,e.f))}function NM(e,t,n,i){function r(p){return p.length?p.pop()+" ":""}function o(p,g,y,v,b,k){if(p!==y||g!==v){var T=b.push("translate(",null,t,null,n);k.push({i:T-4,x:so(p,y)},{i:T-2,x:so(g,v)})}else(y||v)&&b.push("translate("+y+t+v+n)}function a(p,g,y,v){p!==g?(p-g>180?g+=360:g-p>180&&(p+=360),v.push({i:y.push(r(y)+"rotate(",null,i)-2,x:so(p,g)})):g&&y.push(r(y)+"rotate("+g+i)}function u(p,g,y,v){p!==g?v.push({i:y.push(r(y)+"skewX(",null,i)-2,x:so(p,g)}):g&&y.push(r(y)+"skewX("+g+i)}function c(p,g,y,v,b,k){if(p!==y||g!==v){var T=b.push(r(b)+"scale(",null,",",null,")");k.push({i:T-4,x:so(p,y)},{i:T-2,x:so(g,v)})}else(y!==1||v!==1)&&b.push(r(b)+"scale("+y+","+v+")")}return function(p,g){var y=[],v=[];return p=e(p),g=e(g),o(p.translateX,p.translateY,g.translateX,g.translateY,y,v),a(p.rotate,g.rotate,y,v),u(p.skewX,g.skewX,y,v),c(p.scaleX,p.scaleY,g.scaleX,g.scaleY,y,v),p=g=null,function(b){for(var k=-1,T=v.length,D;++k<T;)y[(D=v[k]).i]=D.x(b);return y.join("")}}}var YB=NM($B,"px, ","px)","deg)"),qB=NM(jB,", ",")",")"),KB=1e-12;function LS(e){return((e=Math.exp(e))+1/e)/2}function GB(e){return((e=Math.exp(e))-1/e)/2}function XB(e){return((e=Math.exp(2*e))-1)/(e+1)}const QB=function e(t,n,i){function r(o,a){var u=o[0],c=o[1],p=o[2],g=a[0],y=a[1],v=a[2],b=g-u,k=y-c,T=b*b+k*k,D,w;if(T<KB)w=Math.log(v/p)/t,D=function(F){return[u+F*b,c+F*k,p*Math.exp(t*F*w)]};else{var S=Math.sqrt(T),C=(v*v-p*p+i*T)/(2*p*n*S),I=(v*v-p*p-i*T)/(2*v*n*S),L=Math.log(Math.sqrt(C*C+1)-C),R=Math.log(Math.sqrt(I*I+1)-I);w=(R-L)/t,D=function(F){var V=F*w,j=LS(L),U=p/(n*S)*(j*XB(t*V+L)-GB(L));return[u+U*b,c+U*k,p*j/LS(t*V+L)]}}return D.duration=w*1e3*t/Math.SQRT2,D}return r.rho=function(o){var a=Math.max(.001,+o),u=a*a,c=u*u;return e(a,u,c)},r}(Math.SQRT2,2,4);var nu=0,Cc=0,cc=0,OM=1e3,Mp,Tc,Ip=0,Ea=0,Hg=0,Sf=typeof performance=="object"&&performance.now?performance:Date,RM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function sb(){return Ea||(RM(ZB),Ea=Sf.now()+Hg)}function ZB(){Ea=0}function Ap(){this._call=this._time=this._next=null}Ap.prototype=FM.prototype={constructor:Ap,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?sb():+n)+(t==null?0:+t),!this._next&&Tc!==this&&(Tc?Tc._next=this:Mp=this,Tc=this),this._call=e,this._time=n,Sv()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sv())}};function FM(e,t,n){var i=new Ap;return i.restart(e,t,n),i}function JB(){sb(),++nu;for(var e=Mp,t;e;)(t=Ea-e._time)>=0&&e._call.call(void 0,t),e=e._next;--nu}function NS(){Ea=(Ip=Sf.now())+Hg,nu=Cc=0;try{JB()}finally{nu=0,e3(),Ea=0}}function t3(){var e=Sf.now(),t=e-Ip;t>OM&&(Hg-=t,Ip=e)}function e3(){for(var e,t=Mp,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Mp=n);Tc=e,Sv(i)}function Sv(e){if(!nu){Cc&&(Cc=clearTimeout(Cc));var t=e-Ea;t>24?(e<1/0&&(Cc=setTimeout(NS,e-Sf.now()-Hg)),cc&&(cc=clearInterval(cc))):(cc||(Ip=Sf.now(),cc=setInterval(t3,OM)),nu=1,RM(NS))}}function OS(e,t,n){var i=new Ap;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var n3=zg("start","end","cancel","interrupt"),i3=[],PM=0,RS=1,kv=2,zh=3,FS=4,Ev=5,Uh=6;function Wg(e,t,n,i,r,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;r3(e,n,{name:t,index:i,group:r,on:n3,tween:i3,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:PM})}function ob(e,t){var n=yr(e,t);if(n.state>PM)throw new Error("too late; already scheduled");return n}function qr(e,t){var n=yr(e,t);if(n.state>zh)throw new Error("too late; already running");return n}function yr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function r3(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=FM(o,0,n.time);function o(p){n.state=RS,n.timer.restart(a,n.delay,n.time),n.delay<=p&&a(p-n.delay)}function a(p){var g,y,v,b;if(n.state!==RS)return c();for(g in i)if(b=i[g],b.name===n.name){if(b.state===zh)return OS(a);b.state===FS?(b.state=Uh,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete i[g]):+g<t&&(b.state=Uh,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete i[g])}if(OS(function(){n.state===zh&&(n.state=FS,n.timer.restart(u,n.delay,n.time),u(p))}),n.state=kv,n.on.call("start",e,e.__data__,n.index,n.group),n.state===kv){for(n.state=zh,r=new Array(v=n.tween.length),g=0,y=-1;g<v;++g)(b=n.tween[g].value.call(e,e.__data__,n.index,n.group))&&(r[++y]=b);r.length=y+1}}function u(p){for(var g=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(c),n.state=Ev,1),y=-1,v=r.length;++y<v;)r[y].call(e,g);n.state===Ev&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Uh,n.timer.stop(),delete i[t];for(var p in i)return;delete e.__transition}}function Hh(e,t){var n=e.__transition,i,r,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((i=n[a]).name!==t){o=!1;continue}r=i.state>kv&&i.state<Ev,i.state=Uh,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[a]}o&&delete e.__transition}}function s3(e){return this.each(function(){Hh(this,e)})}function o3(e,t){var n,i;return function(){var r=qr(this,e),o=r.tween;if(o!==n){i=n=o;for(var a=0,u=i.length;a<u;++a)if(i[a].name===t){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function a3(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=qr(this,e),a=o.tween;if(a!==i){r=(i=a).slice();for(var u={name:t,value:n},c=0,p=r.length;c<p;++c)if(r[c].name===t){r[c]=u;break}c===p&&r.push(u)}o.tween=r}}function l3(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=yr(this.node(),n).tween,r=0,o=i.length,a;r<o;++r)if((a=i[r]).name===e)return a.value;return null}return this.each((t==null?o3:a3)(n,e,t))}function ab(e,t,n){var i=e._id;return e.each(function(){var r=qr(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return yr(r,i).value[t]}}function BM(e,t){var n;return(typeof t=="number"?so:t instanceof xf?AS:(n=xf(t))?(t=n,AS):VB)(e,t)}function u3(e){return function(){this.removeAttribute(e)}}function c3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function f3(e,t,n){var i,r=n+"",o;return function(){var a=this.getAttribute(e);return a===r?null:a===i?o:o=t(i=a,n)}}function d3(e,t,n){var i,r=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===i?o:o=t(i=a,n)}}function h3(e,t,n){var i,r,o;return function(){var a,u=n(this),c;return u==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=u+"",a===c?null:a===i&&c===r?o:(r=c,o=t(i=a,u)))}}function p3(e,t,n){var i,r,o;return function(){var a,u=n(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=u+"",a===c?null:a===i&&c===r?o:(r=c,o=t(i=a,u)))}}function g3(e,t){var n=Ug(e),i=n==="transform"?qB:BM;return this.attrTween(e,typeof t=="function"?(n.local?p3:h3)(n,i,ab(this,"attr."+e,t)):t==null?(n.local?c3:u3)(n):(n.local?d3:f3)(n,i,t))}function m3(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function y3(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function v3(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&y3(e,o)),n}return r._value=t,r}function _3(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&m3(e,o)),n}return r._value=t,r}function b3(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Ug(e);return this.tween(n,(i.local?v3:_3)(i,t))}function w3(e,t){return function(){ob(this,e).delay=+t.apply(this,arguments)}}function x3(e,t){return t=+t,function(){ob(this,e).delay=t}}function S3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?w3:x3)(t,e)):yr(this.node(),t).delay}function k3(e,t){return function(){qr(this,e).duration=+t.apply(this,arguments)}}function E3(e,t){return t=+t,function(){qr(this,e).duration=t}}function C3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?k3:E3)(t,e)):yr(this.node(),t).duration}function T3(e,t){if(typeof t!="function")throw new Error;return function(){qr(this,e).ease=t}}function M3(e){var t=this._id;return arguments.length?this.each(T3(t,e)):yr(this.node(),t).ease}function I3(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;qr(this,e).ease=n}}function A3(e){if(typeof e!="function")throw new Error;return this.each(I3(this._id,e))}function D3(e){typeof e!="function"&&(e=mM(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,u=i[r]=[],c,p=0;p<a;++p)(c=o[p])&&e.call(c,c.__data__,p,o)&&u.push(c);return new Ds(i,this._parents,this._name,this._id)}function L3(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),a=new Array(i),u=0;u<o;++u)for(var c=t[u],p=n[u],g=c.length,y=a[u]=new Array(g),v,b=0;b<g;++b)(v=c[b]||p[b])&&(y[b]=v);for(;u<i;++u)a[u]=t[u];return new Ds(a,this._parents,this._name,this._id)}function N3(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function O3(e,t,n){var i,r,o=N3(t)?ob:qr;return function(){var a=o(this,e),u=a.on;u!==i&&(r=(i=u).copy()).on(t,n),a.on=r}}function R3(e,t){var n=this._id;return arguments.length<2?yr(this.node(),n).on.on(e):this.each(O3(n,e,t))}function F3(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function P3(){return this.on("end.remove",F3(this._id))}function B3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nb(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var u=i[a],c=u.length,p=o[a]=new Array(c),g,y,v=0;v<c;++v)(g=u[v])&&(y=e.call(g,g.__data__,v,u))&&("__data__"in g&&(y.__data__=g.__data__),p[v]=y,Wg(p[v],t,n,v,p,yr(g,n)));return new Ds(o,this._parents,t,n)}function z3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gM(e));for(var i=this._groups,r=i.length,o=[],a=[],u=0;u<r;++u)for(var c=i[u],p=c.length,g,y=0;y<p;++y)if(g=c[y]){for(var v=e.call(g,g.__data__,y,c),b,k=yr(g,n),T=0,D=v.length;T<D;++T)(b=v[T])&&Wg(b,t,n,T,v,k);o.push(v),a.push(g)}return new Ds(o,a,t,n)}var U3=Vf.prototype.constructor;function H3(){return new U3(this._groups,this._parents)}function W3(e,t){var n,i,r;return function(){var o=eu(this,e),a=(this.style.removeProperty(e),eu(this,e));return o===a?null:o===n&&a===i?r:r=t(n=o,i=a)}}function zM(e){return function(){this.style.removeProperty(e)}}function V3(e,t,n){var i,r=n+"",o;return function(){var a=eu(this,e);return a===r?null:a===i?o:o=t(i=a,n)}}function $3(e,t,n){var i,r,o;return function(){var a=eu(this,e),u=n(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),eu(this,e))),a===c?null:a===i&&c===r?o:(r=c,o=t(i=a,u))}}function j3(e,t){var n,i,r,o="style."+t,a="end."+o,u;return function(){var c=qr(this,e),p=c.on,g=c.value[o]==null?u||(u=zM(t)):void 0;(p!==n||r!==g)&&(i=(n=p).copy()).on(a,r=g),c.on=i}}function Y3(e,t,n){var i=(e+="")=="transform"?YB:BM;return t==null?this.styleTween(e,W3(e,i)).on("end.style."+e,zM(e)):typeof t=="function"?this.styleTween(e,$3(e,i,ab(this,"style."+e,t))).each(j3(this._id,e)):this.styleTween(e,V3(e,i,t),n).on("end.style."+e,null)}function q3(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function K3(e,t,n){var i,r;function o(){var a=t.apply(this,arguments);return a!==r&&(i=(r=a)&&q3(e,a,n)),i}return o._value=t,o}function G3(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,K3(e,t,n??""))}function X3(e){return function(){this.textContent=e}}function Q3(e){return function(){var t=e(this);this.textContent=t??""}}function Z3(e){return this.tween("text",typeof e=="function"?Q3(ab(this,"text",e)):X3(e==null?"":e+""))}function J3(e){return function(t){this.textContent=e.call(this,t)}}function tz(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&J3(r)),t}return i._value=e,i}function ez(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,tz(e))}function nz(){for(var e=this._name,t=this._id,n=UM(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],u=a.length,c,p=0;p<u;++p)if(c=a[p]){var g=yr(c,t);Wg(c,e,n,p,a,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Ds(i,this._parents,e,n)}function iz(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(o,a){var u={value:a},c={value:function(){--r===0&&o()}};n.each(function(){var p=qr(this,i),g=p.on;g!==e&&(t=(e=g).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),p.on=t}),r===0&&o()})}var rz=0;function Ds(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function UM(){return++rz}var as=Vf.prototype;Ds.prototype={constructor:Ds,select:B3,selectAll:z3,selectChild:as.selectChild,selectChildren:as.selectChildren,filter:D3,merge:L3,selection:H3,transition:nz,call:as.call,nodes:as.nodes,node:as.node,size:as.size,empty:as.empty,each:as.each,on:R3,attr:g3,attrTween:b3,style:Y3,styleTween:G3,text:Z3,textTween:ez,remove:P3,tween:l3,delay:S3,duration:C3,ease:M3,easeVarying:A3,end:iz,[Symbol.iterator]:as[Symbol.iterator]};function sz(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var oz={time:null,delay:0,duration:250,ease:sz};function az(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function lz(e){var t,n;e instanceof Ds?(t=e._id,e=e._name):(t=UM(),(n=oz).time=sb(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],u=a.length,c,p=0;p<u;++p)(c=a[p])&&Wg(c,e,t,p,a,n||az(c,t));return new Ds(i,this._parents,e,t)}Vf.prototype.interrupt=s3;Vf.prototype.transition=lz;const oh=e=>()=>e;function uz(e,{sourceEvent:t,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function xs(e,t,n){this.k=e,this.x=t,this.y=n}xs.prototype={constructor:xs,scale:function(e){return e===1?this:new xs(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new xs(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Cs=new xs(1,0,0);xs.prototype;function qy(e){e.stopImmediatePropagation()}function fc(e){e.preventDefault(),e.stopImmediatePropagation()}function cz(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function fz(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function PS(){return this.__zoom||Cs}function dz(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function hz(){return navigator.maxTouchPoints||"ontouchstart"in this}function pz(e,t,n){var i=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function HM(){var e=cz,t=fz,n=pz,i=dz,r=hz,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,c=QB,p=zg("start","zoom","end"),g,y,v,b=500,k=150,T=0,D=10;function w(A){A.property("__zoom",PS).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",U).filter(r).on("touchstart.zoom",$).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(A,O,H,Q){var q=A.selection?A.selection():A;q.property("__zoom",PS),A!==q?L(A,O,H,Q):q.interrupt().each(function(){R(this,arguments).event(Q).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},w.scaleBy=function(A,O,H,Q){w.scaleTo(A,function(){var q=this.__zoom.k,z=typeof O=="function"?O.apply(this,arguments):O;return q*z},H,Q)},w.scaleTo=function(A,O,H,Q){w.transform(A,function(){var q=t.apply(this,arguments),z=this.__zoom,X=H==null?I(q):typeof H=="function"?H.apply(this,arguments):H,J=z.invert(X),tt=typeof O=="function"?O.apply(this,arguments):O;return n(C(S(z,tt),X,J),q,a)},H,Q)},w.translateBy=function(A,O,H,Q){w.transform(A,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof H=="function"?H.apply(this,arguments):H),t.apply(this,arguments),a)},null,Q)},w.translateTo=function(A,O,H,Q,q){w.transform(A,function(){var z=t.apply(this,arguments),X=this.__zoom,J=Q==null?I(z):typeof Q=="function"?Q.apply(this,arguments):Q;return n(Cs.translate(J[0],J[1]).scale(X.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof H=="function"?-H.apply(this,arguments):-H),z,a)},Q,q)};function S(A,O){return O=Math.max(o[0],Math.min(o[1],O)),O===A.k?A:new xs(O,A.x,A.y)}function C(A,O,H){var Q=O[0]-H[0]*A.k,q=O[1]-H[1]*A.k;return Q===A.x&&q===A.y?A:new xs(A.k,Q,q)}function I(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function L(A,O,H,Q){A.on("start.zoom",function(){R(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(Q).end()}).tween("zoom",function(){var q=this,z=arguments,X=R(q,z).event(Q),J=t.apply(q,z),tt=H==null?I(J):typeof H=="function"?H.apply(q,z):H,at=Math.max(J[1][0]-J[0][0],J[1][1]-J[0][1]),rt=q.__zoom,dt=typeof O=="function"?O.apply(q,z):O,mt=c(rt.invert(tt).concat(at/rt.k),dt.invert(tt).concat(at/dt.k));return function(_t){if(_t===1)_t=dt;else{var $t=mt(_t),Mt=at/$t[2];_t=new xs(Mt,tt[0]-$t[0]*Mt,tt[1]-$t[1]*Mt)}X.zoom(null,_t)}})}function R(A,O,H){return!H&&A.__zooming||new F(A,O)}function F(A,O){this.that=A,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,O),this.taps=0}F.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,O){return this.mouse&&A!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var O=Ui(this.that).datum();p.call(A,this.that,new uz(A,{sourceEvent:this.sourceEvent,target:w,type:A,transform:this.that.__zoom,dispatch:p}),O)}};function V(A,...O){if(!e.apply(this,arguments))return;var H=R(this,O).event(A),Q=this.__zoom,q=Math.max(o[0],Math.min(o[1],Q.k*Math.pow(2,i.apply(this,arguments)))),z=ar(A);if(H.wheel)(H.mouse[0][0]!==z[0]||H.mouse[0][1]!==z[1])&&(H.mouse[1]=Q.invert(H.mouse[0]=z)),clearTimeout(H.wheel);else{if(Q.k===q)return;H.mouse=[z,Q.invert(z)],Hh(this),H.start()}fc(A),H.wheel=setTimeout(X,k),H.zoom("mouse",n(C(S(Q,q),H.mouse[0],H.mouse[1]),H.extent,a));function X(){H.wheel=null,H.end()}}function j(A,...O){if(v||!e.apply(this,arguments))return;var H=A.currentTarget,Q=R(this,O,!0).event(A),q=Ui(A.view).on("mousemove.zoom",tt,!0).on("mouseup.zoom",at,!0),z=ar(A,H),X=A.clientX,J=A.clientY;CM(A.view),qy(A),Q.mouse=[z,this.__zoom.invert(z)],Hh(this),Q.start();function tt(rt){if(fc(rt),!Q.moved){var dt=rt.clientX-X,mt=rt.clientY-J;Q.moved=dt*dt+mt*mt>T}Q.event(rt).zoom("mouse",n(C(Q.that.__zoom,Q.mouse[0]=ar(rt,H),Q.mouse[1]),Q.extent,a))}function at(rt){q.on("mousemove.zoom mouseup.zoom",null),TM(rt.view,Q.moved),fc(rt),Q.event(rt).end()}}function U(A,...O){if(e.apply(this,arguments)){var H=this.__zoom,Q=ar(A.changedTouches?A.changedTouches[0]:A,this),q=H.invert(Q),z=H.k*(A.shiftKey?.5:2),X=n(C(S(H,z),Q,q),t.apply(this,O),a);fc(A),u>0?Ui(this).transition().duration(u).call(L,X,Q,A):Ui(this).call(w.transform,X,Q,A)}}function $(A,...O){if(e.apply(this,arguments)){var H=A.touches,Q=H.length,q=R(this,O,A.changedTouches.length===Q).event(A),z,X,J,tt;for(qy(A),X=0;X<Q;++X)J=H[X],tt=ar(J,this),tt=[tt,this.__zoom.invert(tt),J.identifier],q.touch0?!q.touch1&&q.touch0[2]!==tt[2]&&(q.touch1=tt,q.taps=0):(q.touch0=tt,z=!0,q.taps=1+!!g);g&&(g=clearTimeout(g)),z&&(q.taps<2&&(y=tt[0],g=setTimeout(function(){g=null},b)),Hh(this),q.start())}}function B(A,...O){if(this.__zooming){var H=R(this,O).event(A),Q=A.changedTouches,q=Q.length,z,X,J,tt;for(fc(A),z=0;z<q;++z)X=Q[z],J=ar(X,this),H.touch0&&H.touch0[2]===X.identifier?H.touch0[0]=J:H.touch1&&H.touch1[2]===X.identifier&&(H.touch1[0]=J);if(X=H.that.__zoom,H.touch1){var at=H.touch0[0],rt=H.touch0[1],dt=H.touch1[0],mt=H.touch1[1],_t=(_t=dt[0]-at[0])*_t+(_t=dt[1]-at[1])*_t,$t=($t=mt[0]-rt[0])*$t+($t=mt[1]-rt[1])*$t;X=S(X,Math.sqrt(_t/$t)),J=[(at[0]+dt[0])/2,(at[1]+dt[1])/2],tt=[(rt[0]+mt[0])/2,(rt[1]+mt[1])/2]}else if(H.touch0)J=H.touch0[0],tt=H.touch0[1];else return;H.zoom("touch",n(C(X,J,tt),H.extent,a))}}function G(A,...O){if(this.__zooming){var H=R(this,O).event(A),Q=A.changedTouches,q=Q.length,z,X;for(qy(A),v&&clearTimeout(v),v=setTimeout(function(){v=null},b),z=0;z<q;++z)X=Q[z],H.touch0&&H.touch0[2]===X.identifier?delete H.touch0:H.touch1&&H.touch1[2]===X.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(X=ar(X,this),Math.hypot(y[0]-X[0],y[1]-X[1])<D)){var J=Ui(this).on("dblclick.zoom");J&&J.apply(this,arguments)}}}return w.wheelDelta=function(A){return arguments.length?(i=typeof A=="function"?A:oh(+A),w):i},w.filter=function(A){return arguments.length?(e=typeof A=="function"?A:oh(!!A),w):e},w.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:oh(!!A),w):r},w.extent=function(A){return arguments.length?(t=typeof A=="function"?A:oh([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),w):t},w.scaleExtent=function(A){return arguments.length?(o[0]=+A[0],o[1]=+A[1],w):[o[0],o[1]]},w.translateExtent=function(A){return arguments.length?(a[0][0]=+A[0][0],a[1][0]=+A[1][0],a[0][1]=+A[0][1],a[1][1]=+A[1][1],w):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},w.constrain=function(A){return arguments.length?(n=A,w):n},w.duration=function(A){return arguments.length?(u=+A,w):u},w.interpolate=function(A){return arguments.length?(c=A,w):c},w.on=function(){var A=p.on.apply(p,arguments);return A===p?w:A},w.clickDistance=function(A){return arguments.length?(T=(A=+A)*A,w):Math.sqrt(T)},w.tapDistance=function(A){return arguments.length?(D=+A,w):D},w}const Vg=Z.createContext(null),gz=Vg.Provider,Ls={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},WM=Ls.error001();function Ee(e,t){const n=Z.useContext(Vg);if(n===null)throw new Error(WM);return hM(n,e,t)}const pn=()=>{const e=Z.useContext(Vg);if(e===null)throw new Error(WM);return Z.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},mz=e=>e.userSelectionActive?"none":"all";function lb({position:e,children:t,className:n,style:i,...r}){const o=Ee(mz),a=`${e}`.split("-");return nt.createElement("div",{className:In(["react-flow__panel",n,...a]),style:{...i,pointerEvents:o},...r},t)}function yz({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:nt.createElement(lb,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},nt.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const vz=({x:e,y:t,label:n,labelStyle:i={},labelShowBg:r=!0,labelBgStyle:o={},labelBgPadding:a=[2,4],labelBgBorderRadius:u=2,children:c,className:p,...g})=>{const y=Z.useRef(null),[v,b]=Z.useState({x:0,y:0,width:0,height:0}),k=In(["react-flow__edge-textwrapper",p]);return Z.useEffect(()=>{if(y.current){const T=y.current.getBBox();b({x:T.x,y:T.y,width:T.width,height:T.height})}},[n]),typeof n>"u"||!n?null:nt.createElement("g",{transform:`translate(${e-v.width/2} ${t-v.height/2})`,className:k,visibility:v.width?"visible":"hidden",...g},r&&nt.createElement("rect",{width:v.width+2*a[0],x:-a[0],y:-a[1],height:v.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:u,ry:u}),nt.createElement("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:y,style:i},n),c)};var _z=Z.memo(vz);const ub=e=>({width:e.offsetWidth,height:e.offsetHeight}),iu=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),cb=(e={x:0,y:0},t)=>({x:iu(e.x,t[0][0],t[1][0]),y:iu(e.y,t[0][1],t[1][1])}),BS=(e,t,n)=>e<t?iu(Math.abs(e-t),1,50)/50:e>n?-iu(Math.abs(e-n),1,50)/50:0,VM=(e,t)=>{const n=BS(e.x,35,t.width-35)*20,i=BS(e.y,35,t.height-35)*20;return[n,i]},$M=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},jM=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),kf=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),YM=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),zS=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),bz=(e,t)=>YM(jM(kf(e),kf(t))),Cv=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},wz=e=>Vi(e.width)&&Vi(e.height)&&Vi(e.x)&&Vi(e.y),Vi=e=>!isNaN(e)&&isFinite(e),Ye=Symbol.for("internals"),qM=["Enter"," ","Escape"],xz=(e,t)=>{},Sz=e=>"nativeEvent"in e;function Tv(e){var r,o;const t=Sz(e)?e.nativeEvent:e,n=((o=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const KM=e=>"clientX"in e,Eo=(e,t)=>{var o,a;const n=KM(e),i=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,r=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},Dp=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},jf=({id:e,path:t,labelX:n,labelY:i,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:v,interactionWidth:b=20})=>nt.createElement(nt.Fragment,null,nt.createElement("path",{id:e,style:g,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:y,markerStart:v}),b&&nt.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:b,className:"react-flow__edge-interaction"}),r&&Vi(n)&&Vi(i)?nt.createElement(_z,{x:n,y:i,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:p}):null);jf.displayName="BaseEdge";function dc(e,t,n){return n===void 0?n:i=>{const r=t().edges.find(o=>o.id===e);r&&n(i,{...r})}}function GM({sourceX:e,sourceY:t,targetX:n,targetY:i}){const r=Math.abs(n-e)/2,o=n<e?n+r:n-r,a=Math.abs(i-t)/2,u=i<t?i+a:i-a;return[o,u,r,a]}function XM({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:r,sourceControlY:o,targetControlX:a,targetControlY:u}){const c=e*.125+r*.375+a*.375+n*.125,p=t*.125+o*.375+u*.375+i*.125,g=Math.abs(c-e),y=Math.abs(p-t);return[c,p,g,y]}var Ca;(function(e){e.Strict="strict",e.Loose="loose"})(Ca||(Ca={}));var fa;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(fa||(fa={}));var Ef;(function(e){e.Partial="partial",e.Full="full"})(Ef||(Ef={}));var fo;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(fo||(fo={}));var Lp;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Lp||(Lp={}));var St;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(St||(St={}));function US({pos:e,x1:t,y1:n,x2:i,y2:r}){return e===St.Left||e===St.Right?[.5*(t+i),n]:[t,.5*(n+r)]}function QM({sourceX:e,sourceY:t,sourcePosition:n=St.Bottom,targetX:i,targetY:r,targetPosition:o=St.Top}){const[a,u]=US({pos:n,x1:e,y1:t,x2:i,y2:r}),[c,p]=US({pos:o,x1:i,y1:r,x2:e,y2:t}),[g,y,v,b]=XM({sourceX:e,sourceY:t,targetX:i,targetY:r,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:p});return[`M${e},${t} C${a},${u} ${c},${p} ${i},${r}`,g,y,v,b]}const fb=Z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:r=St.Bottom,targetPosition:o=St.Top,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:b,markerStart:k,interactionWidth:T})=>{const[D,w,S]=QM({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:i,targetPosition:o});return nt.createElement(jf,{path:D,labelX:w,labelY:S,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:b,markerStart:k,interactionWidth:T})});fb.displayName="SimpleBezierEdge";const HS={[St.Left]:{x:-1,y:0},[St.Right]:{x:1,y:0},[St.Top]:{x:0,y:-1},[St.Bottom]:{x:0,y:1}},kz=({source:e,sourcePosition:t=St.Bottom,target:n})=>t===St.Left||t===St.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},WS=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ez({source:e,sourcePosition:t=St.Bottom,target:n,targetPosition:i=St.Top,center:r,offset:o}){const a=HS[t],u=HS[i],c={x:e.x+a.x*o,y:e.y+a.y*o},p={x:n.x+u.x*o,y:n.y+u.y*o},g=kz({source:c,sourcePosition:t,target:p}),y=g.x!==0?"x":"y",v=g[y];let b=[],k,T;const D={x:0,y:0},w={x:0,y:0},[S,C,I,L]=GM({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[y]*u[y]===-1){k=r.x??S,T=r.y??C;const F=[{x:k,y:c.y},{x:k,y:p.y}],V=[{x:c.x,y:T},{x:p.x,y:T}];a[y]===v?b=y==="x"?F:V:b=y==="x"?V:F}else{const F=[{x:c.x,y:p.y}],V=[{x:p.x,y:c.y}];if(y==="x"?b=a.x===v?V:F:b=a.y===v?F:V,t===i){const G=Math.abs(e[y]-n[y]);if(G<=o){const A=Math.min(o-1,o-G);a[y]===v?D[y]=(c[y]>e[y]?-1:1)*A:w[y]=(p[y]>n[y]?-1:1)*A}}if(t!==i){const G=y==="x"?"y":"x",A=a[y]===u[G],O=c[G]>p[G],H=c[G]<p[G];(a[y]===1&&(!A&&O||A&&H)||a[y]!==1&&(!A&&H||A&&O))&&(b=y==="x"?F:V)}const j={x:c.x+D.x,y:c.y+D.y},U={x:p.x+w.x,y:p.y+w.y},$=Math.max(Math.abs(j.x-b[0].x),Math.abs(U.x-b[0].x)),B=Math.max(Math.abs(j.y-b[0].y),Math.abs(U.y-b[0].y));$>=B?(k=(j.x+U.x)/2,T=b[0].y):(k=b[0].x,T=(j.y+U.y)/2)}return[[e,{x:c.x+D.x,y:c.y+D.y},...b,{x:p.x+w.x,y:p.y+w.y},n],k,T,I,L]}function Cz(e,t,n,i){const r=Math.min(WS(e,t)/2,WS(t,n)/2,i),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const p=e.x<n.x?-1:1,g=e.y<n.y?1:-1;return`L ${o+r*p},${a}Q ${o},${a} ${o},${a+r*g}`}const u=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${a+r*c}Q ${o},${a} ${o+r*u},${a}`}function Mv({sourceX:e,sourceY:t,sourcePosition:n=St.Bottom,targetX:i,targetY:r,targetPosition:o=St.Top,borderRadius:a=5,centerX:u,centerY:c,offset:p=20}){const[g,y,v,b,k]=Ez({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:r},targetPosition:o,center:{x:u,y:c},offset:p});return[g.reduce((D,w,S)=>{let C="";return S>0&&S<g.length-1?C=Cz(g[S-1],w,g[S+1],a):C=`${S===0?"M":"L"}${w.x} ${w.y}`,D+=C,D},""),y,v,b,k]}const $g=Z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:p,style:g,sourcePosition:y=St.Bottom,targetPosition:v=St.Top,markerEnd:b,markerStart:k,pathOptions:T,interactionWidth:D})=>{const[w,S,C]=Mv({sourceX:e,sourceY:t,sourcePosition:y,targetX:n,targetY:i,targetPosition:v,borderRadius:T==null?void 0:T.borderRadius,offset:T==null?void 0:T.offset});return nt.createElement(jf,{path:w,labelX:S,labelY:C,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:p,style:g,markerEnd:b,markerStart:k,interactionWidth:D})});$g.displayName="SmoothStepEdge";const db=Z.memo(e=>{var t;return nt.createElement($g,{...e,pathOptions:Z.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});db.displayName="StepEdge";function Tz({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[r,o,a,u]=GM({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,r,o,a,u]}const hb=Z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:v,interactionWidth:b})=>{const[k,T,D]=Tz({sourceX:e,sourceY:t,targetX:n,targetY:i});return nt.createElement(jf,{path:k,labelX:T,labelY:D,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:v,interactionWidth:b})});hb.displayName="StraightEdge";function ah(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function VS({pos:e,x1:t,y1:n,x2:i,y2:r,c:o}){switch(e){case St.Left:return[t-ah(t-i,o),n];case St.Right:return[t+ah(i-t,o),n];case St.Top:return[t,n-ah(n-r,o)];case St.Bottom:return[t,n+ah(r-n,o)]}}function ZM({sourceX:e,sourceY:t,sourcePosition:n=St.Bottom,targetX:i,targetY:r,targetPosition:o=St.Top,curvature:a=.25}){const[u,c]=VS({pos:n,x1:e,y1:t,x2:i,y2:r,c:a}),[p,g]=VS({pos:o,x1:i,y1:r,x2:e,y2:t,c:a}),[y,v,b,k]=XM({sourceX:e,sourceY:t,targetX:i,targetY:r,sourceControlX:u,sourceControlY:c,targetControlX:p,targetControlY:g});return[`M${e},${t} C${u},${c} ${p},${g} ${i},${r}`,y,v,b,k]}const Np=Z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:r=St.Bottom,targetPosition:o=St.Top,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:b,markerStart:k,pathOptions:T,interactionWidth:D})=>{const[w,S,C]=ZM({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:i,targetPosition:o,curvature:T==null?void 0:T.curvature});return nt.createElement(jf,{path:w,labelX:S,labelY:C,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:v,markerEnd:b,markerStart:k,interactionWidth:D})});Np.displayName="BezierEdge";const pb=Z.createContext(null),Mz=pb.Provider;pb.Consumer;const Iz=()=>Z.useContext(pb),Az=e=>"id"in e&&"source"in e&&"target"in e,Dz=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`reactflow__edge-${e}${t||""}-${n}${i||""}`,Iv=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`,Lz=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Nz=(e,t)=>{if(!e.source||!e.target)return t;let n;return Az(e)?n={...e}:n={...e,id:Dz(e)},Lz(n,t)?t:t.concat(n)},Av=({x:e,y:t},[n,i,r],o,[a,u])=>{const c={x:(e-n)/r,y:(t-i)/r};return o?{x:a*Math.round(c.x/a),y:u*Math.round(c.y/u)}:c},JM=({x:e,y:t},[n,i,r])=>({x:e*r+n,y:t*r+i}),ma=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],i=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-i};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-i}:r}},jg=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,r)=>{const{x:o,y:a}=ma(r,t).positionAbsolute;return jM(i,kf({x:o,y:a,width:r.width||0,height:r.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return YM(n)},tI=(e,t,[n,i,r]=[0,0,1],o=!1,a=!1,u=[0,0])=>{const c={x:(t.x-n)/r,y:(t.y-i)/r,width:t.width/r,height:t.height/r},p=[];return e.forEach(g=>{const{width:y,height:v,selectable:b=!0,hidden:k=!1}=g;if(a&&!b||k)return!1;const{positionAbsolute:T}=ma(g,u),D={x:T.x,y:T.y,width:y||0,height:v||0},w=Cv(c,D),S=typeof y>"u"||typeof v>"u"||y===null||v===null,C=o&&w>0,I=(y||0)*(v||0);(S||C||w>=I||g.dragging)&&p.push(g)}),p},eI=(e,t)=>{const n=e.map(i=>i.id);return t.filter(i=>n.includes(i.source)||n.includes(i.target))},nI=(e,t,n,i,r,o=.1)=>{const a=t/(e.width*(1+o)),u=n/(e.height*(1+o)),c=Math.min(a,u),p=iu(c,i,r),g=e.x+e.width/2,y=e.y+e.height/2,v=t/2-g*p,b=n/2-y*p;return{x:v,y:b,zoom:p}},ra=(e,t=0)=>e.transition().duration(t);function $S(e,t,n,i){return(t[n]||[]).reduce((r,o)=>{var a,u;return`${e.id}-${o.id}-${n}`!==i&&r.push({id:o.id||null,type:n,nodeId:e.id,x:(((a=e.positionAbsolute)==null?void 0:a.x)??0)+o.x+o.width/2,y:(((u=e.positionAbsolute)==null?void 0:u.y)??0)+o.y+o.height/2}),r},[])}function Oz(e,t,n,i,r,o){const{x:a,y:u}=Eo(e),p=t.elementsFromPoint(a,u).find(k=>k.classList.contains("react-flow__handle"));if(p){const k=p.getAttribute("data-nodeid");if(k){const T=gb(void 0,p),D=p.getAttribute("data-handleid"),w=o({nodeId:k,id:D,type:T});if(w){const S=r.find(C=>C.nodeId===k&&C.type===T&&C.id===D);return{handle:{id:D,type:T,nodeId:k,x:(S==null?void 0:S.x)||n.x,y:(S==null?void 0:S.y)||n.y},validHandleResult:w}}}}let g=[],y=1/0;if(r.forEach(k=>{const T=Math.sqrt((k.x-n.x)**2+(k.y-n.y)**2);if(T<=i){const D=o(k);T<=y&&(T<y?g=[{handle:k,validHandleResult:D}]:T===y&&g.push({handle:k,validHandleResult:D}),y=T)}}),!g.length)return{handle:null,validHandleResult:iI()};if(g.length===1)return g[0];const v=g.some(({validHandleResult:k})=>k.isValid),b=g.some(({handle:k})=>k.type==="target");return g.find(({handle:k,validHandleResult:T})=>b?k.type==="target":v?T.isValid:!0)||g[0]}const Rz={source:null,target:null,sourceHandle:null,targetHandle:null},iI=()=>({handleDomNode:null,isValid:!1,connection:Rz,endHandle:null});function rI(e,t,n,i,r,o,a){const u=r==="target",c=a.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),p={...iI(),handleDomNode:c};if(c){const g=gb(void 0,c),y=c.getAttribute("data-nodeid"),v=c.getAttribute("data-handleid"),b=c.classList.contains("connectable"),k=c.classList.contains("connectableend"),T={source:u?y:n,sourceHandle:u?v:i,target:u?n:y,targetHandle:u?i:v};p.connection=T,b&&k&&(t===Ca.Strict?u&&g==="source"||!u&&g==="target":y!==n||v!==i)&&(p.endHandle={nodeId:y,handleId:v,type:g},p.isValid=o(T))}return p}function Fz({nodes:e,nodeId:t,handleId:n,handleType:i}){return e.reduce((r,o)=>{if(o[Ye]){const{handleBounds:a}=o[Ye];let u=[],c=[];a&&(u=$S(o,a,"source",`${t}-${n}-${i}`),c=$S(o,a,"target",`${t}-${n}-${i}`)),r.push(...u,...c)}return r},[])}function gb(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Ky(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Pz(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function sI({event:e,handleId:t,nodeId:n,onConnect:i,isTarget:r,getState:o,setState:a,isValidConnection:u,edgeUpdaterType:c,onReconnectEnd:p}){const g=$M(e.target),{connectionMode:y,domNode:v,autoPanOnConnect:b,connectionRadius:k,onConnectStart:T,panBy:D,getNodes:w,cancelConnection:S}=o();let C=0,I;const{x:L,y:R}=Eo(e),F=g==null?void 0:g.elementFromPoint(L,R),V=gb(c,F),j=v==null?void 0:v.getBoundingClientRect();if(!j||!V)return;let U,$=Eo(e,j),B=!1,G=null,A=!1,O=null;const H=Fz({nodes:w(),nodeId:n,handleId:t,handleType:V}),Q=()=>{if(!b)return;const[X,J]=VM($,j);D({x:X,y:J}),C=requestAnimationFrame(Q)};a({connectionPosition:$,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:V,connectionStartHandle:{nodeId:n,handleId:t,type:V},connectionEndHandle:null}),T==null||T(e,{nodeId:n,handleId:t,handleType:V});function q(X){const{transform:J}=o();$=Eo(X,j);const{handle:tt,validHandleResult:at}=Oz(X,g,Av($,J,!1,[1,1]),k,H,rt=>rI(rt,y,n,t,r?"target":"source",u,g));if(I=tt,B||(Q(),B=!0),O=at.handleDomNode,G=at.connection,A=at.isValid,a({connectionPosition:I&&A?JM({x:I.x,y:I.y},J):$,connectionStatus:Pz(!!I,A),connectionEndHandle:at.endHandle}),!I&&!A&&!O)return Ky(U);G.source!==G.target&&O&&(Ky(U),U=O,O.classList.add("connecting","react-flow__handle-connecting"),O.classList.toggle("valid",A),O.classList.toggle("react-flow__handle-valid",A))}function z(X){var J,tt;(I||O)&&G&&A&&(i==null||i(G)),(tt=(J=o()).onConnectEnd)==null||tt.call(J,X),c&&(p==null||p(X)),Ky(U),S(),cancelAnimationFrame(C),B=!1,A=!1,G=null,O=null,g.removeEventListener("mousemove",q),g.removeEventListener("mouseup",z),g.removeEventListener("touchmove",q),g.removeEventListener("touchend",z)}g.addEventListener("mousemove",q),g.addEventListener("mouseup",z),g.addEventListener("touchmove",q),g.addEventListener("touchend",z)}const jS=()=>!0,Bz=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),zz=(e,t,n)=>i=>{const{connectionStartHandle:r,connectionEndHandle:o,connectionClickStartHandle:a}=i;return{connecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.handleId)===t&&(r==null?void 0:r.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n}},oI=Z.forwardRef(({type:e="source",position:t=St.Top,isValidConnection:n,isConnectable:i=!0,isConnectableStart:r=!0,isConnectableEnd:o=!0,id:a,onConnect:u,children:c,className:p,onMouseDown:g,onTouchStart:y,...v},b)=>{var j,U;const k=a||null,T=e==="target",D=pn(),w=Iz(),{connectOnClick:S,noPanClassName:C}=Ee(Bz,bn),{connecting:I,clickConnecting:L}=Ee(zz(w,k,e),bn);w||(U=(j=D.getState()).onError)==null||U.call(j,"010",Ls.error010());const R=$=>{const{defaultEdgeOptions:B,onConnect:G,hasDefaultEdges:A}=D.getState(),O={...B,...$};if(A){const{edges:H,setEdges:Q}=D.getState();Q(Nz(O,H))}G==null||G(O),u==null||u(O)},F=$=>{if(!w)return;const B=KM($);r&&(B&&$.button===0||!B)&&sI({event:$,handleId:k,nodeId:w,onConnect:R,isTarget:T,getState:D.getState,setState:D.setState,isValidConnection:n||D.getState().isValidConnection||jS}),B?g==null||g($):y==null||y($)},V=$=>{const{onClickConnectStart:B,onClickConnectEnd:G,connectionClickStartHandle:A,connectionMode:O,isValidConnection:H}=D.getState();if(!w||!A&&!r)return;if(!A){B==null||B($,{nodeId:w,handleId:k,handleType:e}),D.setState({connectionClickStartHandle:{nodeId:w,type:e,handleId:k}});return}const Q=$M($.target),q=n||H||jS,{connection:z,isValid:X}=rI({nodeId:w,id:k,type:e},O,A.nodeId,A.handleId||null,A.type,q,Q);X&&R(z),G==null||G($),D.setState({connectionClickStartHandle:null})};return nt.createElement("div",{"data-handleid":k,"data-nodeid":w,"data-handlepos":t,"data-id":`${w}-${k}-${e}`,className:In(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",C,p,{source:!T,target:T,connectable:i,connectablestart:r,connectableend:o,connecting:L,connectionindicator:i&&(r&&!I||o&&I)}]),onMouseDown:F,onTouchStart:F,onClick:S?V:void 0,ref:b,...v},c)});oI.displayName="Handle";var Io=Z.memo(oI);const aI=({data:e,isConnectable:t,targetPosition:n=St.Top,sourcePosition:i=St.Bottom})=>nt.createElement(nt.Fragment,null,nt.createElement(Io,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,nt.createElement(Io,{type:"source",position:i,isConnectable:t}));aI.displayName="DefaultNode";var Dv=Z.memo(aI);const lI=({data:e,isConnectable:t,sourcePosition:n=St.Bottom})=>nt.createElement(nt.Fragment,null,e==null?void 0:e.label,nt.createElement(Io,{type:"source",position:n,isConnectable:t}));lI.displayName="InputNode";var uI=Z.memo(lI);const cI=({data:e,isConnectable:t,targetPosition:n=St.Top})=>nt.createElement(nt.Fragment,null,nt.createElement(Io,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);cI.displayName="OutputNode";var fI=Z.memo(cI);const mb=()=>null;mb.displayName="GroupNode";const Uz=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),lh=e=>e.id;function Hz(e,t){return bn(e.selectedNodes.map(lh),t.selectedNodes.map(lh))&&bn(e.selectedEdges.map(lh),t.selectedEdges.map(lh))}const dI=Z.memo(({onSelectionChange:e})=>{const t=pn(),{selectedNodes:n,selectedEdges:i}=Ee(Uz,Hz);return Z.useEffect(()=>{const r={nodes:n,edges:i};e==null||e(r),t.getState().onSelectionChange.forEach(o=>o(r))},[n,i,e]),null});dI.displayName="SelectionListener";const Wz=e=>!!e.onSelectionChange;function Vz({onSelectionChange:e}){const t=Ee(Wz);return e||t?nt.createElement(dI,{onSelectionChange:e}):null}const $z=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function nl(e,t){Z.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function qt(e,t,n){Z.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const jz=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:r,onConnectStart:o,onConnectEnd:a,onClickConnectStart:u,onClickConnectEnd:c,nodesDraggable:p,nodesConnectable:g,nodesFocusable:y,edgesFocusable:v,edgesUpdatable:b,elevateNodesOnSelect:k,minZoom:T,maxZoom:D,nodeExtent:w,onNodesChange:S,onEdgesChange:C,elementsSelectable:I,connectionMode:L,snapGrid:R,snapToGrid:F,translateExtent:V,connectOnClick:j,defaultEdgeOptions:U,fitView:$,fitViewOptions:B,onNodesDelete:G,onEdgesDelete:A,onNodeDrag:O,onNodeDragStart:H,onNodeDragStop:Q,onSelectionDrag:q,onSelectionDragStart:z,onSelectionDragStop:X,noPanClassName:J,nodeOrigin:tt,rfId:at,autoPanOnConnect:rt,autoPanOnNodeDrag:dt,onError:mt,connectionRadius:_t,isValidConnection:$t,nodeDragThreshold:Mt})=>{const{setNodes:Ut,setEdges:jt,setDefaultNodesAndEdges:be,setMinZoom:Ce,setMaxZoom:ne,setTranslateExtent:ge,setNodeExtent:We,reset:Bt}=Ee($z,bn),pt=pn();return Z.useEffect(()=>{const Ve=i==null?void 0:i.map(zt=>({...zt,...U}));return be(n,Ve),()=>{Bt()}},[]),qt("defaultEdgeOptions",U,pt.setState),qt("connectionMode",L,pt.setState),qt("onConnect",r,pt.setState),qt("onConnectStart",o,pt.setState),qt("onConnectEnd",a,pt.setState),qt("onClickConnectStart",u,pt.setState),qt("onClickConnectEnd",c,pt.setState),qt("nodesDraggable",p,pt.setState),qt("nodesConnectable",g,pt.setState),qt("nodesFocusable",y,pt.setState),qt("edgesFocusable",v,pt.setState),qt("edgesUpdatable",b,pt.setState),qt("elementsSelectable",I,pt.setState),qt("elevateNodesOnSelect",k,pt.setState),qt("snapToGrid",F,pt.setState),qt("snapGrid",R,pt.setState),qt("onNodesChange",S,pt.setState),qt("onEdgesChange",C,pt.setState),qt("connectOnClick",j,pt.setState),qt("fitViewOnInit",$,pt.setState),qt("fitViewOnInitOptions",B,pt.setState),qt("onNodesDelete",G,pt.setState),qt("onEdgesDelete",A,pt.setState),qt("onNodeDrag",O,pt.setState),qt("onNodeDragStart",H,pt.setState),qt("onNodeDragStop",Q,pt.setState),qt("onSelectionDrag",q,pt.setState),qt("onSelectionDragStart",z,pt.setState),qt("onSelectionDragStop",X,pt.setState),qt("noPanClassName",J,pt.setState),qt("nodeOrigin",tt,pt.setState),qt("rfId",at,pt.setState),qt("autoPanOnConnect",rt,pt.setState),qt("autoPanOnNodeDrag",dt,pt.setState),qt("onError",mt,pt.setState),qt("connectionRadius",_t,pt.setState),qt("isValidConnection",$t,pt.setState),qt("nodeDragThreshold",Mt,pt.setState),nl(e,Ut),nl(t,jt),nl(T,Ce),nl(D,ne),nl(V,ge),nl(w,We),null},YS={display:"none"},Yz={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},hI="react-flow__node-desc",pI="react-flow__edge-desc",qz="react-flow__aria-live",Kz=e=>e.ariaLiveMessage;function Gz({rfId:e}){const t=Ee(Kz);return nt.createElement("div",{id:`${qz}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Yz},t)}function Xz({rfId:e,disableKeyboardA11y:t}){return nt.createElement(nt.Fragment,null,nt.createElement("div",{id:`${hI}-${e}`,style:YS},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),nt.createElement("div",{id:`${pI}-${e}`,style:YS},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&nt.createElement(Gz,{rfId:e}))}var Cf=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,i]=Z.useState(!1),r=Z.useRef(!1),o=Z.useRef(new Set([])),[a,u]=Z.useMemo(()=>{if(e!==null){const p=(Array.isArray(e)?e:[e]).filter(y=>typeof y=="string").map(y=>y.split("+")),g=p.reduce((y,v)=>y.concat(...v),[]);return[p,g]}return[[],[]]},[e]);return Z.useEffect(()=>{const c=typeof document<"u"?document:null,p=(t==null?void 0:t.target)||c;if(e!==null){const g=b=>{if(r.current=b.ctrlKey||b.metaKey||b.shiftKey,(!r.current||r.current&&!t.actInsideInputWithModifier)&&Tv(b))return!1;const T=KS(b.code,u);o.current.add(b[T]),qS(a,o.current,!1)&&(b.preventDefault(),i(!0))},y=b=>{if((!r.current||r.current&&!t.actInsideInputWithModifier)&&Tv(b))return!1;const T=KS(b.code,u);qS(a,o.current,!0)?(i(!1),o.current.clear()):o.current.delete(b[T]),b.key==="Meta"&&o.current.clear(),r.current=!1},v=()=>{o.current.clear(),i(!1)};return p==null||p.addEventListener("keydown",g),p==null||p.addEventListener("keyup",y),window.addEventListener("blur",v),()=>{p==null||p.removeEventListener("keydown",g),p==null||p.removeEventListener("keyup",y),window.removeEventListener("blur",v)}}},[e,i]),n};function qS(e,t,n){return e.filter(i=>n||i.length===t.size).some(i=>i.every(r=>t.has(r)))}function KS(e,t){return t.includes(e)?"code":"key"}function gI(e,t,n,i){var u,c;const r=e.parentNode||e.parentId;if(!r)return n;const o=t.get(r),a=ma(o,i);return gI(o,t,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(((u=o[Ye])==null?void 0:u.z)??0)>(n.z??0)?((c=o[Ye])==null?void 0:c.z)??0:n.z??0},i)}function mI(e,t,n){e.forEach(i=>{var o;const r=i.parentNode||i.parentId;if(r&&!e.has(r))throw new Error(`Parent node ${r} not found`);if(r||n!=null&&n[i.id]){const{x:a,y:u,z:c}=gI(i,e,{...i.position,z:((o=i[Ye])==null?void 0:o.z)??0},t);i.positionAbsolute={x:a,y:u},i[Ye].z=c,n!=null&&n[i.id]&&(i[Ye].isParent=!0)}})}function Gy(e,t,n,i){const r=new Map,o={},a=i?1e3:0;return e.forEach(u=>{var b;const c=(Vi(u.zIndex)?u.zIndex:0)+(u.selected?a:0),p=t.get(u.id),g={...u,positionAbsolute:{x:u.position.x,y:u.position.y}},y=u.parentNode||u.parentId;y&&(o[y]=!0);const v=(p==null?void 0:p.type)&&(p==null?void 0:p.type)!==u.type;Object.defineProperty(g,Ye,{enumerable:!1,value:{handleBounds:v||(b=p==null?void 0:p[Ye])==null?void 0:b.handleBounds,z:c}}),r.set(u.id,g)}),mI(r,n,o),r}function yI(e,t={}){const{getNodes:n,width:i,height:r,minZoom:o,maxZoom:a,d3Zoom:u,d3Selection:c,fitViewOnInitDone:p,fitViewOnInit:g,nodeOrigin:y}=e(),v=t.initial&&!p&&g;if(u&&c&&(v||!t.initial)){const k=n().filter(D=>{var S;const w=t.includeHiddenNodes?D.width&&D.height:!D.hidden;return(S=t.nodes)!=null&&S.length?w&&t.nodes.some(C=>C.id===D.id):w}),T=k.every(D=>D.width&&D.height);if(k.length>0&&T){const D=jg(k,y),{x:w,y:S,zoom:C}=nI(D,i,r,t.minZoom??o,t.maxZoom??a,t.padding??.1),I=Cs.translate(w,S).scale(C);return typeof t.duration=="number"&&t.duration>0?u.transform(ra(c,t.duration),I):u.transform(c,I),!0}}return!1}function Qz(e,t){return e.forEach(n=>{const i=t.get(n.id);i&&t.set(i.id,{...i,[Ye]:i[Ye],selected:n.selected})}),new Map(t)}function Zz(e,t){return t.map(n=>{const i=e.find(r=>r.id===n.id);return i&&(n.selected=i.selected),n})}function uh({changedNodes:e,changedEdges:t,get:n,set:i}){const{nodeInternals:r,edges:o,onNodesChange:a,onEdgesChange:u,hasDefaultNodes:c,hasDefaultEdges:p}=n();e!=null&&e.length&&(c&&i({nodeInternals:Qz(e,r)}),a==null||a(e)),t!=null&&t.length&&(p&&i({edges:Zz(t,o)}),u==null||u(t))}const il=()=>{},Jz={zoomIn:il,zoomOut:il,zoomTo:il,getZoom:()=>1,setViewport:il,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:il,fitBounds:il,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},t4=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),e4=()=>{const e=pn(),{d3Zoom:t,d3Selection:n}=Ee(t4,bn);return Z.useMemo(()=>n&&t?{zoomIn:r=>t.scaleBy(ra(n,r==null?void 0:r.duration),1.2),zoomOut:r=>t.scaleBy(ra(n,r==null?void 0:r.duration),1/1.2),zoomTo:(r,o)=>t.scaleTo(ra(n,o==null?void 0:o.duration),r),getZoom:()=>e.getState().transform[2],setViewport:(r,o)=>{const[a,u,c]=e.getState().transform,p=Cs.translate(r.x??a,r.y??u).scale(r.zoom??c);t.transform(ra(n,o==null?void 0:o.duration),p)},getViewport:()=>{const[r,o,a]=e.getState().transform;return{x:r,y:o,zoom:a}},fitView:r=>yI(e.getState,r),setCenter:(r,o,a)=>{const{width:u,height:c,maxZoom:p}=e.getState(),g=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:p,y=u/2-r*g,v=c/2-o*g,b=Cs.translate(y,v).scale(g);t.transform(ra(n,a==null?void 0:a.duration),b)},fitBounds:(r,o)=>{const{width:a,height:u,minZoom:c,maxZoom:p}=e.getState(),{x:g,y,zoom:v}=nI(r,a,u,c,p,(o==null?void 0:o.padding)??.1),b=Cs.translate(g,y).scale(v);t.transform(ra(n,o==null?void 0:o.duration),b)},project:r=>{const{transform:o,snapToGrid:a,snapGrid:u}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Av(r,o,a,u)},screenToFlowPosition:r=>{const{transform:o,snapToGrid:a,snapGrid:u,domNode:c}=e.getState();if(!c)return r;const{x:p,y:g}=c.getBoundingClientRect(),y={x:r.x-p,y:r.y-g};return Av(y,o,a,u)},flowToScreenPosition:r=>{const{transform:o,domNode:a}=e.getState();if(!a)return r;const{x:u,y:c}=a.getBoundingClientRect(),p=JM(r,o);return{x:p.x+u,y:p.y+c}},viewportInitialized:!0}:Jz,[t,n])};function yb(){const e=e4(),t=pn(),n=Z.useCallback(()=>t.getState().getNodes().map(T=>({...T})),[]),i=Z.useCallback(T=>t.getState().nodeInternals.get(T),[]),r=Z.useCallback(()=>{const{edges:T=[]}=t.getState();return T.map(D=>({...D}))},[]),o=Z.useCallback(T=>{const{edges:D=[]}=t.getState();return D.find(w=>w.id===T)},[]),a=Z.useCallback(T=>{const{getNodes:D,setNodes:w,hasDefaultNodes:S,onNodesChange:C}=t.getState(),I=D(),L=typeof T=="function"?T(I):T;if(S)w(L);else if(C){const R=L.length===0?I.map(F=>({type:"remove",id:F.id})):L.map(F=>({item:F,type:"reset"}));C(R)}},[]),u=Z.useCallback(T=>{const{edges:D=[],setEdges:w,hasDefaultEdges:S,onEdgesChange:C}=t.getState(),I=typeof T=="function"?T(D):T;if(S)w(I);else if(C){const L=I.length===0?D.map(R=>({type:"remove",id:R.id})):I.map(R=>({item:R,type:"reset"}));C(L)}},[]),c=Z.useCallback(T=>{const D=Array.isArray(T)?T:[T],{getNodes:w,setNodes:S,hasDefaultNodes:C,onNodesChange:I}=t.getState();if(C){const R=[...w(),...D];S(R)}else if(I){const L=D.map(R=>({item:R,type:"add"}));I(L)}},[]),p=Z.useCallback(T=>{const D=Array.isArray(T)?T:[T],{edges:w=[],setEdges:S,hasDefaultEdges:C,onEdgesChange:I}=t.getState();if(C)S([...w,...D]);else if(I){const L=D.map(R=>({item:R,type:"add"}));I(L)}},[]),g=Z.useCallback(()=>{const{getNodes:T,edges:D=[],transform:w}=t.getState(),[S,C,I]=w;return{nodes:T().map(L=>({...L})),edges:D.map(L=>({...L})),viewport:{x:S,y:C,zoom:I}}},[]),y=Z.useCallback(({nodes:T,edges:D})=>{const{nodeInternals:w,getNodes:S,edges:C,hasDefaultNodes:I,hasDefaultEdges:L,onNodesDelete:R,onEdgesDelete:F,onNodesChange:V,onEdgesChange:j}=t.getState(),U=(T||[]).map(O=>O.id),$=(D||[]).map(O=>O.id),B=S().reduce((O,H)=>{const Q=H.parentNode||H.parentId,q=!U.includes(H.id)&&Q&&O.find(X=>X.id===Q);return(typeof H.deletable=="boolean"?H.deletable:!0)&&(U.includes(H.id)||q)&&O.push(H),O},[]),G=C.filter(O=>typeof O.deletable=="boolean"?O.deletable:!0),A=G.filter(O=>$.includes(O.id));if(B||A){const O=eI(B,G),H=[...A,...O],Q=H.reduce((q,z)=>(q.includes(z.id)||q.push(z.id),q),[]);if((L||I)&&(L&&t.setState({edges:C.filter(q=>!Q.includes(q.id))}),I&&(B.forEach(q=>{w.delete(q.id)}),t.setState({nodeInternals:new Map(w)}))),Q.length>0&&(F==null||F(H),j&&j(Q.map(q=>({id:q,type:"remove"})))),B.length>0&&(R==null||R(B),V)){const q=B.map(z=>({id:z.id,type:"remove"}));V(q)}}},[]),v=Z.useCallback(T=>{const D=wz(T),w=D?null:t.getState().nodeInternals.get(T.id);return!D&&!w?[null,null,D]:[D?T:zS(w),w,D]},[]),b=Z.useCallback((T,D=!0,w)=>{const[S,C,I]=v(T);return S?(w||t.getState().getNodes()).filter(L=>{if(!I&&(L.id===C.id||!L.positionAbsolute))return!1;const R=zS(L),F=Cv(R,S);return D&&F>0||F>=S.width*S.height}):[]},[]),k=Z.useCallback((T,D,w=!0)=>{const[S]=v(T);if(!S)return!1;const C=Cv(S,D);return w&&C>0||C>=S.width*S.height},[]);return Z.useMemo(()=>({...e,getNodes:n,getNode:i,getEdges:r,getEdge:o,setNodes:a,setEdges:u,addNodes:c,addEdges:p,toObject:g,deleteElements:y,getIntersectingNodes:b,isNodeIntersecting:k}),[e,n,i,r,o,a,u,c,p,g,y,b,k])}const n4={actInsideInputWithModifier:!1};var i4=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=pn(),{deleteElements:i}=yb(),r=Cf(e,n4),o=Cf(t);Z.useEffect(()=>{if(r){const{edges:a,getNodes:u}=n.getState(),c=u().filter(g=>g.selected),p=a.filter(g=>g.selected);i({nodes:c,edges:p}),n.setState({nodesSelectionActive:!1})}},[r]),Z.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function r4(e){const t=pn();Z.useEffect(()=>{let n;const i=()=>{var o,a;if(!e.current)return;const r=ub(e.current);(r.height===0||r.width===0)&&((a=(o=t.getState()).onError)==null||a.call(o,"004",Ls.error004())),t.setState({width:r.width||500,height:r.height||500})};return i(),window.addEventListener("resize",i),e.current&&(n=new ResizeObserver(()=>i()),n.observe(e.current)),()=>{window.removeEventListener("resize",i),n&&e.current&&n.unobserve(e.current)}},[])}const vb={position:"absolute",width:"100%",height:"100%",top:0,left:0},s4=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ch=e=>({x:e.x,y:e.y,zoom:e.k}),rl=(e,t)=>e.target.closest(`.${t}`),GS=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),XS=e=>{const t=e.ctrlKey&&Dp()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},o4=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),a4=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:i,zoomOnScroll:r=!0,zoomOnPinch:o=!0,panOnScroll:a=!1,panOnScrollSpeed:u=.5,panOnScrollMode:c=fa.Free,zoomOnDoubleClick:p=!0,elementsSelectable:g,panOnDrag:y=!0,defaultViewport:v,translateExtent:b,minZoom:k,maxZoom:T,zoomActivationKeyCode:D,preventScrolling:w=!0,children:S,noWheelClassName:C,noPanClassName:I})=>{const L=Z.useRef(),R=pn(),F=Z.useRef(!1),V=Z.useRef(!1),j=Z.useRef(null),U=Z.useRef({x:0,y:0,zoom:0}),{d3Zoom:$,d3Selection:B,d3ZoomHandler:G,userSelectionActive:A}=Ee(o4,bn),O=Cf(D),H=Z.useRef(0),Q=Z.useRef(!1),q=Z.useRef();return r4(j),Z.useEffect(()=>{if(j.current){const z=j.current.getBoundingClientRect(),X=HM().scaleExtent([k,T]).translateExtent(b),J=Ui(j.current).call(X),tt=Cs.translate(v.x,v.y).scale(iu(v.zoom,k,T)),at=[[0,0],[z.width,z.height]],rt=X.constrain()(tt,at,b);X.transform(J,rt),X.wheelDelta(XS),R.setState({d3Zoom:X,d3Selection:J,d3ZoomHandler:J.on("wheel.zoom"),transform:[rt.x,rt.y,rt.k],domNode:j.current.closest(".react-flow")})}},[]),Z.useEffect(()=>{B&&$&&(a&&!O&&!A?B.on("wheel.zoom",z=>{if(rl(z,C))return!1;z.preventDefault(),z.stopImmediatePropagation();const X=B.property("__zoom").k||1;if(z.ctrlKey&&o){const $t=ar(z),Mt=XS(z),Ut=X*Math.pow(2,Mt);$.scaleTo(B,Ut,$t,z);return}const J=z.deltaMode===1?20:1;let tt=c===fa.Vertical?0:z.deltaX*J,at=c===fa.Horizontal?0:z.deltaY*J;!Dp()&&z.shiftKey&&c!==fa.Vertical&&(tt=z.deltaY*J,at=0),$.translateBy(B,-(tt/X)*u,-(at/X)*u,{internal:!0});const rt=ch(B.property("__zoom")),{onViewportChangeStart:dt,onViewportChange:mt,onViewportChangeEnd:_t}=R.getState();clearTimeout(q.current),Q.current||(Q.current=!0,t==null||t(z,rt),dt==null||dt(rt)),Q.current&&(e==null||e(z,rt),mt==null||mt(rt),q.current=setTimeout(()=>{n==null||n(z,rt),_t==null||_t(rt),Q.current=!1},150))},{passive:!1}):typeof G<"u"&&B.on("wheel.zoom",function(z,X){if(!w&&z.type==="wheel"&&!z.ctrlKey||rl(z,C))return null;z.preventDefault(),G.call(this,z,X)},{passive:!1}))},[A,a,c,B,$,G,O,o,w,C,t,e,n]),Z.useEffect(()=>{$&&$.on("start",z=>{var tt,at;if(!z.sourceEvent||z.sourceEvent.internal)return null;H.current=(tt=z.sourceEvent)==null?void 0:tt.button;const{onViewportChangeStart:X}=R.getState(),J=ch(z.transform);F.current=!0,U.current=J,((at=z.sourceEvent)==null?void 0:at.type)==="mousedown"&&R.setState({paneDragging:!0}),X==null||X(J),t==null||t(z.sourceEvent,J)})},[$,t]),Z.useEffect(()=>{$&&(A&&!F.current?$.on("zoom",null):A||$.on("zoom",z=>{var J;const{onViewportChange:X}=R.getState();if(R.setState({transform:[z.transform.x,z.transform.y,z.transform.k]}),V.current=!!(i&&GS(y,H.current??0)),(e||X)&&!((J=z.sourceEvent)!=null&&J.internal)){const tt=ch(z.transform);X==null||X(tt),e==null||e(z.sourceEvent,tt)}}))},[A,$,e,y,i]),Z.useEffect(()=>{$&&$.on("end",z=>{if(!z.sourceEvent||z.sourceEvent.internal)return null;const{onViewportChangeEnd:X}=R.getState();if(F.current=!1,R.setState({paneDragging:!1}),i&&GS(y,H.current??0)&&!V.current&&i(z.sourceEvent),V.current=!1,(n||X)&&s4(U.current,z.transform)){const J=ch(z.transform);U.current=J,clearTimeout(L.current),L.current=setTimeout(()=>{X==null||X(J),n==null||n(z.sourceEvent,J)},a?150:0)}})},[$,a,y,n,i]),Z.useEffect(()=>{$&&$.filter(z=>{const X=O||r,J=o&&z.ctrlKey;if((y===!0||Array.isArray(y)&&y.includes(1))&&z.button===1&&z.type==="mousedown"&&(rl(z,"react-flow__node")||rl(z,"react-flow__edge")))return!0;if(!y&&!X&&!a&&!p&&!o||A||!p&&z.type==="dblclick"||rl(z,C)&&z.type==="wheel"||rl(z,I)&&(z.type!=="wheel"||a&&z.type==="wheel"&&!O)||!o&&z.ctrlKey&&z.type==="wheel"||!X&&!a&&!J&&z.type==="wheel"||!y&&(z.type==="mousedown"||z.type==="touchstart")||Array.isArray(y)&&!y.includes(z.button)&&z.type==="mousedown")return!1;const tt=Array.isArray(y)&&y.includes(z.button)||!z.button||z.button<=1;return(!z.ctrlKey||z.type==="wheel")&&tt})},[A,$,r,o,a,p,y,g,O]),nt.createElement("div",{className:"react-flow__renderer",ref:j,style:vb},S)},l4=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function u4(){const{userSelectionActive:e,userSelectionRect:t}=Ee(l4,bn);return e&&t?nt.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function QS(e,t){const n=t.parentNode||t.parentId,i=e.find(r=>r.id===n);if(i){const r=t.position.x+t.width-i.width,o=t.position.y+t.height-i.height;if(r>0||o>0||t.position.x<0||t.position.y<0){if(i.style={...i.style},i.style.width=i.style.width??i.width,i.style.height=i.style.height??i.height,r>0&&(i.style.width+=r),o>0&&(i.style.height+=o),t.position.x<0){const a=Math.abs(t.position.x);i.position.x=i.position.x-a,i.style.width+=a,t.position.x=0}if(t.position.y<0){const a=Math.abs(t.position.y);i.position.y=i.position.y-a,i.style.height+=a,t.position.y=0}i.width=i.style.width,i.height=i.style.height}}}function vI(e,t){if(e.some(i=>i.type==="reset"))return e.filter(i=>i.type==="reset").map(i=>i.item);const n=e.filter(i=>i.type==="add").map(i=>i.item);return t.reduce((i,r)=>{const o=e.filter(u=>u.id===r.id);if(o.length===0)return i.push(r),i;const a={...r};for(const u of o)if(u)switch(u.type){case"select":{a.selected=u.selected;break}case"position":{typeof u.position<"u"&&(a.position=u.position),typeof u.positionAbsolute<"u"&&(a.positionAbsolute=u.positionAbsolute),typeof u.dragging<"u"&&(a.dragging=u.dragging),a.expandParent&&QS(i,a);break}case"dimensions":{typeof u.dimensions<"u"&&(a.width=u.dimensions.width,a.height=u.dimensions.height),typeof u.updateStyle<"u"&&(a.style={...a.style||{},...u.dimensions}),typeof u.resizing=="boolean"&&(a.resizing=u.resizing),a.expandParent&&QS(i,a);break}case"remove":return i}return i.push(a),i},n)}function _I(e,t){return vI(e,t)}function c4(e,t){return vI(e,t)}const oo=(e,t)=>({id:e,type:"select",selected:t});function Dl(e,t){return e.reduce((n,i)=>{const r=t.includes(i.id);return!i.selected&&r?(i.selected=!0,n.push(oo(i.id,!0))):i.selected&&!r&&(i.selected=!1,n.push(oo(i.id,!1))),n},[])}const Xy=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},f4=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),bI=Z.memo(({isSelecting:e,selectionMode:t=Ef.Full,panOnDrag:n,onSelectionStart:i,onSelectionEnd:r,onPaneClick:o,onPaneContextMenu:a,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:p,onPaneMouseLeave:g,children:y})=>{const v=Z.useRef(null),b=pn(),k=Z.useRef(0),T=Z.useRef(0),D=Z.useRef(),{userSelectionActive:w,elementsSelectable:S,dragging:C}=Ee(f4,bn),I=()=>{b.setState({userSelectionActive:!1,userSelectionRect:null}),k.current=0,T.current=0},L=G=>{o==null||o(G),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},R=G=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){G.preventDefault();return}a==null||a(G)},F=u?G=>u(G):void 0,V=G=>{const{resetSelectedElements:A,domNode:O}=b.getState();if(D.current=O==null?void 0:O.getBoundingClientRect(),!S||!e||G.button!==0||G.target!==v.current||!D.current)return;const{x:H,y:Q}=Eo(G,D.current);A(),b.setState({userSelectionRect:{width:0,height:0,startX:H,startY:Q,x:H,y:Q}}),i==null||i(G)},j=G=>{const{userSelectionRect:A,nodeInternals:O,edges:H,transform:Q,onNodesChange:q,onEdgesChange:z,nodeOrigin:X,getNodes:J}=b.getState();if(!e||!D.current||!A)return;b.setState({userSelectionActive:!0,nodesSelectionActive:!1});const tt=Eo(G,D.current),at=A.startX??0,rt=A.startY??0,dt={...A,x:tt.x<at?tt.x:at,y:tt.y<rt?tt.y:rt,width:Math.abs(tt.x-at),height:Math.abs(tt.y-rt)},mt=J(),_t=tI(O,dt,Q,t===Ef.Partial,!0,X),$t=eI(_t,H).map(Ut=>Ut.id),Mt=_t.map(Ut=>Ut.id);if(k.current!==Mt.length){k.current=Mt.length;const Ut=Dl(mt,Mt);Ut.length&&(q==null||q(Ut))}if(T.current!==$t.length){T.current=$t.length;const Ut=Dl(H,$t);Ut.length&&(z==null||z(Ut))}b.setState({userSelectionRect:dt})},U=G=>{if(G.button!==0)return;const{userSelectionRect:A}=b.getState();!w&&A&&G.target===v.current&&(L==null||L(G)),b.setState({nodesSelectionActive:k.current>0}),I(),r==null||r(G)},$=G=>{w&&(b.setState({nodesSelectionActive:k.current>0}),r==null||r(G)),I()},B=S&&(e||w);return nt.createElement("div",{className:In(["react-flow__pane",{dragging:C,selection:e}]),onClick:B?void 0:Xy(L,v),onContextMenu:Xy(R,v),onWheel:Xy(F,v),onMouseEnter:B?void 0:c,onMouseDown:B?V:void 0,onMouseMove:B?j:p,onMouseUp:B?U:void 0,onMouseLeave:B?$:g,ref:v,style:vb},y,nt.createElement(u4,null))});bI.displayName="Pane";function wI(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const i=t.get(n);return i?i.selected?!0:wI(i,t):!1}function ZS(e,t,n){let i=e;do{if(i!=null&&i.matches(t))return!0;if(i===n.current)return!1;i=i.parentElement}while(i);return!1}function d4(e,t,n,i){return Array.from(e.values()).filter(r=>(r.selected||r.id===i)&&(!r.parentNode||r.parentId||!wI(r,e))&&(r.draggable||t&&typeof r.draggable>"u")).map(r=>{var o,a;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=r.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((a=r.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode||r.parentId,parentId:r.parentNode||r.parentId,width:r.width,height:r.height,expandParent:r.expandParent}})}function h4(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function xI(e,t,n,i,r=[0,0],o){const a=h4(e,e.extent||i);let u=a;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const y=n.get(c),{x:v,y:b}=ma(y,r).positionAbsolute;u=y&&Vi(v)&&Vi(b)&&Vi(y.width)&&Vi(y.height)?[[v+e.width*r[0],b+e.height*r[1]],[v+y.width-e.width+e.width*r[0],b+y.height-e.height+e.height*r[1]]]:u}else o==null||o("005",Ls.error005()),u=a;else if(e.extent&&c&&e.extent!=="parent"){const y=n.get(c),{x:v,y:b}=ma(y,r).positionAbsolute;u=[[e.extent[0][0]+v,e.extent[0][1]+b],[e.extent[1][0]+v,e.extent[1][1]+b]]}let p={x:0,y:0};if(c){const y=n.get(c);p=ma(y,r).positionAbsolute}const g=u&&u!=="parent"?cb(t,u):t;return{position:{x:g.x-p.x,y:g.y-p.y},positionAbsolute:g}}function Qy({nodeId:e,dragItems:t,nodeInternals:n}){const i=t.map(r=>({...n.get(r.id),position:r.position,positionAbsolute:r.positionAbsolute}));return[e?i.find(r=>r.id===e):i[0],i]}const JS=(e,t,n,i)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const o=Array.from(r),a=t.getBoundingClientRect(),u={x:a.width*i[0],y:a.height*i[1]};return o.map(c=>{const p=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(p.left-a.left-u.x)/n,y:(p.top-a.top-u.y)/n,...ub(c)}})};function hc(e,t,n){return n===void 0?n:i=>{const r=t().nodeInternals.get(e);r&&n(i,{...r})}}function Lv({id:e,store:t,unselect:n=!1,nodeRef:i}){const{addSelectedNodes:r,unselectNodesAndEdges:o,multiSelectionActive:a,nodeInternals:u,onError:c}=t.getState(),p=u.get(e);if(!p){c==null||c("012",Ls.error012(e));return}t.setState({nodesSelectionActive:!1}),p.selected?(n||p.selected&&a)&&(o({nodes:[p],edges:[]}),requestAnimationFrame(()=>{var g;return(g=i==null?void 0:i.current)==null?void 0:g.blur()})):r([e])}function p4(){const e=pn();return Z.useCallback(({sourceEvent:n})=>{const{transform:i,snapGrid:r,snapToGrid:o}=e.getState(),a=n.touches?n.touches[0].clientX:n.clientX,u=n.touches?n.touches[0].clientY:n.clientY,c={x:(a-i[0])/i[2],y:(u-i[1])/i[2]};return{xSnapped:o?r[0]*Math.round(c.x/r[0]):c.x,ySnapped:o?r[1]*Math.round(c.y/r[1]):c.y,...c}},[])}function Zy(e){return(t,n,i)=>e==null?void 0:e(t,i)}function SI({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:i,nodeId:r,isSelectable:o,selectNodesOnDrag:a}){const u=pn(),[c,p]=Z.useState(!1),g=Z.useRef([]),y=Z.useRef({x:null,y:null}),v=Z.useRef(0),b=Z.useRef(null),k=Z.useRef({x:0,y:0}),T=Z.useRef(null),D=Z.useRef(!1),w=Z.useRef(!1),S=Z.useRef(!1),C=p4();return Z.useEffect(()=>{if(e!=null&&e.current){const I=Ui(e.current),L=({x:V,y:j})=>{const{nodeInternals:U,onNodeDrag:$,onSelectionDrag:B,updateNodePositions:G,nodeExtent:A,snapGrid:O,snapToGrid:H,nodeOrigin:Q,onError:q}=u.getState();y.current={x:V,y:j};let z=!1,X={x:0,y:0,x2:0,y2:0};if(g.current.length>1&&A){const tt=jg(g.current,Q);X=kf(tt)}if(g.current=g.current.map(tt=>{const at={x:V-tt.distance.x,y:j-tt.distance.y};H&&(at.x=O[0]*Math.round(at.x/O[0]),at.y=O[1]*Math.round(at.y/O[1]));const rt=[[A[0][0],A[0][1]],[A[1][0],A[1][1]]];g.current.length>1&&A&&!tt.extent&&(rt[0][0]=tt.positionAbsolute.x-X.x+A[0][0],rt[1][0]=tt.positionAbsolute.x+(tt.width??0)-X.x2+A[1][0],rt[0][1]=tt.positionAbsolute.y-X.y+A[0][1],rt[1][1]=tt.positionAbsolute.y+(tt.height??0)-X.y2+A[1][1]);const dt=xI(tt,at,U,rt,Q,q);return z=z||tt.position.x!==dt.position.x||tt.position.y!==dt.position.y,tt.position=dt.position,tt.positionAbsolute=dt.positionAbsolute,tt}),!z)return;G(g.current,!0,!0),p(!0);const J=r?$:Zy(B);if(J&&T.current){const[tt,at]=Qy({nodeId:r,dragItems:g.current,nodeInternals:U});J(T.current,tt,at)}},R=()=>{if(!b.current)return;const[V,j]=VM(k.current,b.current);if(V!==0||j!==0){const{transform:U,panBy:$}=u.getState();y.current.x=(y.current.x??0)-V/U[2],y.current.y=(y.current.y??0)-j/U[2],$({x:V,y:j})&&L(y.current)}v.current=requestAnimationFrame(R)},F=V=>{var Q;const{nodeInternals:j,multiSelectionActive:U,nodesDraggable:$,unselectNodesAndEdges:B,onNodeDragStart:G,onSelectionDragStart:A}=u.getState();w.current=!0;const O=r?G:Zy(A);(!a||!o)&&!U&&r&&((Q=j.get(r))!=null&&Q.selected||B()),r&&o&&a&&Lv({id:r,store:u,nodeRef:e});const H=C(V);if(y.current=H,g.current=d4(j,$,H,r),O&&g.current){const[q,z]=Qy({nodeId:r,dragItems:g.current,nodeInternals:j});O(V.sourceEvent,q,z)}};if(t)I.on(".drag",null);else{const V=EB().on("start",j=>{const{domNode:U,nodeDragThreshold:$}=u.getState();$===0&&F(j),S.current=!1;const B=C(j);y.current=B,b.current=(U==null?void 0:U.getBoundingClientRect())||null,k.current=Eo(j.sourceEvent,b.current)}).on("drag",j=>{var G,A;const U=C(j),{autoPanOnNodeDrag:$,nodeDragThreshold:B}=u.getState();if(j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1&&(S.current=!0),!S.current){if(!D.current&&w.current&&$&&(D.current=!0,R()),!w.current){const O=U.xSnapped-(((G=y==null?void 0:y.current)==null?void 0:G.x)??0),H=U.ySnapped-(((A=y==null?void 0:y.current)==null?void 0:A.y)??0);Math.sqrt(O*O+H*H)>B&&F(j)}(y.current.x!==U.xSnapped||y.current.y!==U.ySnapped)&&g.current&&w.current&&(T.current=j.sourceEvent,k.current=Eo(j.sourceEvent,b.current),L(U))}}).on("end",j=>{if(!(!w.current||S.current)&&(p(!1),D.current=!1,w.current=!1,cancelAnimationFrame(v.current),g.current)){const{updateNodePositions:U,nodeInternals:$,onNodeDragStop:B,onSelectionDragStop:G}=u.getState(),A=r?B:Zy(G);if(U(g.current,!1,!1),A){const[O,H]=Qy({nodeId:r,dragItems:g.current,nodeInternals:$});A(j.sourceEvent,O,H)}}}).filter(j=>{const U=j.target;return!j.button&&(!n||!ZS(U,`.${n}`,e))&&(!i||ZS(U,i,e))});return I.call(V),()=>{I.on(".drag",null)}}}},[e,t,n,i,o,u,r,a,C]),c}function kI(){const e=pn();return Z.useCallback(n=>{const{nodeInternals:i,nodeExtent:r,updateNodePositions:o,getNodes:a,snapToGrid:u,snapGrid:c,onError:p,nodesDraggable:g}=e.getState(),y=a().filter(S=>S.selected&&(S.draggable||g&&typeof S.draggable>"u")),v=u?c[0]:5,b=u?c[1]:5,k=n.isShiftPressed?4:1,T=n.x*v*k,D=n.y*b*k,w=y.map(S=>{if(S.positionAbsolute){const C={x:S.positionAbsolute.x+T,y:S.positionAbsolute.y+D};u&&(C.x=c[0]*Math.round(C.x/c[0]),C.y=c[1]*Math.round(C.y/c[1]));const{positionAbsolute:I,position:L}=xI(S,C,i,r,void 0,p);S.position=L,S.positionAbsolute=I}return S});o(w,!0,!1)},[])}const Hl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var pc=e=>{const t=({id:n,type:i,data:r,xPos:o,yPos:a,xPosOrigin:u,yPosOrigin:c,selected:p,onClick:g,onMouseEnter:y,onMouseMove:v,onMouseLeave:b,onContextMenu:k,onDoubleClick:T,style:D,className:w,isDraggable:S,isSelectable:C,isConnectable:I,isFocusable:L,selectNodesOnDrag:R,sourcePosition:F,targetPosition:V,hidden:j,resizeObserver:U,dragHandle:$,zIndex:B,isParent:G,noDragClassName:A,noPanClassName:O,initialized:H,disableKeyboardA11y:Q,ariaLabel:q,rfId:z,hasHandleBounds:X})=>{const J=pn(),tt=Z.useRef(null),at=Z.useRef(null),rt=Z.useRef(F),dt=Z.useRef(V),mt=Z.useRef(i),_t=C||S||g||y||v||b,$t=kI(),Mt=hc(n,J.getState,y),Ut=hc(n,J.getState,v),jt=hc(n,J.getState,b),be=hc(n,J.getState,k),Ce=hc(n,J.getState,T),ne=Bt=>{const{nodeDragThreshold:pt}=J.getState();if(C&&(!R||!S||pt>0)&&Lv({id:n,store:J,nodeRef:tt}),g){const Ve=J.getState().nodeInternals.get(n);Ve&&g(Bt,{...Ve})}},ge=Bt=>{if(!Tv(Bt)&&!Q)if(qM.includes(Bt.key)&&C){const pt=Bt.key==="Escape";Lv({id:n,store:J,unselect:pt,nodeRef:tt})}else S&&p&&Object.prototype.hasOwnProperty.call(Hl,Bt.key)&&(J.setState({ariaLiveMessage:`Moved selected node ${Bt.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~a}`}),$t({x:Hl[Bt.key].x,y:Hl[Bt.key].y,isShiftPressed:Bt.shiftKey}))};Z.useEffect(()=>()=>{at.current&&(U==null||U.unobserve(at.current),at.current=null)},[]),Z.useEffect(()=>{if(tt.current&&!j){const Bt=tt.current;(!H||!X||at.current!==Bt)&&(at.current&&(U==null||U.unobserve(at.current)),U==null||U.observe(Bt),at.current=Bt)}},[j,H,X]),Z.useEffect(()=>{const Bt=mt.current!==i,pt=rt.current!==F,Ve=dt.current!==V;tt.current&&(Bt||pt||Ve)&&(Bt&&(mt.current=i),pt&&(rt.current=F),Ve&&(dt.current=V),J.getState().updateNodeDimensions([{id:n,nodeElement:tt.current,forceUpdate:!0}]))},[n,i,F,V]);const We=SI({nodeRef:tt,disabled:j||!S,noDragClassName:A,handleSelector:$,nodeId:n,isSelectable:C,selectNodesOnDrag:R});return j?null:nt.createElement("div",{className:In(["react-flow__node",`react-flow__node-${i}`,{[O]:S},w,{selected:p,selectable:C,parent:G,dragging:We}]),ref:tt,style:{zIndex:B,transform:`translate(${u}px,${c}px)`,pointerEvents:_t?"all":"none",visibility:H?"visible":"hidden",...D},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Mt,onMouseMove:Ut,onMouseLeave:jt,onContextMenu:be,onClick:ne,onDoubleClick:Ce,onKeyDown:L?ge:void 0,tabIndex:L?0:void 0,role:L?"button":void 0,"aria-describedby":Q?void 0:`${hI}-${z}`,"aria-label":q},nt.createElement(Mz,{value:n},nt.createElement(e,{id:n,data:r,type:i,xPos:o,yPos:a,selected:p,isConnectable:I,sourcePosition:F,targetPosition:V,dragging:We,dragHandle:$,zIndex:B})))};return t.displayName="NodeWrapper",Z.memo(t)};const g4=e=>{const t=e.getNodes().filter(n=>n.selected);return{...jg(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function m4({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const i=pn(),{width:r,height:o,x:a,y:u,transformString:c,userSelectionActive:p}=Ee(g4,bn),g=kI(),y=Z.useRef(null);if(Z.useEffect(()=>{var k;n||(k=y.current)==null||k.focus({preventScroll:!0})},[n]),SI({nodeRef:y}),p||!r||!o)return null;const v=e?k=>{const T=i.getState().getNodes().filter(D=>D.selected);e(k,T)}:void 0,b=k=>{Object.prototype.hasOwnProperty.call(Hl,k.key)&&g({x:Hl[k.key].x,y:Hl[k.key].y,isShiftPressed:k.shiftKey})};return nt.createElement("div",{className:In(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},nt.createElement("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:n?void 0:-1,onKeyDown:n?void 0:b,style:{width:r,height:o,top:u,left:a}}))}var y4=Z.memo(m4);const v4=e=>e.nodesSelectionActive,EI=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:r,onPaneContextMenu:o,onPaneScroll:a,deleteKeyCode:u,onMove:c,onMoveStart:p,onMoveEnd:g,selectionKeyCode:y,selectionOnDrag:v,selectionMode:b,onSelectionStart:k,onSelectionEnd:T,multiSelectionKeyCode:D,panActivationKeyCode:w,zoomActivationKeyCode:S,elementsSelectable:C,zoomOnScroll:I,zoomOnPinch:L,panOnScroll:R,panOnScrollSpeed:F,panOnScrollMode:V,zoomOnDoubleClick:j,panOnDrag:U,defaultViewport:$,translateExtent:B,minZoom:G,maxZoom:A,preventScrolling:O,onSelectionContextMenu:H,noWheelClassName:Q,noPanClassName:q,disableKeyboardA11y:z})=>{const X=Ee(v4),J=Cf(y),tt=Cf(w),at=tt||U,rt=tt||R,dt=J||v&&at!==!0;return i4({deleteKeyCode:u,multiSelectionKeyCode:D}),nt.createElement(a4,{onMove:c,onMoveStart:p,onMoveEnd:g,onPaneContextMenu:o,elementsSelectable:C,zoomOnScroll:I,zoomOnPinch:L,panOnScroll:rt,panOnScrollSpeed:F,panOnScrollMode:V,zoomOnDoubleClick:j,panOnDrag:!J&&at,defaultViewport:$,translateExtent:B,minZoom:G,maxZoom:A,zoomActivationKeyCode:S,preventScrolling:O,noWheelClassName:Q,noPanClassName:q},nt.createElement(bI,{onSelectionStart:k,onSelectionEnd:T,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:r,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:at,isSelecting:!!dt,selectionMode:b},e,X&&nt.createElement(y4,{onSelectionContextMenu:H,noPanClassName:q,disableKeyboardA11y:z})))};EI.displayName="FlowRenderer";var _4=Z.memo(EI);function b4(e){return Ee(Z.useCallback(n=>e?tI(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function w4(e){const t={input:pc(e.input||uI),default:pc(e.default||Dv),output:pc(e.output||fI),group:pc(e.group||mb)},n={},i=Object.keys(e).filter(r=>!["input","default","output","group"].includes(r)).reduce((r,o)=>(r[o]=pc(e[o]||Dv),r),n);return{...t,...i}}const x4=({x:e,y:t,width:n,height:i,origin:r})=>!n||!i?{x:e,y:t}:r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-i*r[1]},S4=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),CI=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:r,updateNodeDimensions:o,onError:a}=Ee(S4,bn),u=b4(e.onlyRenderVisibleElements),c=Z.useRef(),p=Z.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const g=new ResizeObserver(y=>{const v=y.map(b=>({id:b.target.getAttribute("data-id"),nodeElement:b.target,forceUpdate:!0}));o(v)});return c.current=g,g},[]);return Z.useEffect(()=>()=>{var g;(g=c==null?void 0:c.current)==null||g.disconnect()},[]),nt.createElement("div",{className:"react-flow__nodes",style:vb},u.map(g=>{var L,R,F;let y=g.type||"default";e.nodeTypes[y]||(a==null||a("003",Ls.error003(y)),y="default");const v=e.nodeTypes[y]||e.nodeTypes.default,b=!!(g.draggable||t&&typeof g.draggable>"u"),k=!!(g.selectable||r&&typeof g.selectable>"u"),T=!!(g.connectable||n&&typeof g.connectable>"u"),D=!!(g.focusable||i&&typeof g.focusable>"u"),w=e.nodeExtent?cb(g.positionAbsolute,e.nodeExtent):g.positionAbsolute,S=(w==null?void 0:w.x)??0,C=(w==null?void 0:w.y)??0,I=x4({x:S,y:C,width:g.width??0,height:g.height??0,origin:e.nodeOrigin});return nt.createElement(v,{key:g.id,id:g.id,className:g.className,style:g.style,type:y,data:g.data,sourcePosition:g.sourcePosition||St.Bottom,targetPosition:g.targetPosition||St.Top,hidden:g.hidden,xPos:S,yPos:C,xPosOrigin:I.x,yPosOrigin:I.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!g.selected,isDraggable:b,isSelectable:k,isConnectable:T,isFocusable:D,resizeObserver:p,dragHandle:g.dragHandle,zIndex:((L=g[Ye])==null?void 0:L.z)??0,isParent:!!((R=g[Ye])!=null&&R.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!g.width&&!!g.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:g.ariaLabel,hasHandleBounds:!!((F=g[Ye])!=null&&F.handleBounds)})}))};CI.displayName="NodeRenderer";var k4=Z.memo(CI);const E4=(e,t,n)=>n===St.Left?e-t:n===St.Right?e+t:e,C4=(e,t,n)=>n===St.Top?e-t:n===St.Bottom?e+t:e,tk="react-flow__edgeupdater",ek=({position:e,centerX:t,centerY:n,radius:i=10,onMouseDown:r,onMouseEnter:o,onMouseOut:a,type:u})=>nt.createElement("circle",{onMouseDown:r,onMouseEnter:o,onMouseOut:a,className:In([tk,`${tk}-${u}`]),cx:E4(t,i,e),cy:C4(n,i,e),r:i,stroke:"transparent",fill:"transparent"}),T4=()=>!0;var sl=e=>{const t=({id:n,className:i,type:r,data:o,onClick:a,onEdgeDoubleClick:u,selected:c,animated:p,label:g,labelStyle:y,labelShowBg:v,labelBgStyle:b,labelBgPadding:k,labelBgBorderRadius:T,style:D,source:w,target:S,sourceX:C,sourceY:I,targetX:L,targetY:R,sourcePosition:F,targetPosition:V,elementsSelectable:j,hidden:U,sourceHandleId:$,targetHandleId:B,onContextMenu:G,onMouseEnter:A,onMouseMove:O,onMouseLeave:H,reconnectRadius:Q,onReconnect:q,onReconnectStart:z,onReconnectEnd:X,markerEnd:J,markerStart:tt,rfId:at,ariaLabel:rt,isFocusable:dt,isReconnectable:mt,pathOptions:_t,interactionWidth:$t,disableKeyboardA11y:Mt})=>{const Ut=Z.useRef(null),[jt,be]=Z.useState(!1),[Ce,ne]=Z.useState(!1),ge=pn(),We=Z.useMemo(()=>`url('#${Iv(tt,at)}')`,[tt,at]),Bt=Z.useMemo(()=>`url('#${Iv(J,at)}')`,[J,at]);if(U)return null;const pt=nn=>{var Je;const{edges:wn,addSelectedEdges:Qr,unselectNodesAndEdges:gi,multiSelectionActive:mi}=ge.getState(),Zi=wn.find(Us=>Us.id===n);Zi&&(j&&(ge.setState({nodesSelectionActive:!1}),Zi.selected&&mi?(gi({nodes:[],edges:[Zi]}),(Je=Ut.current)==null||Je.blur()):Qr([n])),a&&a(nn,Zi))},Ve=dc(n,ge.getState,u),zt=dc(n,ge.getState,G),wr=dc(n,ge.getState,A),Ps=dc(n,ge.getState,O),Kr=dc(n,ge.getState,H),Ii=(nn,wn)=>{if(nn.button!==0)return;const{edges:Qr,isValidConnection:gi}=ge.getState(),mi=wn?S:w,Zi=(wn?B:$)||null,Je=wn?"target":"source",Us=gi||T4,wt=wn,Zr=Qr.find(ve=>ve.id===n);ne(!0),z==null||z(nn,Zr,Je);const xn=ve=>{ne(!1),X==null||X(ve,Zr,Je)};sI({event:nn,handleId:Zi,nodeId:mi,onConnect:ve=>q==null?void 0:q(Zr,ve),isTarget:wt,getState:ge.getState,setState:ge.setState,isValidConnection:Us,edgeUpdaterType:Je,onReconnectEnd:xn})},Bs=nn=>Ii(nn,!0),Qi=nn=>Ii(nn,!1),Ai=()=>be(!0),Gr=()=>be(!1),zs=!j&&!a,Xr=nn=>{var wn;if(!Mt&&qM.includes(nn.key)&&j){const{unselectNodesAndEdges:Qr,addSelectedEdges:gi,edges:mi}=ge.getState();nn.key==="Escape"?((wn=Ut.current)==null||wn.blur(),Qr({edges:[mi.find(Je=>Je.id===n)]})):gi([n])}};return nt.createElement("g",{className:In(["react-flow__edge",`react-flow__edge-${r}`,i,{selected:c,animated:p,inactive:zs,updating:jt}]),onClick:pt,onDoubleClick:Ve,onContextMenu:zt,onMouseEnter:wr,onMouseMove:Ps,onMouseLeave:Kr,onKeyDown:dt?Xr:void 0,tabIndex:dt?0:void 0,role:dt?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":rt===null?void 0:rt||`Edge from ${w} to ${S}`,"aria-describedby":dt?`${pI}-${at}`:void 0,ref:Ut},!Ce&&nt.createElement(e,{id:n,source:w,target:S,selected:c,animated:p,label:g,labelStyle:y,labelShowBg:v,labelBgStyle:b,labelBgPadding:k,labelBgBorderRadius:T,data:o,style:D,sourceX:C,sourceY:I,targetX:L,targetY:R,sourcePosition:F,targetPosition:V,sourceHandleId:$,targetHandleId:B,markerStart:We,markerEnd:Bt,pathOptions:_t,interactionWidth:$t}),mt&&nt.createElement(nt.Fragment,null,(mt==="source"||mt===!0)&&nt.createElement(ek,{position:F,centerX:C,centerY:I,radius:Q,onMouseDown:Bs,onMouseEnter:Ai,onMouseOut:Gr,type:"source"}),(mt==="target"||mt===!0)&&nt.createElement(ek,{position:V,centerX:L,centerY:R,radius:Q,onMouseDown:Qi,onMouseEnter:Ai,onMouseOut:Gr,type:"target"})))};return t.displayName="EdgeWrapper",Z.memo(t)};function M4(e){const t={default:sl(e.default||Np),straight:sl(e.bezier||hb),step:sl(e.step||db),smoothstep:sl(e.step||$g),simplebezier:sl(e.simplebezier||fb)},n={},i=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,o)=>(r[o]=sl(e[o]||Np),r),n);return{...t,...i}}function nk(e,t,n=null){const i=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,a=(n==null?void 0:n.height)||t.height;switch(e){case St.Top:return{x:i+o/2,y:r};case St.Right:return{x:i+o,y:r+a/2};case St.Bottom:return{x:i+o/2,y:r+a};case St.Left:return{x:i,y:r+a/2}}}function ik(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const I4=(e,t,n,i,r,o)=>{const a=nk(n,e,t),u=nk(o,i,r);return{sourceX:a.x,sourceY:a.y,targetX:u.x,targetY:u.y}};function A4({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:i,targetWidth:r,targetHeight:o,width:a,height:u,transform:c}){const p={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+i,t.y+o)};p.x===p.x2&&(p.x2+=1),p.y===p.y2&&(p.y2+=1);const g=kf({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:a/c[2],height:u/c[2]}),y=Math.max(0,Math.min(g.x2,p.x2)-Math.max(g.x,p.x)),v=Math.max(0,Math.min(g.y2,p.y2)-Math.max(g.y,p.y));return Math.ceil(y*v)>0}function rk(e){var i,r,o,a,u;const t=((i=e==null?void 0:e[Ye])==null?void 0:i.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((r=e==null?void 0:e.positionAbsolute)==null?void 0:r.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)||0,y:((u=e==null?void 0:e.positionAbsolute)==null?void 0:u.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const D4=[{level:0,isMaxLevel:!0,edges:[]}];function L4(e,t,n=!1){let i=-1;const r=e.reduce((a,u)=>{var g,y;const c=Vi(u.zIndex);let p=c?u.zIndex:0;if(n){const v=t.get(u.target),b=t.get(u.source),k=u.selected||(v==null?void 0:v.selected)||(b==null?void 0:b.selected),T=Math.max(((g=b==null?void 0:b[Ye])==null?void 0:g.z)||0,((y=v==null?void 0:v[Ye])==null?void 0:y.z)||0,1e3);p=(c?u.zIndex:0)+(k?T:0)}return a[p]?a[p].push(u):a[p]=[u],i=p>i?p:i,a},{}),o=Object.entries(r).map(([a,u])=>{const c=+a;return{edges:u,level:c,isMaxLevel:c===i}});return o.length===0?D4:o}function N4(e,t,n){const i=Ee(Z.useCallback(r=>e?r.edges.filter(o=>{const a=t.get(o.source),u=t.get(o.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(u==null?void 0:u.width)&&(u==null?void 0:u.height)&&A4({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:u.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:u.width,targetHeight:u.height,width:r.width,height:r.height,transform:r.transform})}):r.edges,[e,t]));return L4(i,t,n)}const O4=({color:e="none",strokeWidth:t=1})=>nt.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),R4=({color:e="none",strokeWidth:t=1})=>nt.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),sk={[Lp.Arrow]:O4,[Lp.ArrowClosed]:R4};function F4(e){const t=pn();return Z.useMemo(()=>{var r,o;return Object.prototype.hasOwnProperty.call(sk,e)?sk[e]:((o=(r=t.getState()).onError)==null||o.call(r,"009",Ls.error009(e)),null)},[e])}const P4=({id:e,type:t,color:n,width:i=12.5,height:r=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:u="auto-start-reverse"})=>{const c=F4(t);return c?nt.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:u,refX:"0",refY:"0"},nt.createElement(c,{color:n,strokeWidth:a})):null},B4=({defaultColor:e,rfId:t})=>n=>{const i=[];return n.edges.reduce((r,o)=>([o.markerStart,o.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const u=Iv(a,t);i.includes(u)||(r.push({id:u,color:a.color||e,...a}),i.push(u))}}),r),[]).sort((r,o)=>r.id.localeCompare(o.id))},TI=({defaultColor:e,rfId:t})=>{const n=Ee(Z.useCallback(B4({defaultColor:e,rfId:t}),[e,t]),(i,r)=>!(i.length!==r.length||i.some((o,a)=>o.id!==r[a].id)));return nt.createElement("defs",null,n.map(i=>nt.createElement(P4,{id:i.id,key:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient})))};TI.displayName="MarkerDefinitions";var z4=Z.memo(TI);const U4=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),MI=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:i,edgeTypes:r,noPanClassName:o,onEdgeContextMenu:a,onEdgeMouseEnter:u,onEdgeMouseMove:c,onEdgeMouseLeave:p,onEdgeClick:g,onEdgeDoubleClick:y,onReconnect:v,onReconnectStart:b,onReconnectEnd:k,reconnectRadius:T,children:D,disableKeyboardA11y:w})=>{const{edgesFocusable:S,edgesUpdatable:C,elementsSelectable:I,width:L,height:R,connectionMode:F,nodeInternals:V,onError:j}=Ee(U4,bn),U=N4(t,V,n);return L?nt.createElement(nt.Fragment,null,U.map(({level:$,edges:B,isMaxLevel:G})=>nt.createElement("svg",{key:$,style:{zIndex:$},width:L,height:R,className:"react-flow__edges react-flow__container"},G&&nt.createElement(z4,{defaultColor:e,rfId:i}),nt.createElement("g",null,B.map(A=>{const[O,H,Q]=rk(V.get(A.source)),[q,z,X]=rk(V.get(A.target));if(!Q||!X)return null;let J=A.type||"default";r[J]||(j==null||j("011",Ls.error011(J)),J="default");const tt=r[J]||r.default,at=F===Ca.Strict?z.target:(z.target??[]).concat(z.source??[]),rt=ik(H.source,A.sourceHandle),dt=ik(at,A.targetHandle),mt=(rt==null?void 0:rt.position)||St.Bottom,_t=(dt==null?void 0:dt.position)||St.Top,$t=!!(A.focusable||S&&typeof A.focusable>"u"),Mt=A.reconnectable||A.updatable,Ut=typeof v<"u"&&(Mt||C&&typeof Mt>"u");if(!rt||!dt)return j==null||j("008",Ls.error008(rt,A)),null;const{sourceX:jt,sourceY:be,targetX:Ce,targetY:ne}=I4(O,rt,mt,q,dt,_t);return nt.createElement(tt,{key:A.id,id:A.id,className:In([A.className,o]),type:J,data:A.data,selected:!!A.selected,animated:!!A.animated,hidden:!!A.hidden,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,style:A.style,source:A.source,target:A.target,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerEnd:A.markerEnd,markerStart:A.markerStart,sourceX:jt,sourceY:be,targetX:Ce,targetY:ne,sourcePosition:mt,targetPosition:_t,elementsSelectable:I,onContextMenu:a,onMouseEnter:u,onMouseMove:c,onMouseLeave:p,onClick:g,onEdgeDoubleClick:y,onReconnect:v,onReconnectStart:b,onReconnectEnd:k,reconnectRadius:T,rfId:i,ariaLabel:A.ariaLabel,isFocusable:$t,isReconnectable:Ut,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth,disableKeyboardA11y:w})})))),D):null};MI.displayName="EdgeRenderer";var H4=Z.memo(MI);const W4=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function V4({children:e}){const t=Ee(W4);return nt.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function $4(e){const t=yb(),n=Z.useRef(!1);Z.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const j4={[St.Left]:St.Right,[St.Right]:St.Left,[St.Top]:St.Bottom,[St.Bottom]:St.Top},II=({nodeId:e,handleType:t,style:n,type:i=fo.Bezier,CustomComponent:r,connectionStatus:o})=>{var R,F,V;const{fromNode:a,handleId:u,toX:c,toY:p,connectionMode:g}=Ee(Z.useCallback(j=>({fromNode:j.nodeInternals.get(e),handleId:j.connectionHandleId,toX:(j.connectionPosition.x-j.transform[0])/j.transform[2],toY:(j.connectionPosition.y-j.transform[1])/j.transform[2],connectionMode:j.connectionMode}),[e]),bn),y=(R=a==null?void 0:a[Ye])==null?void 0:R.handleBounds;let v=y==null?void 0:y[t];if(g===Ca.Loose&&(v=v||(y==null?void 0:y[t==="source"?"target":"source"])),!a||!v)return null;const b=u?v.find(j=>j.id===u):v[0],k=b?b.x+b.width/2:(a.width??0)/2,T=b?b.y+b.height/2:a.height??0,D=(((F=a.positionAbsolute)==null?void 0:F.x)??0)+k,w=(((V=a.positionAbsolute)==null?void 0:V.y)??0)+T,S=b==null?void 0:b.position,C=S?j4[S]:null;if(!S||!C)return null;if(r)return nt.createElement(r,{connectionLineType:i,connectionLineStyle:n,fromNode:a,fromHandle:b,fromX:D,fromY:w,toX:c,toY:p,fromPosition:S,toPosition:C,connectionStatus:o});let I="";const L={sourceX:D,sourceY:w,sourcePosition:S,targetX:c,targetY:p,targetPosition:C};return i===fo.Bezier?[I]=ZM(L):i===fo.Step?[I]=Mv({...L,borderRadius:0}):i===fo.SmoothStep?[I]=Mv(L):i===fo.SimpleBezier?[I]=QM(L):I=`M${D},${w} ${c},${p}`,nt.createElement("path",{d:I,fill:"none",className:"react-flow__connection-path",style:n})};II.displayName="ConnectionLine";const Y4=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function q4({containerStyle:e,style:t,type:n,component:i}){const{nodeId:r,handleType:o,nodesConnectable:a,width:u,height:c,connectionStatus:p}=Ee(Y4,bn);return!(r&&o&&u&&a)?null:nt.createElement("svg",{style:e,width:u,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},nt.createElement("g",{className:In(["react-flow__connection",p])},nt.createElement(II,{nodeId:r,handleType:o,style:t,type:n,CustomComponent:i,connectionStatus:p})))}function ok(e,t){return Z.useRef(null),pn(),Z.useMemo(()=>t(e),[e])}const AI=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:i,onMoveEnd:r,onInit:o,onNodeClick:a,onEdgeClick:u,onNodeDoubleClick:c,onEdgeDoubleClick:p,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:v,onNodeContextMenu:b,onSelectionContextMenu:k,onSelectionStart:T,onSelectionEnd:D,connectionLineType:w,connectionLineStyle:S,connectionLineComponent:C,connectionLineContainerStyle:I,selectionKeyCode:L,selectionOnDrag:R,selectionMode:F,multiSelectionKeyCode:V,panActivationKeyCode:j,zoomActivationKeyCode:U,deleteKeyCode:$,onlyRenderVisibleElements:B,elementsSelectable:G,selectNodesOnDrag:A,defaultViewport:O,translateExtent:H,minZoom:Q,maxZoom:q,preventScrolling:z,defaultMarkerColor:X,zoomOnScroll:J,zoomOnPinch:tt,panOnScroll:at,panOnScrollSpeed:rt,panOnScrollMode:dt,zoomOnDoubleClick:mt,panOnDrag:_t,onPaneClick:$t,onPaneMouseEnter:Mt,onPaneMouseMove:Ut,onPaneMouseLeave:jt,onPaneScroll:be,onPaneContextMenu:Ce,onEdgeContextMenu:ne,onEdgeMouseEnter:ge,onEdgeMouseMove:We,onEdgeMouseLeave:Bt,onReconnect:pt,onReconnectStart:Ve,onReconnectEnd:zt,reconnectRadius:wr,noDragClassName:Ps,noWheelClassName:Kr,noPanClassName:Ii,elevateEdgesOnSelect:Bs,disableKeyboardA11y:Qi,nodeOrigin:Ai,nodeExtent:Gr,rfId:zs})=>{const Xr=ok(e,w4),nn=ok(t,M4);return $4(o),nt.createElement(_4,{onPaneClick:$t,onPaneMouseEnter:Mt,onPaneMouseMove:Ut,onPaneMouseLeave:jt,onPaneContextMenu:Ce,onPaneScroll:be,deleteKeyCode:$,selectionKeyCode:L,selectionOnDrag:R,selectionMode:F,onSelectionStart:T,onSelectionEnd:D,multiSelectionKeyCode:V,panActivationKeyCode:j,zoomActivationKeyCode:U,elementsSelectable:G,onMove:n,onMoveStart:i,onMoveEnd:r,zoomOnScroll:J,zoomOnPinch:tt,zoomOnDoubleClick:mt,panOnScroll:at,panOnScrollSpeed:rt,panOnScrollMode:dt,panOnDrag:_t,defaultViewport:O,translateExtent:H,minZoom:Q,maxZoom:q,onSelectionContextMenu:k,preventScrolling:z,noDragClassName:Ps,noWheelClassName:Kr,noPanClassName:Ii,disableKeyboardA11y:Qi},nt.createElement(V4,null,nt.createElement(H4,{edgeTypes:nn,onEdgeClick:u,onEdgeDoubleClick:p,onlyRenderVisibleElements:B,onEdgeContextMenu:ne,onEdgeMouseEnter:ge,onEdgeMouseMove:We,onEdgeMouseLeave:Bt,onReconnect:pt,onReconnectStart:Ve,onReconnectEnd:zt,reconnectRadius:wr,defaultMarkerColor:X,noPanClassName:Ii,elevateEdgesOnSelect:!!Bs,disableKeyboardA11y:Qi,rfId:zs},nt.createElement(q4,{style:S,type:w,component:C,containerStyle:I})),nt.createElement("div",{className:"react-flow__edgelabel-renderer"}),nt.createElement(k4,{nodeTypes:Xr,onNodeClick:a,onNodeDoubleClick:c,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:v,onNodeContextMenu:b,selectNodesOnDrag:A,onlyRenderVisibleElements:B,noPanClassName:Ii,noDragClassName:Ps,disableKeyboardA11y:Qi,nodeOrigin:Ai,nodeExtent:Gr,rfId:zs})))};AI.displayName="GraphView";var K4=Z.memo(AI);const Nv=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Js={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Nv,nodeExtent:Nv,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ca.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:xz,isValidConnection:void 0},G4=()=>PF((e,t)=>({...Js,setNodes:n=>{const{nodeInternals:i,nodeOrigin:r,elevateNodesOnSelect:o}=t();e({nodeInternals:Gy(n,i,r,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:i={}}=t();e({edges:n.map(r=>({...i,...r}))})},setDefaultNodesAndEdges:(n,i)=>{const r=typeof n<"u",o=typeof i<"u",a=r?Gy(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:o?i:[],hasDefaultNodes:r,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:i,nodeInternals:r,fitViewOnInit:o,fitViewOnInitDone:a,fitViewOnInitOptions:u,domNode:c,nodeOrigin:p}=t(),g=c==null?void 0:c.querySelector(".react-flow__viewport");if(!g)return;const y=window.getComputedStyle(g),{m22:v}=new window.DOMMatrixReadOnly(y.transform),b=n.reduce((T,D)=>{const w=r.get(D.id);if(w!=null&&w.hidden)r.set(w.id,{...w,[Ye]:{...w[Ye],handleBounds:void 0}});else if(w){const S=ub(D.nodeElement);!!(S.width&&S.height&&(w.width!==S.width||w.height!==S.height||D.forceUpdate))&&(r.set(w.id,{...w,[Ye]:{...w[Ye],handleBounds:{source:JS(".source",D.nodeElement,v,p),target:JS(".target",D.nodeElement,v,p)}},...S}),T.push({id:w.id,type:"dimensions",dimensions:S}))}return T},[]);mI(r,p);const k=a||o&&!a&&yI(t,{initial:!0,...u});e({nodeInternals:new Map(r),fitViewOnInitDone:k}),(b==null?void 0:b.length)>0&&(i==null||i(b))},updateNodePositions:(n,i=!0,r=!1)=>{const{triggerNodeChanges:o}=t(),a=n.map(u=>{const c={id:u.id,type:"position",dragging:r};return i&&(c.positionAbsolute=u.positionAbsolute,c.position=u.position),c});o(a)},triggerNodeChanges:n=>{const{onNodesChange:i,nodeInternals:r,hasDefaultNodes:o,nodeOrigin:a,getNodes:u,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(o){const p=_I(n,u()),g=Gy(p,r,a,c);e({nodeInternals:g})}i==null||i(n)}},addSelectedNodes:n=>{const{multiSelectionActive:i,edges:r,getNodes:o}=t();let a,u=null;i?a=n.map(c=>oo(c,!0)):(a=Dl(o(),n),u=Dl(r,[])),uh({changedNodes:a,changedEdges:u,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:i,edges:r,getNodes:o}=t();let a,u=null;i?a=n.map(c=>oo(c,!0)):(a=Dl(r,n),u=Dl(o(),[])),uh({changedNodes:u,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:i}={})=>{const{edges:r,getNodes:o}=t(),a=n||o(),u=i||r,c=a.map(g=>(g.selected=!1,oo(g.id,!1))),p=u.map(g=>oo(g.id,!1));uh({changedNodes:c,changedEdges:p,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:i,maxZoom:r}=t();i==null||i.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:i,minZoom:r}=t();i==null||i.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var i;(i=t().d3Zoom)==null||i.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:i}=t(),o=i().filter(u=>u.selected).map(u=>oo(u.id,!1)),a=n.filter(u=>u.selected).map(u=>oo(u.id,!1));uh({changedNodes:o,changedEdges:a,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:i}=t();i.forEach(r=>{r.positionAbsolute=cb(r.position,n)}),e({nodeExtent:n,nodeInternals:new Map(i)})},panBy:n=>{const{transform:i,width:r,height:o,d3Zoom:a,d3Selection:u,translateExtent:c}=t();if(!a||!u||!n.x&&!n.y)return!1;const p=Cs.translate(i[0]+n.x,i[1]+n.y).scale(i[2]),g=[[0,0],[r,o]],y=a==null?void 0:a.constrain()(p,g,c);return a.transform(u,y),i[0]!==y.x||i[1]!==y.y||i[2]!==y.k},cancelConnection:()=>e({connectionNodeId:Js.connectionNodeId,connectionHandleId:Js.connectionHandleId,connectionHandleType:Js.connectionHandleType,connectionStatus:Js.connectionStatus,connectionStartHandle:Js.connectionStartHandle,connectionEndHandle:Js.connectionEndHandle}),reset:()=>e({...Js})}),Object.is),DI=({children:e})=>{const t=Z.useRef(null);return t.current||(t.current=G4()),nt.createElement(gz,{value:t.current},e)};DI.displayName="ReactFlowProvider";const LI=({children:e})=>Z.useContext(Vg)?nt.createElement(nt.Fragment,null,e):nt.createElement(DI,null,e);LI.displayName="ReactFlowWrapper";const X4={input:uI,default:Dv,output:fI,group:mb},Q4={default:Np,straight:hb,step:db,smoothstep:$g,simplebezier:fb},Z4=[0,0],J4=[15,15],t8={x:0,y:0,zoom:1},e8={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},NI=Z.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,className:r,nodeTypes:o=X4,edgeTypes:a=Q4,onNodeClick:u,onEdgeClick:c,onInit:p,onMove:g,onMoveStart:y,onMoveEnd:v,onConnect:b,onConnectStart:k,onConnectEnd:T,onClickConnectStart:D,onClickConnectEnd:w,onNodeMouseEnter:S,onNodeMouseMove:C,onNodeMouseLeave:I,onNodeContextMenu:L,onNodeDoubleClick:R,onNodeDragStart:F,onNodeDrag:V,onNodeDragStop:j,onNodesDelete:U,onEdgesDelete:$,onSelectionChange:B,onSelectionDragStart:G,onSelectionDrag:A,onSelectionDragStop:O,onSelectionContextMenu:H,onSelectionStart:Q,onSelectionEnd:q,connectionMode:z=Ca.Strict,connectionLineType:X=fo.Bezier,connectionLineStyle:J,connectionLineComponent:tt,connectionLineContainerStyle:at,deleteKeyCode:rt="Backspace",selectionKeyCode:dt="Shift",selectionOnDrag:mt=!1,selectionMode:_t=Ef.Full,panActivationKeyCode:$t="Space",multiSelectionKeyCode:Mt=Dp()?"Meta":"Control",zoomActivationKeyCode:Ut=Dp()?"Meta":"Control",snapToGrid:jt=!1,snapGrid:be=J4,onlyRenderVisibleElements:Ce=!1,selectNodesOnDrag:ne=!0,nodesDraggable:ge,nodesConnectable:We,nodesFocusable:Bt,nodeOrigin:pt=Z4,edgesFocusable:Ve,edgesUpdatable:zt,elementsSelectable:wr,defaultViewport:Ps=t8,minZoom:Kr=.5,maxZoom:Ii=2,translateExtent:Bs=Nv,preventScrolling:Qi=!0,nodeExtent:Ai,defaultMarkerColor:Gr="#b1b1b7",zoomOnScroll:zs=!0,zoomOnPinch:Xr=!0,panOnScroll:nn=!1,panOnScrollSpeed:wn=.5,panOnScrollMode:Qr=fa.Free,zoomOnDoubleClick:gi=!0,panOnDrag:mi=!0,onPaneClick:Zi,onPaneMouseEnter:Je,onPaneMouseMove:Us,onPaneMouseLeave:wt,onPaneScroll:Zr,onPaneContextMenu:xn,children:De,onEdgeContextMenu:ve,onEdgeDoubleClick:nd,onEdgeMouseEnter:ti,onEdgeMouseMove:Hs,onEdgeMouseLeave:Sn,onEdgeUpdate:id,onEdgeUpdateStart:vu,onEdgeUpdateEnd:Wo,onReconnect:_u,onReconnectStart:rd,onReconnectEnd:hm,reconnectRadius:bu=10,edgeUpdaterRadius:pm=10,onNodesChange:wu,onEdgesChange:gm,noDragClassName:xu="nodrag",noWheelClassName:mm="nowheel",noPanClassName:sd="nopan",fitView:Su=!1,fitViewOptions:ym,connectOnClick:ku=!0,attributionPosition:Ws,proOptions:vm,defaultEdgeOptions:_m,elevateNodesOnSelect:Ra=!0,elevateEdgesOnSelect:Eu=!1,disableKeyboardA11y:Jr=!1,autoPanOnConnect:bm=!0,autoPanOnNodeDrag:ts=!0,connectionRadius:Cu=20,isValidConnection:od,onError:Re,style:yt,id:xr,nodeDragThreshold:Tu,...Di},ie)=>{const Ji=xr||"1";return nt.createElement("div",{...Di,style:{...yt,...e8},ref:ie,className:In(["react-flow",r]),"data-testid":"rf__wrapper",id:xr},nt.createElement(LI,null,nt.createElement(K4,{onInit:p,onMove:g,onMoveStart:y,onMoveEnd:v,onNodeClick:u,onEdgeClick:c,onNodeMouseEnter:S,onNodeMouseMove:C,onNodeMouseLeave:I,onNodeContextMenu:L,onNodeDoubleClick:R,nodeTypes:o,edgeTypes:a,connectionLineType:X,connectionLineStyle:J,connectionLineComponent:tt,connectionLineContainerStyle:at,selectionKeyCode:dt,selectionOnDrag:mt,selectionMode:_t,deleteKeyCode:rt,multiSelectionKeyCode:Mt,panActivationKeyCode:$t,zoomActivationKeyCode:Ut,onlyRenderVisibleElements:Ce,selectNodesOnDrag:ne,defaultViewport:Ps,translateExtent:Bs,minZoom:Kr,maxZoom:Ii,preventScrolling:Qi,zoomOnScroll:zs,zoomOnPinch:Xr,zoomOnDoubleClick:gi,panOnScroll:nn,panOnScrollSpeed:wn,panOnScrollMode:Qr,panOnDrag:mi,onPaneClick:Zi,onPaneMouseEnter:Je,onPaneMouseMove:Us,onPaneMouseLeave:wt,onPaneScroll:Zr,onPaneContextMenu:xn,onSelectionContextMenu:H,onSelectionStart:Q,onSelectionEnd:q,onEdgeContextMenu:ve,onEdgeDoubleClick:nd,onEdgeMouseEnter:ti,onEdgeMouseMove:Hs,onEdgeMouseLeave:Sn,onReconnect:_u??id,onReconnectStart:rd??vu,onReconnectEnd:hm??Wo,reconnectRadius:bu??pm,defaultMarkerColor:Gr,noDragClassName:xu,noWheelClassName:mm,noPanClassName:sd,elevateEdgesOnSelect:Eu,rfId:Ji,disableKeyboardA11y:Jr,nodeOrigin:pt,nodeExtent:Ai}),nt.createElement(jz,{nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:b,onConnectStart:k,onConnectEnd:T,onClickConnectStart:D,onClickConnectEnd:w,nodesDraggable:ge,nodesConnectable:We,nodesFocusable:Bt,edgesFocusable:Ve,edgesUpdatable:zt,elementsSelectable:wr,elevateNodesOnSelect:Ra,minZoom:Kr,maxZoom:Ii,nodeExtent:Ai,onNodesChange:wu,onEdgesChange:gm,snapToGrid:jt,snapGrid:be,connectionMode:z,translateExtent:Bs,connectOnClick:ku,defaultEdgeOptions:_m,fitView:Su,fitViewOptions:ym,onNodesDelete:U,onEdgesDelete:$,onNodeDragStart:F,onNodeDrag:V,onNodeDragStop:j,onSelectionDrag:A,onSelectionDragStart:G,onSelectionDragStop:O,noPanClassName:sd,nodeOrigin:pt,rfId:Ji,autoPanOnConnect:bm,autoPanOnNodeDrag:ts,onError:Re,connectionRadius:Cu,isValidConnection:od,nodeDragThreshold:Tu}),nt.createElement(Vz,{onSelectionChange:B}),De,nt.createElement(yz,{proOptions:vm,position:Ws}),nt.createElement(Xz,{rfId:Ji,disableKeyboardA11y:Jr})))});NI.displayName="ReactFlow";function OI(e){return t=>{const[n,i]=Z.useState(t),r=Z.useCallback(o=>i(a=>e(o,a)),[]);return[n,i,r]}}const n8=OI(_I),i8=OI(c4),RI=({id:e,x:t,y:n,width:i,height:r,style:o,color:a,strokeColor:u,strokeWidth:c,className:p,borderRadius:g,shapeRendering:y,onClick:v,selected:b})=>{const{background:k,backgroundColor:T}=o||{},D=a||k||T;return nt.createElement("rect",{className:In(["react-flow__minimap-node",{selected:b},p]),x:t,y:n,rx:g,ry:g,width:i,height:r,fill:D,stroke:u,strokeWidth:c,shapeRendering:y,onClick:v?w=>v(w,e):void 0})};RI.displayName="MiniMapNode";var r8=Z.memo(RI);const s8=e=>e.nodeOrigin,o8=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Jy=e=>e instanceof Function?e:()=>e;function a8({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:i=5,nodeStrokeWidth:r=2,nodeComponent:o=r8,onClick:a}){const u=Ee(o8,bn),c=Ee(s8),p=Jy(t),g=Jy(e),y=Jy(n),v=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return nt.createElement(nt.Fragment,null,u.map(b=>{const{x:k,y:T}=ma(b,c).positionAbsolute;return nt.createElement(o,{key:b.id,x:k,y:T,width:b.width,height:b.height,style:b.style,selected:b.selected,className:y(b),color:p(b),borderRadius:i,strokeColor:g(b),strokeWidth:r,shapeRendering:v,onClick:a,id:b.id})}))}var l8=Z.memo(a8);const u8=200,c8=150,f8=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?bz(jg(t,e.nodeOrigin),n):n,rfId:e.rfId}},d8="react-flow__minimap-desc";function FI({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:i="#e2e2e2",nodeClassName:r="",nodeBorderRadius:o=5,nodeStrokeWidth:a=2,nodeComponent:u,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:p="none",maskStrokeWidth:g=1,position:y="bottom-right",onClick:v,onNodeClick:b,pannable:k=!1,zoomable:T=!1,ariaLabel:D="React Flow mini map",inversePan:w=!1,zoomStep:S=10,offsetScale:C=5}){const I=pn(),L=Z.useRef(null),{boundingRect:R,viewBB:F,rfId:V}=Ee(f8,bn),j=(e==null?void 0:e.width)??u8,U=(e==null?void 0:e.height)??c8,$=R.width/j,B=R.height/U,G=Math.max($,B),A=G*j,O=G*U,H=C*G,Q=R.x-(A-R.width)/2-H,q=R.y-(O-R.height)/2-H,z=A+H*2,X=O+H*2,J=`${d8}-${V}`,tt=Z.useRef(0);tt.current=G,Z.useEffect(()=>{if(L.current){const dt=Ui(L.current),mt=Mt=>{const{transform:Ut,d3Selection:jt,d3Zoom:be}=I.getState();if(Mt.sourceEvent.type!=="wheel"||!jt||!be)return;const Ce=-Mt.sourceEvent.deltaY*(Mt.sourceEvent.deltaMode===1?.05:Mt.sourceEvent.deltaMode?1:.002)*S,ne=Ut[2]*Math.pow(2,Ce);be.scaleTo(jt,ne)},_t=Mt=>{const{transform:Ut,d3Selection:jt,d3Zoom:be,translateExtent:Ce,width:ne,height:ge}=I.getState();if(Mt.sourceEvent.type!=="mousemove"||!jt||!be)return;const We=tt.current*Math.max(1,Ut[2])*(w?-1:1),Bt={x:Ut[0]-Mt.sourceEvent.movementX*We,y:Ut[1]-Mt.sourceEvent.movementY*We},pt=[[0,0],[ne,ge]],Ve=Cs.translate(Bt.x,Bt.y).scale(Ut[2]),zt=be.constrain()(Ve,pt,Ce);be.transform(jt,zt)},$t=HM().on("zoom",k?_t:null).on("zoom.wheel",T?mt:null);return dt.call($t),()=>{dt.on("zoom",null)}}},[k,T,w,S]);const at=v?dt=>{const mt=ar(dt);v(dt,{x:mt[0],y:mt[1]})}:void 0,rt=b?(dt,mt)=>{const _t=I.getState().nodeInternals.get(mt);b(dt,_t)}:void 0;return nt.createElement(lb,{position:y,style:e,className:In(["react-flow__minimap",t]),"data-testid":"rf__minimap"},nt.createElement("svg",{width:j,height:U,viewBox:`${Q} ${q} ${z} ${X}`,role:"img","aria-labelledby":J,ref:L,onClick:at},D&&nt.createElement("title",{id:J},D),nt.createElement(l8,{onClick:rt,nodeColor:i,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:r,nodeStrokeWidth:a,nodeComponent:u}),nt.createElement("path",{className:"react-flow__minimap-mask",d:`M${Q-H},${q-H}h${z+H*2}v${X+H*2}h${-z-H*2}z
        M${F.x},${F.y}h${F.width}v${F.height}h${-F.width}z`,fill:c,fillRule:"evenodd",stroke:p,strokeWidth:g,pointerEvents:"none"})))}FI.displayName="MiniMap";var h8=Z.memo(FI);function p8(){return nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},nt.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function g8(){return nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},nt.createElement("path",{d:"M0 0h32v4.2H0z"}))}function m8(){return nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},nt.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function y8(){return nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},nt.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function v8(){return nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},nt.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Mc=({children:e,className:t,...n})=>nt.createElement("button",{type:"button",className:In(["react-flow__controls-button",t]),...n},e);Mc.displayName="ControlButton";const _8=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),PI=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:i=!0,fitViewOptions:r,onZoomIn:o,onZoomOut:a,onFitView:u,onInteractiveChange:c,className:p,children:g,position:y="bottom-left"})=>{const v=pn(),[b,k]=Z.useState(!1),{isInteractive:T,minZoomReached:D,maxZoomReached:w}=Ee(_8,bn),{zoomIn:S,zoomOut:C,fitView:I}=yb();if(Z.useEffect(()=>{k(!0)},[]),!b)return null;const L=()=>{S(),o==null||o()},R=()=>{C(),a==null||a()},F=()=>{I(r),u==null||u()},V=()=>{v.setState({nodesDraggable:!T,nodesConnectable:!T,elementsSelectable:!T}),c==null||c(!T)};return nt.createElement(lb,{className:In(["react-flow__controls",p]),position:y,style:e,"data-testid":"rf__controls"},t&&nt.createElement(nt.Fragment,null,nt.createElement(Mc,{onClick:L,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:w},nt.createElement(p8,null)),nt.createElement(Mc,{onClick:R,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:D},nt.createElement(g8,null))),n&&nt.createElement(Mc,{className:"react-flow__controls-fitview",onClick:F,title:"fit view","aria-label":"fit view"},nt.createElement(m8,null)),i&&nt.createElement(Mc,{className:"react-flow__controls-interactive",onClick:V,title:"toggle interactivity","aria-label":"toggle interactivity"},T?nt.createElement(v8,null):nt.createElement(y8,null)),g)};PI.displayName="Controls";var b8=Z.memo(PI),pr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(pr||(pr={}));function w8({color:e,dimensions:t,lineWidth:n}){return nt.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function x8({color:e,radius:t}){return nt.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const S8={[pr.Dots]:"#91919a",[pr.Lines]:"#eee",[pr.Cross]:"#e2e2e2"},k8={[pr.Dots]:1,[pr.Lines]:1,[pr.Cross]:6},E8=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function BI({id:e,variant:t=pr.Dots,gap:n=20,size:i,lineWidth:r=1,offset:o=2,color:a,style:u,className:c}){const p=Z.useRef(null),{transform:g,patternId:y}=Ee(E8,bn),v=a||S8[t],b=i||k8[t],k=t===pr.Dots,T=t===pr.Cross,D=Array.isArray(n)?n:[n,n],w=[D[0]*g[2]||1,D[1]*g[2]||1],S=b*g[2],C=T?[S,S]:w,I=k?[S/o,S/o]:[C[0]/o,C[1]/o];return nt.createElement("svg",{className:In(["react-flow__background",c]),style:{...u,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:p,"data-testid":"rf__background"},nt.createElement("pattern",{id:y+e,x:g[0]%w[0],y:g[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${I[0]},-${I[1]})`},k?nt.createElement(x8,{color:v,radius:S/o}):nt.createElement(w8,{dimensions:C,color:v,lineWidth:r})),nt.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${y+e})`}))}BI.displayName="Background";var C8=Z.memo(BI);const T8=({data:e})=>{const t=n=>{const i=n.target.files[0];i&&e.onFileUpload(i)};return xg("div",{style:{padding:"10px",border:"1px solid #ddd",borderRadius:"5px",background:"white"},children:[yn("div",{children:e.label}),yn("input",{type:"file",onChange:t,accept:".csv"}),yn(Io,{type:"source",position:"bottom",id:"a"})]})};var t0={exports:{}},ak;function Yg(){return ak||(ak=1,function(e,t){(function(n,i){e.exports=i()})(UN,function(){var n=navigator.userAgent,i=navigator.platform,r=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),u=/Edge\/(\d+)/.exec(n),c=o||a||u,p=c&&(o?document.documentMode||6:+(u||a)[1]),g=!u&&/WebKit\//.test(n),y=g&&/Qt\/\d+\.\d+/.test(n),v=!u&&/Chrome\/(\d+)/.exec(n),b=v&&+v[1],k=/Opera\//.test(n),T=/Apple Computer/.test(navigator.vendor),D=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),w=/PhantomJS/.test(n),S=T&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),C=/Android/.test(n),I=S||C||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),L=S||/Mac/.test(i),R=/\bCrOS\b/.test(n),F=/win/i.test(i),V=k&&n.match(/Version\/(\d*\.\d*)/);V&&(V=Number(V[1])),V&&V>=15&&(k=!1,g=!0);var j=L&&(y||k&&(V==null||V<12.11)),U=r||c&&p>=9;function $(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}var B=function(s,l){var d=s.className,f=$(l).exec(d);if(f){var h=d.slice(f.index+f[0].length);s.className=d.slice(0,f.index)+(h?f[1]+h:"")}};function G(s){for(var l=s.childNodes.length;l>0;--l)s.removeChild(s.firstChild);return s}function A(s,l){return G(s).appendChild(l)}function O(s,l,d,f){var h=document.createElement(s);if(d&&(h.className=d),f&&(h.style.cssText=f),typeof l=="string")h.appendChild(document.createTextNode(l));else if(l)for(var m=0;m<l.length;++m)h.appendChild(l[m]);return h}function H(s,l,d,f){var h=O(s,l,d,f);return h.setAttribute("role","presentation"),h}var Q;document.createRange?Q=function(s,l,d,f){var h=document.createRange();return h.setEnd(f||s,d),h.setStart(s,l),h}:Q=function(s,l,d){var f=document.body.createTextRange();try{f.moveToElementText(s.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",d),f.moveStart("character",l),f};function q(s,l){if(l.nodeType==3&&(l=l.parentNode),s.contains)return s.contains(l);do if(l.nodeType==11&&(l=l.host),l==s)return!0;while(l=l.parentNode)}function z(s){var l=s.ownerDocument||s,d;try{d=s.activeElement}catch{d=l.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function X(s,l){var d=s.className;$(l).test(d)||(s.className+=(d?" ":"")+l)}function J(s,l){for(var d=s.split(" "),f=0;f<d.length;f++)d[f]&&!$(d[f]).test(l)&&(l+=" "+d[f]);return l}var tt=function(s){s.select()};S?tt=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:c&&(tt=function(s){try{s.select()}catch{}});function at(s){return s.display.wrapper.ownerDocument}function rt(s){return dt(s.display.wrapper)}function dt(s){return s.getRootNode?s.getRootNode():s.ownerDocument}function mt(s){return at(s).defaultView}function _t(s){var l=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,l)}}function $t(s,l,d){l||(l={});for(var f in s)s.hasOwnProperty(f)&&(d!==!1||!l.hasOwnProperty(f))&&(l[f]=s[f]);return l}function Mt(s,l,d,f,h){l==null&&(l=s.search(/[^\s\u00a0]/),l==-1&&(l=s.length));for(var m=f||0,_=h||0;;){var x=s.indexOf("	",m);if(x<0||x>=l)return _+(l-m);_+=x-m,_+=d-_%d,m=x+1}}var Ut=function(){this.id=null,this.f=null,this.time=0,this.handler=_t(this.onTimeout,this)};Ut.prototype.onTimeout=function(s){s.id=0,s.time<=+new Date?s.f():setTimeout(s.handler,s.time-+new Date)},Ut.prototype.set=function(s,l){this.f=l;var d=+new Date+s;(!this.id||d<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,s),this.time=d)};function jt(s,l){for(var d=0;d<s.length;++d)if(s[d]==l)return d;return-1}var be=50,Ce={toString:function(){return"CodeMirror.Pass"}},ne={scroll:!1},ge={origin:"*mouse"},We={origin:"+move"};function Bt(s,l,d){for(var f=0,h=0;;){var m=s.indexOf("	",f);m==-1&&(m=s.length);var _=m-f;if(m==s.length||h+_>=l)return f+Math.min(_,l-h);if(h+=m-f,h+=d-h%d,f=m+1,h>=l)return f}}var pt=[""];function Ve(s){for(;pt.length<=s;)pt.push(zt(pt)+" ");return pt[s]}function zt(s){return s[s.length-1]}function wr(s,l){for(var d=[],f=0;f<s.length;f++)d[f]=l(s[f],f);return d}function Ps(s,l,d){for(var f=0,h=d(l);f<s.length&&d(s[f])<=h;)f++;s.splice(f,0,l)}function Kr(){}function Ii(s,l){var d;return Object.create?d=Object.create(s):(Kr.prototype=s,d=new Kr),l&&$t(l,d),d}var Bs=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Qi(s){return/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||Bs.test(s))}function Ai(s,l){return l?l.source.indexOf("\\w")>-1&&Qi(s)?!0:l.test(s):Qi(s)}function Gr(s){for(var l in s)if(s.hasOwnProperty(l)&&s[l])return!1;return!0}var zs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Xr(s){return s.charCodeAt(0)>=768&&zs.test(s)}function nn(s,l,d){for(;(d<0?l>0:l<s.length)&&Xr(s.charAt(l));)l+=d;return l}function wn(s,l,d){for(var f=l>d?-1:1;;){if(l==d)return l;var h=(l+d)/2,m=f<0?Math.ceil(h):Math.floor(h);if(m==l)return s(m)?l:d;s(m)?d=m:l=m+f}}function Qr(s,l,d,f){if(!s)return f(l,d,"ltr",0);for(var h=!1,m=0;m<s.length;++m){var _=s[m];(_.from<d&&_.to>l||l==d&&_.to==l)&&(f(Math.max(_.from,l),Math.min(_.to,d),_.level==1?"rtl":"ltr",m),h=!0)}h||f(l,d,"ltr")}var gi=null;function mi(s,l,d){var f;gi=null;for(var h=0;h<s.length;++h){var m=s[h];if(m.from<l&&m.to>l)return h;m.to==l&&(m.from!=m.to&&d=="before"?f=h:gi=h),m.from==l&&(m.from!=m.to&&d!="before"?f=h:gi=h)}return f??gi}var Zi=function(){var s="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",l="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function d(M){return M<=247?s.charAt(M):1424<=M&&M<=1524?"R":1536<=M&&M<=1785?l.charAt(M-1536):1774<=M&&M<=2220?"r":8192<=M&&M<=8203?"w":M==8204?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,h=/[stwN]/,m=/[LRr]/,_=/[Lb1n]/,x=/[1n]/;function E(M,N,P){this.level=M,this.from=N,this.to=P}return function(M,N){var P=N=="ltr"?"L":"R";if(M.length==0||N=="ltr"&&!f.test(M))return!1;for(var K=M.length,Y=[],et=0;et<K;++et)Y.push(d(M.charCodeAt(et)));for(var it=0,ot=P;it<K;++it){var ut=Y[it];ut=="m"?Y[it]=ot:ot=ut}for(var ft=0,ct=P;ft<K;++ft){var ht=Y[ft];ht=="1"&&ct=="r"?Y[ft]="n":m.test(ht)&&(ct=ht,ht=="r"&&(Y[ft]="R"))}for(var xt=1,vt=Y[0];xt<K-1;++xt){var Ht=Y[xt];Ht=="+"&&vt=="1"&&Y[xt+1]=="1"?Y[xt]="1":Ht==","&&vt==Y[xt+1]&&(vt=="1"||vt=="n")&&(Y[xt]=vt),vt=Ht}for(var me=0;me<K;++me){var an=Y[me];if(an==",")Y[me]="N";else if(an=="%"){var Le=void 0;for(Le=me+1;Le<K&&Y[Le]=="%";++Le);for(var ni=me&&Y[me-1]=="!"||Le<K&&Y[Le]=="1"?"1":"N",Vn=me;Vn<Le;++Vn)Y[Vn]=ni;me=Le-1}}for(var Ke=0,$n=P;Ke<K;++Ke){var gn=Y[Ke];$n=="L"&&gn=="1"?Y[Ke]="L":m.test(gn)&&($n=gn)}for(var tn=0;tn<K;++tn)if(h.test(Y[tn])){var Ge=void 0;for(Ge=tn+1;Ge<K&&h.test(Y[Ge]);++Ge);for(var Fe=(tn?Y[tn-1]:P)=="L",jn=(Ge<K?Y[Ge]:P)=="L",Ja=Fe==jn?Fe?"L":"R":P,Qs=tn;Qs<Ge;++Qs)Y[Qs]=Ja;tn=Ge-1}for(var En=[],Cr,ln=0;ln<K;)if(_.test(Y[ln])){var gy=ln;for(++ln;ln<K&&_.test(Y[ln]);++ln);En.push(new E(0,gy,ln))}else{var os=ln,Qo=En.length,Zo=N=="rtl"?1:0;for(++ln;ln<K&&Y[ln]!="L";++ln);for(var Dn=os;Dn<ln;)if(x.test(Y[Dn])){os<Dn&&(En.splice(Qo,0,new E(1,os,Dn)),Qo+=Zo);var tl=Dn;for(++Dn;Dn<ln&&x.test(Y[Dn]);++Dn);En.splice(Qo,0,new E(2,tl,Dn)),Qo+=Zo,os=Dn}else++Dn;os<ln&&En.splice(Qo,0,new E(1,os,ln))}return N=="ltr"&&(En[0].level==1&&(Cr=M.match(/^\s+/))&&(En[0].from=Cr[0].length,En.unshift(new E(0,0,Cr[0].length))),zt(En).level==1&&(Cr=M.match(/\s+$/))&&(zt(En).to-=Cr[0].length,En.push(new E(0,K-Cr[0].length,K)))),N=="rtl"?En.reverse():En}}();function Je(s,l){var d=s.order;return d==null&&(d=s.order=Zi(s.text,l)),d}var Us=[],wt=function(s,l,d){if(s.addEventListener)s.addEventListener(l,d,!1);else if(s.attachEvent)s.attachEvent("on"+l,d);else{var f=s._handlers||(s._handlers={});f[l]=(f[l]||Us).concat(d)}};function Zr(s,l){return s._handlers&&s._handlers[l]||Us}function xn(s,l,d){if(s.removeEventListener)s.removeEventListener(l,d,!1);else if(s.detachEvent)s.detachEvent("on"+l,d);else{var f=s._handlers,h=f&&f[l];if(h){var m=jt(h,d);m>-1&&(f[l]=h.slice(0,m).concat(h.slice(m+1)))}}}function De(s,l){var d=Zr(s,l);if(d.length)for(var f=Array.prototype.slice.call(arguments,2),h=0;h<d.length;++h)d[h].apply(null,f)}function ve(s,l,d){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),De(s,d||l.type,s,l),vu(l)||l.codemirrorIgnore}function nd(s){var l=s._handlers&&s._handlers.cursorActivity;if(l)for(var d=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),f=0;f<l.length;++f)jt(d,l[f])==-1&&d.push(l[f])}function ti(s,l){return Zr(s,l).length>0}function Hs(s){s.prototype.on=function(l,d){wt(this,l,d)},s.prototype.off=function(l,d){xn(this,l,d)}}function Sn(s){s.preventDefault?s.preventDefault():s.returnValue=!1}function id(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0}function vu(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==!1}function Wo(s){Sn(s),id(s)}function _u(s){return s.target||s.srcElement}function rd(s){var l=s.which;return l==null&&(s.button&1?l=1:s.button&2?l=3:s.button&4&&(l=2)),L&&s.ctrlKey&&l==1&&(l=3),l}var hm=function(){if(c&&p<9)return!1;var s=O("div");return"draggable"in s||"dragDrop"in s}(),bu;function pm(s){if(bu==null){var l=O("span","​");A(s,O("span",[l,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(bu=l.offsetWidth<=1&&l.offsetHeight>2&&!(c&&p<8))}var d=bu?O("span","​"):O("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return d.setAttribute("cm-text",""),d}var wu;function gm(s){if(wu!=null)return wu;var l=A(s,document.createTextNode("AخA")),d=Q(l,0,1).getBoundingClientRect(),f=Q(l,1,2).getBoundingClientRect();return G(s),!d||d.left==d.right?!1:wu=f.right-d.right<3}var xu=`

b`.split(/\n/).length!=3?function(s){for(var l=0,d=[],f=s.length;l<=f;){var h=s.indexOf(`
`,l);h==-1&&(h=s.length);var m=s.slice(l,s.charAt(h-1)=="\r"?h-1:h),_=m.indexOf("\r");_!=-1?(d.push(m.slice(0,_)),l+=_+1):(d.push(m),l=h+1)}return d}:function(s){return s.split(/\r\n?|\n/)},mm=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){var l;try{l=s.ownerDocument.selection.createRange()}catch{}return!l||l.parentElement()!=s?!1:l.compareEndPoints("StartToEnd",l)!=0},sd=function(){var s=O("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")}(),Su=null;function ym(s){if(Su!=null)return Su;var l=A(s,O("span","x")),d=l.getBoundingClientRect(),f=Q(l,0,1).getBoundingClientRect();return Su=Math.abs(d.left-f.left)>1}var ku={},Ws={};function vm(s,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),ku[s]=l}function _m(s,l){Ws[s]=l}function Ra(s){if(typeof s=="string"&&Ws.hasOwnProperty(s))s=Ws[s];else if(s&&typeof s.name=="string"&&Ws.hasOwnProperty(s.name)){var l=Ws[s.name];typeof l=="string"&&(l={name:l}),s=Ii(l,s),s.name=l.name}else{if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return Ra("application/xml");if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(s))return Ra("application/json")}return typeof s=="string"?{name:s}:s||{name:"null"}}function Eu(s,l){l=Ra(l);var d=ku[l.name];if(!d)return Eu(s,"text/plain");var f=d(s,l);if(Jr.hasOwnProperty(l.name)){var h=Jr[l.name];for(var m in h)h.hasOwnProperty(m)&&(f.hasOwnProperty(m)&&(f["_"+m]=f[m]),f[m]=h[m])}if(f.name=l.name,l.helperType&&(f.helperType=l.helperType),l.modeProps)for(var _ in l.modeProps)f[_]=l.modeProps[_];return f}var Jr={};function bm(s,l){var d=Jr.hasOwnProperty(s)?Jr[s]:Jr[s]={};$t(l,d)}function ts(s,l){if(l===!0)return l;if(s.copyState)return s.copyState(l);var d={};for(var f in l){var h=l[f];h instanceof Array&&(h=h.concat([])),d[f]=h}return d}function Cu(s,l){for(var d;s.innerMode&&(d=s.innerMode(l),!(!d||d.mode==s));)l=d.state,s=d.mode;return d||{mode:s,state:l}}function od(s,l,d){return s.startState?s.startState(l,d):!0}var Re=function(s,l,d){this.pos=this.start=0,this.string=s,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=d};Re.prototype.eol=function(){return this.pos>=this.string.length},Re.prototype.sol=function(){return this.pos==this.lineStart},Re.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Re.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Re.prototype.eat=function(s){var l=this.string.charAt(this.pos),d;if(typeof s=="string"?d=l==s:d=l&&(s.test?s.test(l):s(l)),d)return++this.pos,l},Re.prototype.eatWhile=function(s){for(var l=this.pos;this.eat(s););return this.pos>l},Re.prototype.eatSpace=function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},Re.prototype.skipToEnd=function(){this.pos=this.string.length},Re.prototype.skipTo=function(s){var l=this.string.indexOf(s,this.pos);if(l>-1)return this.pos=l,!0},Re.prototype.backUp=function(s){this.pos-=s},Re.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Mt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Mt(this.string,this.lineStart,this.tabSize):0)},Re.prototype.indentation=function(){return Mt(this.string,null,this.tabSize)-(this.lineStart?Mt(this.string,this.lineStart,this.tabSize):0)},Re.prototype.match=function(s,l,d){if(typeof s=="string"){var f=function(_){return d?_.toLowerCase():_},h=this.string.substr(this.pos,s.length);if(f(h)==f(s))return l!==!1&&(this.pos+=s.length),!0}else{var m=this.string.slice(this.pos).match(s);return m&&m.index>0?null:(m&&l!==!1&&(this.pos+=m[0].length),m)}},Re.prototype.current=function(){return this.string.slice(this.start,this.pos)},Re.prototype.hideFirstChars=function(s,l){this.lineStart+=s;try{return l()}finally{this.lineStart-=s}},Re.prototype.lookAhead=function(s){var l=this.lineOracle;return l&&l.lookAhead(s)},Re.prototype.baseToken=function(){var s=this.lineOracle;return s&&s.baseToken(this.pos)};function yt(s,l){if(l-=s.first,l<0||l>=s.size)throw new Error("There is no line "+(l+s.first)+" in the document.");for(var d=s;!d.lines;)for(var f=0;;++f){var h=d.children[f],m=h.chunkSize();if(l<m){d=h;break}l-=m}return d.lines[l]}function xr(s,l,d){var f=[],h=l.line;return s.iter(l.line,d.line+1,function(m){var _=m.text;h==d.line&&(_=_.slice(0,d.ch)),h==l.line&&(_=_.slice(l.ch)),f.push(_),++h}),f}function Tu(s,l,d){var f=[];return s.iter(l,d,function(h){f.push(h.text)}),f}function Di(s,l){var d=l-s.height;if(d)for(var f=s;f;f=f.parent)f.height+=d}function ie(s){if(s.parent==null)return null;for(var l=s.parent,d=jt(l.lines,s),f=l.parent;f;l=f,f=f.parent)for(var h=0;f.children[h]!=l;++h)d+=f.children[h].chunkSize();return d+l.first}function Ji(s,l){var d=s.first;t:do{for(var f=0;f<s.children.length;++f){var h=s.children[f],m=h.height;if(l<m){s=h;continue t}l-=m,d+=h.chunkSize()}return d}while(!s.lines);for(var _=0;_<s.lines.length;++_){var x=s.lines[_],E=x.height;if(l<E)break;l-=E}return d+_}function Mu(s,l){return l>=s.first&&l<s.first+s.size}function wm(s,l){return String(s.lineNumberFormatter(l+s.firstLineNumber))}function st(s,l,d){if(d===void 0&&(d=null),!(this instanceof st))return new st(s,l,d);this.line=s,this.ch=l,this.sticky=d}function Ot(s,l){return s.line-l.line||s.ch-l.ch}function xm(s,l){return s.sticky==l.sticky&&Ot(s,l)==0}function Sm(s){return st(s.line,s.ch)}function ad(s,l){return Ot(s,l)<0?l:s}function ld(s,l){return Ot(s,l)<0?s:l}function cw(s,l){return Math.max(s.first,Math.min(l,s.first+s.size-1))}function Rt(s,l){if(l.line<s.first)return st(s.first,0);var d=s.first+s.size-1;return l.line>d?st(d,yt(s,d).text.length):HD(l,yt(s,l.line).text.length)}function HD(s,l){var d=s.ch;return d==null||d>l?st(s.line,l):d<0?st(s.line,0):s}function fw(s,l){for(var d=[],f=0;f<l.length;f++)d[f]=Rt(s,l[f]);return d}var ud=function(s,l){this.state=s,this.lookAhead=l},Sr=function(s,l,d,f){this.state=l,this.doc=s,this.line=d,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};Sr.prototype.lookAhead=function(s){var l=this.doc.getLine(this.line+s);return l!=null&&s>this.maxLookAhead&&(this.maxLookAhead=s),l},Sr.prototype.baseToken=function(s){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=s;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-s}},Sr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Sr.fromSaved=function(s,l,d){return l instanceof ud?new Sr(s,ts(s.mode,l.state),d,l.lookAhead):new Sr(s,ts(s.mode,l),d)},Sr.prototype.save=function(s){var l=s!==!1?ts(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ud(l,this.maxLookAhead):l};function dw(s,l,d,f){var h=[s.state.modeGen],m={};vw(s,l.text,s.doc.mode,d,function(M,N){return h.push(M,N)},m,f);for(var _=d.state,x=function(M){d.baseTokens=h;var N=s.state.overlays[M],P=1,K=0;d.state=!0,vw(s,l.text,N.mode,d,function(Y,et){for(var it=P;K<Y;){var ot=h[P];ot>Y&&h.splice(P,1,Y,h[P+1],ot),P+=2,K=Math.min(Y,ot)}if(et)if(N.opaque)h.splice(it,P-it,Y,"overlay "+et),P=it+2;else for(;it<P;it+=2){var ut=h[it+1];h[it+1]=(ut?ut+" ":"")+"overlay "+et}},m),d.state=_,d.baseTokens=null,d.baseTokenPos=1},E=0;E<s.state.overlays.length;++E)x(E);return{styles:h,classes:m.bgClass||m.textClass?m:null}}function hw(s,l,d){if(!l.styles||l.styles[0]!=s.state.modeGen){var f=Iu(s,ie(l)),h=l.text.length>s.options.maxHighlightLength&&ts(s.doc.mode,f.state),m=dw(s,l,f);h&&(f.state=h),l.stateAfter=f.save(!h),l.styles=m.styles,m.classes?l.styleClasses=m.classes:l.styleClasses&&(l.styleClasses=null),d===s.doc.highlightFrontier&&(s.doc.modeFrontier=Math.max(s.doc.modeFrontier,++s.doc.highlightFrontier))}return l.styles}function Iu(s,l,d){var f=s.doc,h=s.display;if(!f.mode.startState)return new Sr(f,!0,l);var m=WD(s,l,d),_=m>f.first&&yt(f,m-1).stateAfter,x=_?Sr.fromSaved(f,_,m):new Sr(f,od(f.mode),m);return f.iter(m,l,function(E){km(s,E.text,x);var M=x.line;E.stateAfter=M==l-1||M%5==0||M>=h.viewFrom&&M<h.viewTo?x.save():null,x.nextLine()}),d&&(f.modeFrontier=x.line),x}function km(s,l,d,f){var h=s.doc.mode,m=new Re(l,s.options.tabSize,d);for(m.start=m.pos=f||0,l==""&&pw(h,d.state);!m.eol();)Em(h,m,d.state),m.start=m.pos}function pw(s,l){if(s.blankLine)return s.blankLine(l);if(s.innerMode){var d=Cu(s,l);if(d.mode.blankLine)return d.mode.blankLine(d.state)}}function Em(s,l,d,f){for(var h=0;h<10;h++){f&&(f[0]=Cu(s,d).mode);var m=s.token(l,d);if(l.pos>l.start)return m}throw new Error("Mode "+s.name+" failed to advance stream.")}var gw=function(s,l,d){this.start=s.start,this.end=s.pos,this.string=s.current(),this.type=l||null,this.state=d};function mw(s,l,d,f){var h=s.doc,m=h.mode,_;l=Rt(h,l);var x=yt(h,l.line),E=Iu(s,l.line,d),M=new Re(x.text,s.options.tabSize,E),N;for(f&&(N=[]);(f||M.pos<l.ch)&&!M.eol();)M.start=M.pos,_=Em(m,M,E.state),f&&N.push(new gw(M,_,ts(h.mode,E.state)));return f?N:new gw(M,_,E.state)}function yw(s,l){if(s)for(;;){var d=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!d)break;s=s.slice(0,d.index)+s.slice(d.index+d[0].length);var f=d[1]?"bgClass":"textClass";l[f]==null?l[f]=d[2]:new RegExp("(?:^|\\s)"+d[2]+"(?:$|\\s)").test(l[f])||(l[f]+=" "+d[2])}return s}function vw(s,l,d,f,h,m,_){var x=d.flattenSpans;x==null&&(x=s.options.flattenSpans);var E=0,M=null,N=new Re(l,s.options.tabSize,f),P,K=s.options.addModeClass&&[null];for(l==""&&yw(pw(d,f.state),m);!N.eol();){if(N.pos>s.options.maxHighlightLength?(x=!1,_&&km(s,l,f,N.pos),N.pos=l.length,P=null):P=yw(Em(d,N,f.state,K),m),K){var Y=K[0].name;Y&&(P="m-"+(P?Y+" "+P:Y))}if(!x||M!=P){for(;E<N.start;)E=Math.min(N.start,E+5e3),h(E,M);M=P}N.start=N.pos}for(;E<N.pos;){var et=Math.min(N.pos,E+5e3);h(et,M),E=et}}function WD(s,l,d){for(var f,h,m=s.doc,_=d?-1:l-(s.doc.mode.innerMode?1e3:100),x=l;x>_;--x){if(x<=m.first)return m.first;var E=yt(m,x-1),M=E.stateAfter;if(M&&(!d||x+(M instanceof ud?M.lookAhead:0)<=m.modeFrontier))return x;var N=Mt(E.text,null,s.options.tabSize);(h==null||f>N)&&(h=x-1,f=N)}return h}function VD(s,l){if(s.modeFrontier=Math.min(s.modeFrontier,l),!(s.highlightFrontier<l-10)){for(var d=s.first,f=l-1;f>d;f--){var h=yt(s,f).stateAfter;if(h&&(!(h instanceof ud)||f+h.lookAhead<l)){d=f+1;break}}s.highlightFrontier=Math.min(s.highlightFrontier,d)}}var _w=!1,es=!1;function $D(){_w=!0}function jD(){es=!0}function cd(s,l,d){this.marker=s,this.from=l,this.to=d}function Au(s,l){if(s)for(var d=0;d<s.length;++d){var f=s[d];if(f.marker==l)return f}}function YD(s,l){for(var d,f=0;f<s.length;++f)s[f]!=l&&(d||(d=[])).push(s[f]);return d}function qD(s,l,d){var f=d&&window.WeakSet&&(d.markedSpans||(d.markedSpans=new WeakSet));f&&s.markedSpans&&f.has(s.markedSpans)?s.markedSpans.push(l):(s.markedSpans=s.markedSpans?s.markedSpans.concat([l]):[l],f&&f.add(s.markedSpans)),l.marker.attachLine(s)}function KD(s,l,d){var f;if(s)for(var h=0;h<s.length;++h){var m=s[h],_=m.marker,x=m.from==null||(_.inclusiveLeft?m.from<=l:m.from<l);if(x||m.from==l&&_.type=="bookmark"&&(!d||!m.marker.insertLeft)){var E=m.to==null||(_.inclusiveRight?m.to>=l:m.to>l);(f||(f=[])).push(new cd(_,m.from,E?null:m.to))}}return f}function GD(s,l,d){var f;if(s)for(var h=0;h<s.length;++h){var m=s[h],_=m.marker,x=m.to==null||(_.inclusiveRight?m.to>=l:m.to>l);if(x||m.from==l&&_.type=="bookmark"&&(!d||m.marker.insertLeft)){var E=m.from==null||(_.inclusiveLeft?m.from<=l:m.from<l);(f||(f=[])).push(new cd(_,E?null:m.from-l,m.to==null?null:m.to-l))}}return f}function Cm(s,l){if(l.full)return null;var d=Mu(s,l.from.line)&&yt(s,l.from.line).markedSpans,f=Mu(s,l.to.line)&&yt(s,l.to.line).markedSpans;if(!d&&!f)return null;var h=l.from.ch,m=l.to.ch,_=Ot(l.from,l.to)==0,x=KD(d,h,_),E=GD(f,m,_),M=l.text.length==1,N=zt(l.text).length+(M?h:0);if(x)for(var P=0;P<x.length;++P){var K=x[P];if(K.to==null){var Y=Au(E,K.marker);Y?M&&(K.to=Y.to==null?null:Y.to+N):K.to=h}}if(E)for(var et=0;et<E.length;++et){var it=E[et];if(it.to!=null&&(it.to+=N),it.from==null){var ot=Au(x,it.marker);ot||(it.from=N,M&&(x||(x=[])).push(it))}else it.from+=N,M&&(x||(x=[])).push(it)}x&&(x=bw(x)),E&&E!=x&&(E=bw(E));var ut=[x];if(!M){var ft=l.text.length-2,ct;if(ft>0&&x)for(var ht=0;ht<x.length;++ht)x[ht].to==null&&(ct||(ct=[])).push(new cd(x[ht].marker,null,null));for(var xt=0;xt<ft;++xt)ut.push(ct);ut.push(E)}return ut}function bw(s){for(var l=0;l<s.length;++l){var d=s[l];d.from!=null&&d.from==d.to&&d.marker.clearWhenEmpty!==!1&&s.splice(l--,1)}return s.length?s:null}function XD(s,l,d){var f=null;if(s.iter(l.line,d.line+1,function(Y){if(Y.markedSpans)for(var et=0;et<Y.markedSpans.length;++et){var it=Y.markedSpans[et].marker;it.readOnly&&(!f||jt(f,it)==-1)&&(f||(f=[])).push(it)}}),!f)return null;for(var h=[{from:l,to:d}],m=0;m<f.length;++m)for(var _=f[m],x=_.find(0),E=0;E<h.length;++E){var M=h[E];if(!(Ot(M.to,x.from)<0||Ot(M.from,x.to)>0)){var N=[E,1],P=Ot(M.from,x.from),K=Ot(M.to,x.to);(P<0||!_.inclusiveLeft&&!P)&&N.push({from:M.from,to:x.from}),(K>0||!_.inclusiveRight&&!K)&&N.push({from:x.to,to:M.to}),h.splice.apply(h,N),E+=N.length-3}}return h}function ww(s){var l=s.markedSpans;if(l){for(var d=0;d<l.length;++d)l[d].marker.detachLine(s);s.markedSpans=null}}function xw(s,l){if(l){for(var d=0;d<l.length;++d)l[d].marker.attachLine(s);s.markedSpans=l}}function fd(s){return s.inclusiveLeft?-1:0}function dd(s){return s.inclusiveRight?1:0}function Tm(s,l){var d=s.lines.length-l.lines.length;if(d!=0)return d;var f=s.find(),h=l.find(),m=Ot(f.from,h.from)||fd(s)-fd(l);if(m)return-m;var _=Ot(f.to,h.to)||dd(s)-dd(l);return _||l.id-s.id}function Sw(s,l){var d=es&&s.markedSpans,f;if(d)for(var h=void 0,m=0;m<d.length;++m)h=d[m],h.marker.collapsed&&(l?h.from:h.to)==null&&(!f||Tm(f,h.marker)<0)&&(f=h.marker);return f}function kw(s){return Sw(s,!0)}function hd(s){return Sw(s,!1)}function QD(s,l){var d=es&&s.markedSpans,f;if(d)for(var h=0;h<d.length;++h){var m=d[h];m.marker.collapsed&&(m.from==null||m.from<l)&&(m.to==null||m.to>l)&&(!f||Tm(f,m.marker)<0)&&(f=m.marker)}return f}function Ew(s,l,d,f,h){var m=yt(s,l),_=es&&m.markedSpans;if(_)for(var x=0;x<_.length;++x){var E=_[x];if(E.marker.collapsed){var M=E.marker.find(0),N=Ot(M.from,d)||fd(E.marker)-fd(h),P=Ot(M.to,f)||dd(E.marker)-dd(h);if(!(N>=0&&P<=0||N<=0&&P>=0)&&(N<=0&&(E.marker.inclusiveRight&&h.inclusiveLeft?Ot(M.to,d)>=0:Ot(M.to,d)>0)||N>=0&&(E.marker.inclusiveRight&&h.inclusiveLeft?Ot(M.from,f)<=0:Ot(M.from,f)<0)))return!0}}}function tr(s){for(var l;l=kw(s);)s=l.find(-1,!0).line;return s}function ZD(s){for(var l;l=hd(s);)s=l.find(1,!0).line;return s}function JD(s){for(var l,d;l=hd(s);)s=l.find(1,!0).line,(d||(d=[])).push(s);return d}function Mm(s,l){var d=yt(s,l),f=tr(d);return d==f?l:ie(f)}function Cw(s,l){if(l>s.lastLine())return l;var d=yt(s,l),f;if(!Vs(s,d))return l;for(;f=hd(d);)d=f.find(1,!0).line;return ie(d)+1}function Vs(s,l){var d=es&&l.markedSpans;if(d){for(var f=void 0,h=0;h<d.length;++h)if(f=d[h],!!f.marker.collapsed){if(f.from==null)return!0;if(!f.marker.widgetNode&&f.from==0&&f.marker.inclusiveLeft&&Im(s,l,f))return!0}}}function Im(s,l,d){if(d.to==null){var f=d.marker.find(1,!0);return Im(s,f.line,Au(f.line.markedSpans,d.marker))}if(d.marker.inclusiveRight&&d.to==l.text.length)return!0;for(var h=void 0,m=0;m<l.markedSpans.length;++m)if(h=l.markedSpans[m],h.marker.collapsed&&!h.marker.widgetNode&&h.from==d.to&&(h.to==null||h.to!=d.from)&&(h.marker.inclusiveLeft||d.marker.inclusiveRight)&&Im(s,l,h))return!0}function ns(s){s=tr(s);for(var l=0,d=s.parent,f=0;f<d.lines.length;++f){var h=d.lines[f];if(h==s)break;l+=h.height}for(var m=d.parent;m;d=m,m=d.parent)for(var _=0;_<m.children.length;++_){var x=m.children[_];if(x==d)break;l+=x.height}return l}function pd(s){if(s.height==0)return 0;for(var l=s.text.length,d,f=s;d=kw(f);){var h=d.find(0,!0);f=h.from.line,l+=h.from.ch-h.to.ch}for(f=s;d=hd(f);){var m=d.find(0,!0);l-=f.text.length-m.from.ch,f=m.to.line,l+=f.text.length-m.to.ch}return l}function Am(s){var l=s.display,d=s.doc;l.maxLine=yt(d,d.first),l.maxLineLength=pd(l.maxLine),l.maxLineChanged=!0,d.iter(function(f){var h=pd(f);h>l.maxLineLength&&(l.maxLineLength=h,l.maxLine=f)})}var Fa=function(s,l,d){this.text=s,xw(this,l),this.height=d?d(this):1};Fa.prototype.lineNo=function(){return ie(this)},Hs(Fa);function tL(s,l,d,f){s.text=l,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),ww(s),xw(s,d);var h=f?f(s):1;h!=s.height&&Di(s,h)}function eL(s){s.parent=null,ww(s)}var nL={},iL={};function Tw(s,l){if(!s||/^\s*$/.test(s))return null;var d=l.addModeClass?iL:nL;return d[s]||(d[s]=s.replace(/\S+/g,"cm-$&"))}function Mw(s,l){var d=H("span",null,null,g?"padding-right: .1px":null),f={pre:H("pre",[d],"CodeMirror-line"),content:d,col:0,pos:0,cm:s,trailingSpace:!1,splitSpaces:s.getOption("lineWrapping")};l.measure={};for(var h=0;h<=(l.rest?l.rest.length:0);h++){var m=h?l.rest[h-1]:l.line,_=void 0;f.pos=0,f.addToken=sL,gm(s.display.measure)&&(_=Je(m,s.doc.direction))&&(f.addToken=aL(f.addToken,_)),f.map=[];var x=l!=s.display.externalMeasured&&ie(m);lL(m,f,hw(s,m,x)),m.styleClasses&&(m.styleClasses.bgClass&&(f.bgClass=J(m.styleClasses.bgClass,f.bgClass||"")),m.styleClasses.textClass&&(f.textClass=J(m.styleClasses.textClass,f.textClass||""))),f.map.length==0&&f.map.push(0,0,f.content.appendChild(pm(s.display.measure))),h==0?(l.measure.map=f.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(f.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(g){var E=f.content.lastChild;(/\bcm-tab\b/.test(E.className)||E.querySelector&&E.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return De(s,"renderLine",s,l.line,f.pre),f.pre.className&&(f.textClass=J(f.pre.className,f.textClass||"")),f}function rL(s){var l=O("span","•","cm-invalidchar");return l.title="\\u"+s.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function sL(s,l,d,f,h,m,_){if(l){var x=s.splitSpaces?oL(l,s.trailingSpace):l,E=s.cm.state.specialChars,M=!1,N;if(!E.test(l))s.col+=l.length,N=document.createTextNode(x),s.map.push(s.pos,s.pos+l.length,N),c&&p<9&&(M=!0),s.pos+=l.length;else{N=document.createDocumentFragment();for(var P=0;;){E.lastIndex=P;var K=E.exec(l),Y=K?K.index-P:l.length-P;if(Y){var et=document.createTextNode(x.slice(P,P+Y));c&&p<9?N.appendChild(O("span",[et])):N.appendChild(et),s.map.push(s.pos,s.pos+Y,et),s.col+=Y,s.pos+=Y}if(!K)break;P+=Y+1;var it=void 0;if(K[0]=="	"){var ot=s.cm.options.tabSize,ut=ot-s.col%ot;it=N.appendChild(O("span",Ve(ut),"cm-tab")),it.setAttribute("role","presentation"),it.setAttribute("cm-text","	"),s.col+=ut}else K[0]=="\r"||K[0]==`
`?(it=N.appendChild(O("span",K[0]=="\r"?"␍":"␤","cm-invalidchar")),it.setAttribute("cm-text",K[0]),s.col+=1):(it=s.cm.options.specialCharPlaceholder(K[0]),it.setAttribute("cm-text",K[0]),c&&p<9?N.appendChild(O("span",[it])):N.appendChild(it),s.col+=1);s.map.push(s.pos,s.pos+1,it),s.pos++}}if(s.trailingSpace=x.charCodeAt(l.length-1)==32,d||f||h||M||m||_){var ft=d||"";f&&(ft+=f),h&&(ft+=h);var ct=O("span",[N],ft,m);if(_)for(var ht in _)_.hasOwnProperty(ht)&&ht!="style"&&ht!="class"&&ct.setAttribute(ht,_[ht]);return s.content.appendChild(ct)}s.content.appendChild(N)}}function oL(s,l){if(s.length>1&&!/  /.test(s))return s;for(var d=l,f="",h=0;h<s.length;h++){var m=s.charAt(h);m==" "&&d&&(h==s.length-1||s.charCodeAt(h+1)==32)&&(m=" "),f+=m,d=m==" "}return f}function aL(s,l){return function(d,f,h,m,_,x,E){h=h?h+" cm-force-border":"cm-force-border";for(var M=d.pos,N=M+f.length;;){for(var P=void 0,K=0;K<l.length&&(P=l[K],!(P.to>M&&P.from<=M));K++);if(P.to>=N)return s(d,f,h,m,_,x,E);s(d,f.slice(0,P.to-M),h,m,null,x,E),m=null,f=f.slice(P.to-M),M=P.to}}}function Iw(s,l,d,f){var h=!f&&d.widgetNode;h&&s.map.push(s.pos,s.pos+l,h),!f&&s.cm.display.input.needsContentAttribute&&(h||(h=s.content.appendChild(document.createElement("span"))),h.setAttribute("cm-marker",d.id)),h&&(s.cm.display.input.setUneditable(h),s.content.appendChild(h)),s.pos+=l,s.trailingSpace=!1}function lL(s,l,d){var f=s.markedSpans,h=s.text,m=0;if(!f){for(var _=1;_<d.length;_+=2)l.addToken(l,h.slice(m,m=d[_]),Tw(d[_+1],l.cm.options));return}for(var x=h.length,E=0,M=1,N="",P,K,Y=0,et,it,ot,ut,ft;;){if(Y==E){et=it=ot=K="",ft=null,ut=null,Y=1/0;for(var ct=[],ht=void 0,xt=0;xt<f.length;++xt){var vt=f[xt],Ht=vt.marker;if(Ht.type=="bookmark"&&vt.from==E&&Ht.widgetNode)ct.push(Ht);else if(vt.from<=E&&(vt.to==null||vt.to>E||Ht.collapsed&&vt.to==E&&vt.from==E)){if(vt.to!=null&&vt.to!=E&&Y>vt.to&&(Y=vt.to,it=""),Ht.className&&(et+=" "+Ht.className),Ht.css&&(K=(K?K+";":"")+Ht.css),Ht.startStyle&&vt.from==E&&(ot+=" "+Ht.startStyle),Ht.endStyle&&vt.to==Y&&(ht||(ht=[])).push(Ht.endStyle,vt.to),Ht.title&&((ft||(ft={})).title=Ht.title),Ht.attributes)for(var me in Ht.attributes)(ft||(ft={}))[me]=Ht.attributes[me];Ht.collapsed&&(!ut||Tm(ut.marker,Ht)<0)&&(ut=vt)}else vt.from>E&&Y>vt.from&&(Y=vt.from)}if(ht)for(var an=0;an<ht.length;an+=2)ht[an+1]==Y&&(it+=" "+ht[an]);if(!ut||ut.from==E)for(var Le=0;Le<ct.length;++Le)Iw(l,0,ct[Le]);if(ut&&(ut.from||0)==E){if(Iw(l,(ut.to==null?x+1:ut.to)-E,ut.marker,ut.from==null),ut.to==null)return;ut.to==E&&(ut=!1)}}if(E>=x)break;for(var ni=Math.min(x,Y);;){if(N){var Vn=E+N.length;if(!ut){var Ke=Vn>ni?N.slice(0,ni-E):N;l.addToken(l,Ke,P?P+et:et,ot,E+Ke.length==Y?it:"",K,ft)}if(Vn>=ni){N=N.slice(ni-E),E=ni;break}E=Vn,ot=""}N=h.slice(m,m=d[M++]),P=Tw(d[M++],l.cm.options)}}}function Aw(s,l,d){this.line=l,this.rest=JD(l),this.size=this.rest?ie(zt(this.rest))-d+1:1,this.node=this.text=null,this.hidden=Vs(s,l)}function gd(s,l,d){for(var f=[],h,m=l;m<d;m=h){var _=new Aw(s.doc,yt(s.doc,m),m);h=m+_.size,f.push(_)}return f}var Pa=null;function uL(s){Pa?Pa.ops.push(s):s.ownsGroup=Pa={ops:[s],delayedCallbacks:[]}}function cL(s){var l=s.delayedCallbacks,d=0;do{for(;d<l.length;d++)l[d].call(null);for(var f=0;f<s.ops.length;f++){var h=s.ops[f];if(h.cursorActivityHandlers)for(;h.cursorActivityCalled<h.cursorActivityHandlers.length;)h.cursorActivityHandlers[h.cursorActivityCalled++].call(null,h.cm)}}while(d<l.length)}function fL(s,l){var d=s.ownsGroup;if(d)try{cL(d)}finally{Pa=null,l(d)}}var Du=null;function rn(s,l){var d=Zr(s,l);if(d.length){var f=Array.prototype.slice.call(arguments,2),h;Pa?h=Pa.delayedCallbacks:Du?h=Du:(h=Du=[],setTimeout(dL,0));for(var m=function(x){h.push(function(){return d[x].apply(null,f)})},_=0;_<d.length;++_)m(_)}}function dL(){var s=Du;Du=null;for(var l=0;l<s.length;++l)s[l]()}function Dw(s,l,d,f){for(var h=0;h<l.changes.length;h++){var m=l.changes[h];m=="text"?pL(s,l):m=="gutter"?Nw(s,l,d,f):m=="class"?Dm(s,l):m=="widget"&&gL(s,l,f)}l.changes=null}function Lu(s){return s.node==s.text&&(s.node=O("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),c&&p<8&&(s.node.style.zIndex=2)),s.node}function hL(s,l){var d=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(d&&(d+=" CodeMirror-linebackground"),l.background)d?l.background.className=d:(l.background.parentNode.removeChild(l.background),l.background=null);else if(d){var f=Lu(l);l.background=f.insertBefore(O("div",null,d),f.firstChild),s.display.input.setUneditable(l.background)}}function Lw(s,l){var d=s.display.externalMeasured;return d&&d.line==l.line?(s.display.externalMeasured=null,l.measure=d.measure,d.built):Mw(s,l)}function pL(s,l){var d=l.text.className,f=Lw(s,l);l.text==l.node&&(l.node=f.pre),l.text.parentNode.replaceChild(f.pre,l.text),l.text=f.pre,f.bgClass!=l.bgClass||f.textClass!=l.textClass?(l.bgClass=f.bgClass,l.textClass=f.textClass,Dm(s,l)):d&&(l.text.className=d)}function Dm(s,l){hL(s,l),l.line.wrapClass?Lu(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className="");var d=l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass;l.text.className=d||""}function Nw(s,l,d,f){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var h=Lu(l);l.gutterBackground=O("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(s.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),s.display.input.setUneditable(l.gutterBackground),h.insertBefore(l.gutterBackground,l.text)}var m=l.line.gutterMarkers;if(s.options.lineNumbers||m){var _=Lu(l),x=l.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(x.setAttribute("aria-hidden","true"),s.display.input.setUneditable(x),_.insertBefore(x,l.text),l.line.gutterClass&&(x.className+=" "+l.line.gutterClass),s.options.lineNumbers&&(!m||!m["CodeMirror-linenumbers"])&&(l.lineNumber=x.appendChild(O("div",wm(s.options,d),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),m)for(var E=0;E<s.display.gutterSpecs.length;++E){var M=s.display.gutterSpecs[E].className,N=m.hasOwnProperty(M)&&m[M];N&&x.appendChild(O("div",[N],"CodeMirror-gutter-elt","left: "+f.gutterLeft[M]+"px; width: "+f.gutterWidth[M]+"px"))}}}function gL(s,l,d){l.alignable&&(l.alignable=null);for(var f=$("CodeMirror-linewidget"),h=l.node.firstChild,m=void 0;h;h=m)m=h.nextSibling,f.test(h.className)&&l.node.removeChild(h);Ow(s,l,d)}function mL(s,l,d,f){var h=Lw(s,l);return l.text=l.node=h.pre,h.bgClass&&(l.bgClass=h.bgClass),h.textClass&&(l.textClass=h.textClass),Dm(s,l),Nw(s,l,d,f),Ow(s,l,f),l.node}function Ow(s,l,d){if(Rw(s,l.line,l,d,!0),l.rest)for(var f=0;f<l.rest.length;f++)Rw(s,l.rest[f],l,d,!1)}function Rw(s,l,d,f,h){if(l.widgets)for(var m=Lu(d),_=0,x=l.widgets;_<x.length;++_){var E=x[_],M=O("div",[E.node],"CodeMirror-linewidget"+(E.className?" "+E.className:""));E.handleMouseEvents||M.setAttribute("cm-ignore-events","true"),yL(E,M,d,f),s.display.input.setUneditable(M),h&&E.above?m.insertBefore(M,d.gutter||d.text):m.appendChild(M),rn(E,"redraw")}}function yL(s,l,d,f){if(s.noHScroll){(d.alignable||(d.alignable=[])).push(l);var h=f.wrapperWidth;l.style.left=f.fixedPos+"px",s.coverGutter||(h-=f.gutterTotalWidth,l.style.paddingLeft=f.gutterTotalWidth+"px"),l.style.width=h+"px"}s.coverGutter&&(l.style.zIndex=5,l.style.position="relative",s.noHScroll||(l.style.marginLeft=-f.gutterTotalWidth+"px"))}function Nu(s){if(s.height!=null)return s.height;var l=s.doc.cm;if(!l)return 0;if(!q(document.body,s.node)){var d="position: relative;";s.coverGutter&&(d+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),s.noHScroll&&(d+="width: "+l.display.wrapper.clientWidth+"px;"),A(l.display.measure,O("div",[s.node],null,d))}return s.height=s.node.parentNode.offsetHeight}function is(s,l){for(var d=_u(l);d!=s.wrapper;d=d.parentNode)if(!d||d.nodeType==1&&d.getAttribute("cm-ignore-events")=="true"||d.parentNode==s.sizer&&d!=s.mover)return!0}function md(s){return s.lineSpace.offsetTop}function Lm(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function Fw(s){if(s.cachedPaddingH)return s.cachedPaddingH;var l=A(s.measure,O("pre","x","CodeMirror-line-like")),d=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,f={left:parseInt(d.paddingLeft),right:parseInt(d.paddingRight)};return!isNaN(f.left)&&!isNaN(f.right)&&(s.cachedPaddingH=f),f}function kr(s){return be-s.display.nativeBarWidth}function Vo(s){return s.display.scroller.clientWidth-kr(s)-s.display.barWidth}function Nm(s){return s.display.scroller.clientHeight-kr(s)-s.display.barHeight}function vL(s,l,d){var f=s.options.lineWrapping,h=f&&Vo(s);if(!l.measure.heights||f&&l.measure.width!=h){var m=l.measure.heights=[];if(f){l.measure.width=h;for(var _=l.text.firstChild.getClientRects(),x=0;x<_.length-1;x++){var E=_[x],M=_[x+1];Math.abs(E.bottom-M.bottom)>2&&m.push((E.bottom+M.top)/2-d.top)}}m.push(d.bottom-d.top)}}function Pw(s,l,d){if(s.line==l)return{map:s.measure.map,cache:s.measure.cache};if(s.rest){for(var f=0;f<s.rest.length;f++)if(s.rest[f]==l)return{map:s.measure.maps[f],cache:s.measure.caches[f]};for(var h=0;h<s.rest.length;h++)if(ie(s.rest[h])>d)return{map:s.measure.maps[h],cache:s.measure.caches[h],before:!0}}}function _L(s,l){l=tr(l);var d=ie(l),f=s.display.externalMeasured=new Aw(s.doc,l,d);f.lineN=d;var h=f.built=Mw(s,f);return f.text=h.pre,A(s.display.lineMeasure,h.pre),f}function Bw(s,l,d,f){return Er(s,Ba(s,l),d,f)}function Om(s,l){if(l>=s.display.viewFrom&&l<s.display.viewTo)return s.display.view[Yo(s,l)];var d=s.display.externalMeasured;if(d&&l>=d.lineN&&l<d.lineN+d.size)return d}function Ba(s,l){var d=ie(l),f=Om(s,d);f&&!f.text?f=null:f&&f.changes&&(Dw(s,f,d,zm(s)),s.curOp.forceUpdate=!0),f||(f=_L(s,l));var h=Pw(f,l,d);return{line:l,view:f,rect:null,map:h.map,cache:h.cache,before:h.before,hasHeights:!1}}function Er(s,l,d,f,h){l.before&&(d=-1);var m=d+(f||""),_;return l.cache.hasOwnProperty(m)?_=l.cache[m]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(vL(s,l.view,l.rect),l.hasHeights=!0),_=wL(s,l,d,f),_.bogus||(l.cache[m]=_)),{left:_.left,right:_.right,top:h?_.rtop:_.top,bottom:h?_.rbottom:_.bottom}}var zw={left:0,right:0,top:0,bottom:0};function Uw(s,l,d){for(var f,h,m,_,x,E,M=0;M<s.length;M+=3)if(x=s[M],E=s[M+1],l<x?(h=0,m=1,_="left"):l<E?(h=l-x,m=h+1):(M==s.length-3||l==E&&s[M+3]>l)&&(m=E-x,h=m-1,l>=E&&(_="right")),h!=null){if(f=s[M+2],x==E&&d==(f.insertLeft?"left":"right")&&(_=d),d=="left"&&h==0)for(;M&&s[M-2]==s[M-3]&&s[M-1].insertLeft;)f=s[(M-=3)+2],_="left";if(d=="right"&&h==E-x)for(;M<s.length-3&&s[M+3]==s[M+4]&&!s[M+5].insertLeft;)f=s[(M+=3)+2],_="right";break}return{node:f,start:h,end:m,collapse:_,coverStart:x,coverEnd:E}}function bL(s,l){var d=zw;if(l=="left")for(var f=0;f<s.length&&(d=s[f]).left==d.right;f++);else for(var h=s.length-1;h>=0&&(d=s[h]).left==d.right;h--);return d}function wL(s,l,d,f){var h=Uw(l.map,d,f),m=h.node,_=h.start,x=h.end,E=h.collapse,M;if(m.nodeType==3){for(var N=0;N<4;N++){for(;_&&Xr(l.line.text.charAt(h.coverStart+_));)--_;for(;h.coverStart+x<h.coverEnd&&Xr(l.line.text.charAt(h.coverStart+x));)++x;if(c&&p<9&&_==0&&x==h.coverEnd-h.coverStart?M=m.parentNode.getBoundingClientRect():M=bL(Q(m,_,x).getClientRects(),f),M.left||M.right||_==0)break;x=_,_=_-1,E="right"}c&&p<11&&(M=xL(s.display.measure,M))}else{_>0&&(E=f="right");var P;s.options.lineWrapping&&(P=m.getClientRects()).length>1?M=P[f=="right"?P.length-1:0]:M=m.getBoundingClientRect()}if(c&&p<9&&!_&&(!M||!M.left&&!M.right)){var K=m.parentNode.getClientRects()[0];K?M={left:K.left,right:K.left+Ua(s.display),top:K.top,bottom:K.bottom}:M=zw}for(var Y=M.top-l.rect.top,et=M.bottom-l.rect.top,it=(Y+et)/2,ot=l.view.measure.heights,ut=0;ut<ot.length-1&&!(it<ot[ut]);ut++);var ft=ut?ot[ut-1]:0,ct=ot[ut],ht={left:(E=="right"?M.right:M.left)-l.rect.left,right:(E=="left"?M.left:M.right)-l.rect.left,top:ft,bottom:ct};return!M.left&&!M.right&&(ht.bogus=!0),s.options.singleCursorHeightPerLine||(ht.rtop=Y,ht.rbottom=et),ht}function xL(s,l){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ym(s))return l;var d=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*d,right:l.right*d,top:l.top*f,bottom:l.bottom*f}}function Hw(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var l=0;l<s.rest.length;l++)s.measure.caches[l]={}}function Ww(s){s.display.externalMeasure=null,G(s.display.lineMeasure);for(var l=0;l<s.display.view.length;l++)Hw(s.display.view[l])}function Ou(s){Ww(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function Vw(s){return v&&C?-(s.body.getBoundingClientRect().left-parseInt(getComputedStyle(s.body).marginLeft)):s.defaultView.pageXOffset||(s.documentElement||s.body).scrollLeft}function $w(s){return v&&C?-(s.body.getBoundingClientRect().top-parseInt(getComputedStyle(s.body).marginTop)):s.defaultView.pageYOffset||(s.documentElement||s.body).scrollTop}function Rm(s){var l=tr(s),d=l.widgets,f=0;if(d)for(var h=0;h<d.length;++h)d[h].above&&(f+=Nu(d[h]));return f}function yd(s,l,d,f,h){if(!h){var m=Rm(l);d.top+=m,d.bottom+=m}if(f=="line")return d;f||(f="local");var _=ns(l);if(f=="local"?_+=md(s.display):_-=s.display.viewOffset,f=="page"||f=="window"){var x=s.display.lineSpace.getBoundingClientRect();_+=x.top+(f=="window"?0:$w(at(s)));var E=x.left+(f=="window"?0:Vw(at(s)));d.left+=E,d.right+=E}return d.top+=_,d.bottom+=_,d}function jw(s,l,d){if(d=="div")return l;var f=l.left,h=l.top;if(d=="page")f-=Vw(at(s)),h-=$w(at(s));else if(d=="local"||!d){var m=s.display.sizer.getBoundingClientRect();f+=m.left,h+=m.top}var _=s.display.lineSpace.getBoundingClientRect();return{left:f-_.left,top:h-_.top}}function vd(s,l,d,f,h){return f||(f=yt(s.doc,l.line)),yd(s,f,Bw(s,f,l.ch,h),d)}function er(s,l,d,f,h,m){f=f||yt(s.doc,l.line),h||(h=Ba(s,f));function _(et,it){var ot=Er(s,h,et,it?"right":"left",m);return it?ot.left=ot.right:ot.right=ot.left,yd(s,f,ot,d)}var x=Je(f,s.doc.direction),E=l.ch,M=l.sticky;if(E>=f.text.length?(E=f.text.length,M="before"):E<=0&&(E=0,M="after"),!x)return _(M=="before"?E-1:E,M=="before");function N(et,it,ot){var ut=x[it],ft=ut.level==1;return _(ot?et-1:et,ft!=ot)}var P=mi(x,E,M),K=gi,Y=N(E,P,M=="before");return K!=null&&(Y.other=N(E,K,M!="before")),Y}function Yw(s,l){var d=0;l=Rt(s.doc,l),s.options.lineWrapping||(d=Ua(s.display)*l.ch);var f=yt(s.doc,l.line),h=ns(f)+md(s.display);return{left:d,right:d,top:h,bottom:h+f.height}}function Fm(s,l,d,f,h){var m=st(s,l,d);return m.xRel=h,f&&(m.outside=f),m}function Pm(s,l,d){var f=s.doc;if(d+=s.display.viewOffset,d<0)return Fm(f.first,0,null,-1,-1);var h=Ji(f,d),m=f.first+f.size-1;if(h>m)return Fm(f.first+f.size-1,yt(f,m).text.length,null,1,1);l<0&&(l=0);for(var _=yt(f,h);;){var x=SL(s,_,h,l,d),E=QD(_,x.ch+(x.xRel>0||x.outside>0?1:0));if(!E)return x;var M=E.find(1);if(M.line==h)return M;_=yt(f,h=M.line)}}function qw(s,l,d,f){f-=Rm(l);var h=l.text.length,m=wn(function(_){return Er(s,d,_-1).bottom<=f},h,0);return h=wn(function(_){return Er(s,d,_).top>f},m,h),{begin:m,end:h}}function Kw(s,l,d,f){d||(d=Ba(s,l));var h=yd(s,l,Er(s,d,f),"line").top;return qw(s,l,d,h)}function Bm(s,l,d,f){return s.bottom<=d?!1:s.top>d?!0:(f?s.left:s.right)>l}function SL(s,l,d,f,h){h-=ns(l);var m=Ba(s,l),_=Rm(l),x=0,E=l.text.length,M=!0,N=Je(l,s.doc.direction);if(N){var P=(s.options.lineWrapping?EL:kL)(s,l,d,m,N,f,h);M=P.level!=1,x=M?P.from:P.to-1,E=M?P.to:P.from-1}var K=null,Y=null,et=wn(function(xt){var vt=Er(s,m,xt);return vt.top+=_,vt.bottom+=_,Bm(vt,f,h,!1)?(vt.top<=h&&vt.left<=f&&(K=xt,Y=vt),!0):!1},x,E),it,ot,ut=!1;if(Y){var ft=f-Y.left<Y.right-f,ct=ft==M;et=K+(ct?0:1),ot=ct?"after":"before",it=ft?Y.left:Y.right}else{!M&&(et==E||et==x)&&et++,ot=et==0?"after":et==l.text.length?"before":Er(s,m,et-(M?1:0)).bottom+_<=h==M?"after":"before";var ht=er(s,st(d,et,ot),"line",l,m);it=ht.left,ut=h<ht.top?-1:h>=ht.bottom?1:0}return et=nn(l.text,et,1),Fm(d,et,ot,ut,f-it)}function kL(s,l,d,f,h,m,_){var x=wn(function(P){var K=h[P],Y=K.level!=1;return Bm(er(s,st(d,Y?K.to:K.from,Y?"before":"after"),"line",l,f),m,_,!0)},0,h.length-1),E=h[x];if(x>0){var M=E.level!=1,N=er(s,st(d,M?E.from:E.to,M?"after":"before"),"line",l,f);Bm(N,m,_,!0)&&N.top>_&&(E=h[x-1])}return E}function EL(s,l,d,f,h,m,_){var x=qw(s,l,f,_),E=x.begin,M=x.end;/\s/.test(l.text.charAt(M-1))&&M--;for(var N=null,P=null,K=0;K<h.length;K++){var Y=h[K];if(!(Y.from>=M||Y.to<=E)){var et=Y.level!=1,it=Er(s,f,et?Math.min(M,Y.to)-1:Math.max(E,Y.from)).right,ot=it<m?m-it+1e9:it-m;(!N||P>ot)&&(N=Y,P=ot)}}return N||(N=h[h.length-1]),N.from<E&&(N={from:E,to:N.to,level:N.level}),N.to>M&&(N={from:N.from,to:M,level:N.level}),N}var $o;function za(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if($o==null){$o=O("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)$o.appendChild(document.createTextNode("x")),$o.appendChild(O("br"));$o.appendChild(document.createTextNode("x"))}A(s.measure,$o);var d=$o.offsetHeight/50;return d>3&&(s.cachedTextHeight=d),G(s.measure),d||1}function Ua(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var l=O("span","xxxxxxxxxx"),d=O("pre",[l],"CodeMirror-line-like");A(s.measure,d);var f=l.getBoundingClientRect(),h=(f.right-f.left)/10;return h>2&&(s.cachedCharWidth=h),h||10}function zm(s){for(var l=s.display,d={},f={},h=l.gutters.clientLeft,m=l.gutters.firstChild,_=0;m;m=m.nextSibling,++_){var x=s.display.gutterSpecs[_].className;d[x]=m.offsetLeft+m.clientLeft+h,f[x]=m.clientWidth}return{fixedPos:Um(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:d,gutterWidth:f,wrapperWidth:l.wrapper.clientWidth}}function Um(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function Gw(s){var l=za(s.display),d=s.options.lineWrapping,f=d&&Math.max(5,s.display.scroller.clientWidth/Ua(s.display)-3);return function(h){if(Vs(s.doc,h))return 0;var m=0;if(h.widgets)for(var _=0;_<h.widgets.length;_++)h.widgets[_].height&&(m+=h.widgets[_].height);return d?m+(Math.ceil(h.text.length/f)||1)*l:m+l}}function Hm(s){var l=s.doc,d=Gw(s);l.iter(function(f){var h=d(f);h!=f.height&&Di(f,h)})}function jo(s,l,d,f){var h=s.display;if(!d&&_u(l).getAttribute("cm-not-content")=="true")return null;var m,_,x=h.lineSpace.getBoundingClientRect();try{m=l.clientX-x.left,_=l.clientY-x.top}catch{return null}var E=Pm(s,m,_),M;if(f&&E.xRel>0&&(M=yt(s.doc,E.line).text).length==E.ch){var N=Mt(M,M.length,s.options.tabSize)-M.length;E=st(E.line,Math.max(0,Math.round((m-Fw(s.display).left)/Ua(s.display))-N))}return E}function Yo(s,l){if(l>=s.display.viewTo||(l-=s.display.viewFrom,l<0))return null;for(var d=s.display.view,f=0;f<d.length;f++)if(l-=d[f].size,l<0)return f}function Hn(s,l,d,f){l==null&&(l=s.doc.first),d==null&&(d=s.doc.first+s.doc.size),f||(f=0);var h=s.display;if(f&&d<h.viewTo&&(h.updateLineNumbers==null||h.updateLineNumbers>l)&&(h.updateLineNumbers=l),s.curOp.viewChanged=!0,l>=h.viewTo)es&&Mm(s.doc,l)<h.viewTo&&js(s);else if(d<=h.viewFrom)es&&Cw(s.doc,d+f)>h.viewFrom?js(s):(h.viewFrom+=f,h.viewTo+=f);else if(l<=h.viewFrom&&d>=h.viewTo)js(s);else if(l<=h.viewFrom){var m=_d(s,d,d+f,1);m?(h.view=h.view.slice(m.index),h.viewFrom=m.lineN,h.viewTo+=f):js(s)}else if(d>=h.viewTo){var _=_d(s,l,l,-1);_?(h.view=h.view.slice(0,_.index),h.viewTo=_.lineN):js(s)}else{var x=_d(s,l,l,-1),E=_d(s,d,d+f,1);x&&E?(h.view=h.view.slice(0,x.index).concat(gd(s,x.lineN,E.lineN)).concat(h.view.slice(E.index)),h.viewTo+=f):js(s)}var M=h.externalMeasured;M&&(d<M.lineN?M.lineN+=f:l<M.lineN+M.size&&(h.externalMeasured=null))}function $s(s,l,d){s.curOp.viewChanged=!0;var f=s.display,h=s.display.externalMeasured;if(h&&l>=h.lineN&&l<h.lineN+h.size&&(f.externalMeasured=null),!(l<f.viewFrom||l>=f.viewTo)){var m=f.view[Yo(s,l)];if(m.node!=null){var _=m.changes||(m.changes=[]);jt(_,d)==-1&&_.push(d)}}}function js(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function _d(s,l,d,f){var h=Yo(s,l),m,_=s.display.view;if(!es||d==s.doc.first+s.doc.size)return{index:h,lineN:d};for(var x=s.display.viewFrom,E=0;E<h;E++)x+=_[E].size;if(x!=l){if(f>0){if(h==_.length-1)return null;m=x+_[h].size-l,h++}else m=x-l;l+=m,d+=m}for(;Mm(s.doc,d)!=d;){if(h==(f<0?0:_.length-1))return null;d+=f*_[h-(f<0?1:0)].size,h+=f}return{index:h,lineN:d}}function CL(s,l,d){var f=s.display,h=f.view;h.length==0||l>=f.viewTo||d<=f.viewFrom?(f.view=gd(s,l,d),f.viewFrom=l):(f.viewFrom>l?f.view=gd(s,l,f.viewFrom).concat(f.view):f.viewFrom<l&&(f.view=f.view.slice(Yo(s,l))),f.viewFrom=l,f.viewTo<d?f.view=f.view.concat(gd(s,f.viewTo,d)):f.viewTo>d&&(f.view=f.view.slice(0,Yo(s,d)))),f.viewTo=d}function Xw(s){for(var l=s.display.view,d=0,f=0;f<l.length;f++){var h=l[f];!h.hidden&&(!h.node||h.changes)&&++d}return d}function Ru(s){s.display.input.showSelection(s.display.input.prepareSelection())}function Qw(s,l){l===void 0&&(l=!0);var d=s.doc,f={},h=f.cursors=document.createDocumentFragment(),m=f.selection=document.createDocumentFragment(),_=s.options.$customCursor;_&&(l=!0);for(var x=0;x<d.sel.ranges.length;x++)if(!(!l&&x==d.sel.primIndex)){var E=d.sel.ranges[x];if(!(E.from().line>=s.display.viewTo||E.to().line<s.display.viewFrom)){var M=E.empty();if(_){var N=_(s,E);N&&Wm(s,N,h)}else(M||s.options.showCursorWhenSelecting)&&Wm(s,E.head,h);M||TL(s,E,m)}}return f}function Wm(s,l,d){var f=er(s,l,"div",null,null,!s.options.singleCursorHeightPerLine),h=d.appendChild(O("div"," ","CodeMirror-cursor"));if(h.style.left=f.left+"px",h.style.top=f.top+"px",h.style.height=Math.max(0,f.bottom-f.top)*s.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(s.getWrapperElement().className)){var m=vd(s,l,"div",null,null),_=m.right-m.left;h.style.width=(_>0?_:s.defaultCharWidth())+"px"}if(f.other){var x=d.appendChild(O("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));x.style.display="",x.style.left=f.other.left+"px",x.style.top=f.other.top+"px",x.style.height=(f.other.bottom-f.other.top)*.85+"px"}}function bd(s,l){return s.top-l.top||s.left-l.left}function TL(s,l,d){var f=s.display,h=s.doc,m=document.createDocumentFragment(),_=Fw(s.display),x=_.left,E=Math.max(f.sizerWidth,Vo(s)-f.sizer.offsetLeft)-_.right,M=h.direction=="ltr";function N(ct,ht,xt,vt){ht<0&&(ht=0),ht=Math.round(ht),vt=Math.round(vt),m.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+ct+`px;
                             top: `+ht+"px; width: "+(xt??E-ct)+`px;
                             height: `+(vt-ht)+"px"))}function P(ct,ht,xt){var vt=yt(h,ct),Ht=vt.text.length,me,an;function Le(Ke,$n){return vd(s,st(ct,Ke),"div",vt,$n)}function ni(Ke,$n,gn){var tn=Kw(s,vt,null,Ke),Ge=$n=="ltr"==(gn=="after")?"left":"right",Fe=gn=="after"?tn.begin:tn.end-(/\s/.test(vt.text.charAt(tn.end-1))?2:1);return Le(Fe,Ge)[Ge]}var Vn=Je(vt,h.direction);return Qr(Vn,ht||0,xt??Ht,function(Ke,$n,gn,tn){var Ge=gn=="ltr",Fe=Le(Ke,Ge?"left":"right"),jn=Le($n-1,Ge?"right":"left"),Ja=ht==null&&Ke==0,Qs=xt==null&&$n==Ht,En=tn==0,Cr=!Vn||tn==Vn.length-1;if(jn.top-Fe.top<=3){var ln=(M?Ja:Qs)&&En,gy=(M?Qs:Ja)&&Cr,os=ln?x:(Ge?Fe:jn).left,Qo=gy?E:(Ge?jn:Fe).right;N(os,Fe.top,Qo-os,Fe.bottom)}else{var Zo,Dn,tl,my;Ge?(Zo=M&&Ja&&En?x:Fe.left,Dn=M?E:ni(Ke,gn,"before"),tl=M?x:ni($n,gn,"after"),my=M&&Qs&&Cr?E:jn.right):(Zo=M?ni(Ke,gn,"before"):x,Dn=!M&&Ja&&En?E:Fe.right,tl=!M&&Qs&&Cr?x:jn.left,my=M?ni($n,gn,"after"):E),N(Zo,Fe.top,Dn-Zo,Fe.bottom),Fe.bottom<jn.top&&N(x,Fe.bottom,null,jn.top),N(tl,jn.top,my-tl,jn.bottom)}(!me||bd(Fe,me)<0)&&(me=Fe),bd(jn,me)<0&&(me=jn),(!an||bd(Fe,an)<0)&&(an=Fe),bd(jn,an)<0&&(an=jn)}),{start:me,end:an}}var K=l.from(),Y=l.to();if(K.line==Y.line)P(K.line,K.ch,Y.ch);else{var et=yt(h,K.line),it=yt(h,Y.line),ot=tr(et)==tr(it),ut=P(K.line,K.ch,ot?et.text.length+1:null).end,ft=P(Y.line,ot?0:null,Y.ch).start;ot&&(ut.top<ft.top-2?(N(ut.right,ut.top,null,ut.bottom),N(x,ft.top,ft.left,ft.bottom)):N(ut.right,ut.top,ft.left-ut.right,ut.bottom)),ut.bottom<ft.top&&N(x,ut.bottom,null,ft.top)}d.appendChild(m)}function Vm(s){if(s.state.focused){var l=s.display;clearInterval(l.blinker);var d=!0;l.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?l.blinker=setInterval(function(){s.hasFocus()||Ha(s),l.cursorDiv.style.visibility=(d=!d)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function Zw(s){s.hasFocus()||(s.display.input.focus(),s.state.focused||jm(s))}function $m(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,s.state.focused&&Ha(s))},100)}function jm(s,l){s.state.delayingBlurEvent&&!s.state.draggingText&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(De(s,"focus",s,l),s.state.focused=!0,X(s.display.wrapper,"CodeMirror-focused"),!s.curOp&&s.display.selForContextMenu!=s.doc.sel&&(s.display.input.reset(),g&&setTimeout(function(){return s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),Vm(s))}function Ha(s,l){s.state.delayingBlurEvent||(s.state.focused&&(De(s,"blur",s,l),s.state.focused=!1,B(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function wd(s){for(var l=s.display,d=l.lineDiv.offsetTop,f=Math.max(0,l.scroller.getBoundingClientRect().top),h=l.lineDiv.getBoundingClientRect().top,m=0,_=0;_<l.view.length;_++){var x=l.view[_],E=s.options.lineWrapping,M=void 0,N=0;if(!x.hidden){if(h+=x.line.height,c&&p<8){var P=x.node.offsetTop+x.node.offsetHeight;M=P-d,d=P}else{var K=x.node.getBoundingClientRect();M=K.bottom-K.top,!E&&x.text.firstChild&&(N=x.text.firstChild.getBoundingClientRect().right-K.left-1)}var Y=x.line.height-M;if((Y>.005||Y<-.005)&&(h<f&&(m-=Y),Di(x.line,M),Jw(x.line),x.rest))for(var et=0;et<x.rest.length;et++)Jw(x.rest[et]);if(N>s.display.sizerWidth){var it=Math.ceil(N/Ua(s.display));it>s.display.maxLineLength&&(s.display.maxLineLength=it,s.display.maxLine=x.line,s.display.maxLineChanged=!0)}}}Math.abs(m)>2&&(l.scroller.scrollTop+=m)}function Jw(s){if(s.widgets)for(var l=0;l<s.widgets.length;++l){var d=s.widgets[l],f=d.node.parentNode;f&&(d.height=f.offsetHeight)}}function xd(s,l,d){var f=d&&d.top!=null?Math.max(0,d.top):s.scroller.scrollTop;f=Math.floor(f-md(s));var h=d&&d.bottom!=null?d.bottom:f+s.wrapper.clientHeight,m=Ji(l,f),_=Ji(l,h);if(d&&d.ensure){var x=d.ensure.from.line,E=d.ensure.to.line;x<m?(m=x,_=Ji(l,ns(yt(l,x))+s.wrapper.clientHeight)):Math.min(E,l.lastLine())>=_&&(m=Ji(l,ns(yt(l,E))-s.wrapper.clientHeight),_=E)}return{from:m,to:Math.max(_,m+1)}}function ML(s,l){if(!ve(s,"scrollCursorIntoView")){var d=s.display,f=d.sizer.getBoundingClientRect(),h=null,m=d.wrapper.ownerDocument;if(l.top+f.top<0?h=!0:l.bottom+f.top>(m.defaultView.innerHeight||m.documentElement.clientHeight)&&(h=!1),h!=null&&!w){var _=O("div","​",null,`position: absolute;
                         top: `+(l.top-d.viewOffset-md(s.display))+`px;
                         height: `+(l.bottom-l.top+kr(s)+d.barHeight)+`px;
                         left: `+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");s.display.lineSpace.appendChild(_),_.scrollIntoView(h),s.display.lineSpace.removeChild(_)}}}function IL(s,l,d,f){f==null&&(f=0);var h;!s.options.lineWrapping&&l==d&&(d=l.sticky=="before"?st(l.line,l.ch+1,"before"):l,l=l.ch?st(l.line,l.sticky=="before"?l.ch-1:l.ch,"after"):l);for(var m=0;m<5;m++){var _=!1,x=er(s,l),E=!d||d==l?x:er(s,d);h={left:Math.min(x.left,E.left),top:Math.min(x.top,E.top)-f,right:Math.max(x.left,E.left),bottom:Math.max(x.bottom,E.bottom)+f};var M=Ym(s,h),N=s.doc.scrollTop,P=s.doc.scrollLeft;if(M.scrollTop!=null&&(Pu(s,M.scrollTop),Math.abs(s.doc.scrollTop-N)>1&&(_=!0)),M.scrollLeft!=null&&(qo(s,M.scrollLeft),Math.abs(s.doc.scrollLeft-P)>1&&(_=!0)),!_)break}return h}function AL(s,l){var d=Ym(s,l);d.scrollTop!=null&&Pu(s,d.scrollTop),d.scrollLeft!=null&&qo(s,d.scrollLeft)}function Ym(s,l){var d=s.display,f=za(s.display);l.top<0&&(l.top=0);var h=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:d.scroller.scrollTop,m=Nm(s),_={};l.bottom-l.top>m&&(l.bottom=l.top+m);var x=s.doc.height+Lm(d),E=l.top<f,M=l.bottom>x-f;if(l.top<h)_.scrollTop=E?0:l.top;else if(l.bottom>h+m){var N=Math.min(l.top,(M?x:l.bottom)-m);N!=h&&(_.scrollTop=N)}var P=s.options.fixedGutter?0:d.gutters.offsetWidth,K=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:d.scroller.scrollLeft-P,Y=Vo(s)-d.gutters.offsetWidth,et=l.right-l.left>Y;return et&&(l.right=l.left+Y),l.left<10?_.scrollLeft=0:l.left<K?_.scrollLeft=Math.max(0,l.left+P-(et?0:10)):l.right>Y+K-3&&(_.scrollLeft=l.right+(et?0:10)-Y),_}function qm(s,l){l!=null&&(Sd(s),s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+l)}function Wa(s){Sd(s);var l=s.getCursor();s.curOp.scrollToPos={from:l,to:l,margin:s.options.cursorScrollMargin}}function Fu(s,l,d){(l!=null||d!=null)&&Sd(s),l!=null&&(s.curOp.scrollLeft=l),d!=null&&(s.curOp.scrollTop=d)}function DL(s,l){Sd(s),s.curOp.scrollToPos=l}function Sd(s){var l=s.curOp.scrollToPos;if(l){s.curOp.scrollToPos=null;var d=Yw(s,l.from),f=Yw(s,l.to);tx(s,d,f,l.margin)}}function tx(s,l,d,f){var h=Ym(s,{left:Math.min(l.left,d.left),top:Math.min(l.top,d.top)-f,right:Math.max(l.right,d.right),bottom:Math.max(l.bottom,d.bottom)+f});Fu(s,h.scrollLeft,h.scrollTop)}function Pu(s,l){Math.abs(s.doc.scrollTop-l)<2||(r||Gm(s,{top:l}),ex(s,l,!0),r&&Gm(s),Uu(s,100))}function ex(s,l,d){l=Math.max(0,Math.min(s.display.scroller.scrollHeight-s.display.scroller.clientHeight,l)),!(s.display.scroller.scrollTop==l&&!d)&&(s.doc.scrollTop=l,s.display.scrollbars.setScrollTop(l),s.display.scroller.scrollTop!=l&&(s.display.scroller.scrollTop=l))}function qo(s,l,d,f){l=Math.max(0,Math.min(l,s.display.scroller.scrollWidth-s.display.scroller.clientWidth)),!((d?l==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-l)<2)&&!f)&&(s.doc.scrollLeft=l,ox(s),s.display.scroller.scrollLeft!=l&&(s.display.scroller.scrollLeft=l),s.display.scrollbars.setScrollLeft(l))}function Bu(s){var l=s.display,d=l.gutters.offsetWidth,f=Math.round(s.doc.height+Lm(s.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:s.options.fixedGutter?d:0,docHeight:f,scrollHeight:f+kr(s)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:d}}var Ko=function(s,l,d){this.cm=d;var f=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),h=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=h.tabIndex=-1,s(f),s(h),wt(f,"scroll",function(){f.clientHeight&&l(f.scrollTop,"vertical")}),wt(h,"scroll",function(){h.clientWidth&&l(h.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,c&&p<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ko.prototype.update=function(s){var l=s.scrollWidth>s.clientWidth+1,d=s.scrollHeight>s.clientHeight+1,f=s.nativeBarWidth;if(d){this.vert.style.display="block",this.vert.style.bottom=l?f+"px":"0";var h=s.viewHeight-(l?f:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+h)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(l){this.horiz.style.display="block",this.horiz.style.right=d?f+"px":"0",this.horiz.style.left=s.barLeft+"px";var m=s.viewWidth-s.barLeft-(d?f:0);this.horiz.firstChild.style.width=Math.max(0,s.scrollWidth-s.clientWidth+m)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(f==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:d?f:0,bottom:l?f:0}},Ko.prototype.setScrollLeft=function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ko.prototype.setScrollTop=function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ko.prototype.zeroWidthHack=function(){var s=L&&!D?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ut,this.disableVert=new Ut},Ko.prototype.enableZeroWidthBar=function(s,l,d){s.style.visibility="";function f(){var h=s.getBoundingClientRect(),m=d=="vert"?document.elementFromPoint(h.right-1,(h.top+h.bottom)/2):document.elementFromPoint((h.right+h.left)/2,h.bottom-1);m!=s?s.style.visibility="hidden":l.set(1e3,f)}l.set(1e3,f)},Ko.prototype.clear=function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)};var zu=function(){};zu.prototype.update=function(){return{bottom:0,right:0}},zu.prototype.setScrollLeft=function(){},zu.prototype.setScrollTop=function(){},zu.prototype.clear=function(){};function Va(s,l){l||(l=Bu(s));var d=s.display.barWidth,f=s.display.barHeight;nx(s,l);for(var h=0;h<4&&d!=s.display.barWidth||f!=s.display.barHeight;h++)d!=s.display.barWidth&&s.options.lineWrapping&&wd(s),nx(s,Bu(s)),d=s.display.barWidth,f=s.display.barHeight}function nx(s,l){var d=s.display,f=d.scrollbars.update(l);d.sizer.style.paddingRight=(d.barWidth=f.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=f.bottom)+"px",d.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=f.bottom+"px",d.scrollbarFiller.style.width=f.right+"px"):d.scrollbarFiller.style.display="",f.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=f.bottom+"px",d.gutterFiller.style.width=l.gutterWidth+"px"):d.gutterFiller.style.display=""}var ix={native:Ko,null:zu};function rx(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&B(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new ix[s.options.scrollbarStyle](function(l){s.display.wrapper.insertBefore(l,s.display.scrollbarFiller),wt(l,"mousedown",function(){s.state.focused&&setTimeout(function(){return s.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,d){d=="horizontal"?qo(s,l):Pu(s,l)},s),s.display.scrollbars.addClass&&X(s.display.wrapper,s.display.scrollbars.addClass)}var LL=0;function Go(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++LL,markArrays:null},uL(s.curOp)}function Xo(s){var l=s.curOp;l&&fL(l,function(d){for(var f=0;f<d.ops.length;f++)d.ops[f].cm.curOp=null;NL(d)})}function NL(s){for(var l=s.ops,d=0;d<l.length;d++)OL(l[d]);for(var f=0;f<l.length;f++)RL(l[f]);for(var h=0;h<l.length;h++)FL(l[h]);for(var m=0;m<l.length;m++)PL(l[m]);for(var _=0;_<l.length;_++)BL(l[_])}function OL(s){var l=s.cm,d=l.display;UL(l),s.updateMaxLine&&Am(l),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<d.viewFrom||s.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&l.options.lineWrapping,s.update=s.mustUpdate&&new kd(l,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function RL(s){s.updatedDisplay=s.mustUpdate&&Km(s.cm,s.update)}function FL(s){var l=s.cm,d=l.display;s.updatedDisplay&&wd(l),s.barMeasure=Bu(l),d.maxLineChanged&&!l.options.lineWrapping&&(s.adjustWidthTo=Bw(l,d.maxLine,d.maxLine.text.length).left+3,l.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+s.adjustWidthTo+kr(l)+l.display.barWidth),s.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+s.adjustWidthTo-Vo(l))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=d.input.prepareSelection())}function PL(s){var l=s.cm;s.adjustWidthTo!=null&&(l.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<l.doc.scrollLeft&&qo(l,Math.min(l.display.scroller.scrollLeft,s.maxScrollLeft),!0),l.display.maxLineChanged=!1);var d=s.focus&&s.focus==z(rt(l));s.preparedSelection&&l.display.input.showSelection(s.preparedSelection,d),(s.updatedDisplay||s.startHeight!=l.doc.height)&&Va(l,s.barMeasure),s.updatedDisplay&&Qm(l,s.barMeasure),s.selectionChanged&&Vm(l),l.state.focused&&s.updateInput&&l.display.input.reset(s.typing),d&&Zw(s.cm)}function BL(s){var l=s.cm,d=l.display,f=l.doc;if(s.updatedDisplay&&sx(l,s.update),d.wheelStartX!=null&&(s.scrollTop!=null||s.scrollLeft!=null||s.scrollToPos)&&(d.wheelStartX=d.wheelStartY=null),s.scrollTop!=null&&ex(l,s.scrollTop,s.forceScroll),s.scrollLeft!=null&&qo(l,s.scrollLeft,!0,!0),s.scrollToPos){var h=IL(l,Rt(f,s.scrollToPos.from),Rt(f,s.scrollToPos.to),s.scrollToPos.margin);ML(l,h)}var m=s.maybeHiddenMarkers,_=s.maybeUnhiddenMarkers;if(m)for(var x=0;x<m.length;++x)m[x].lines.length||De(m[x],"hide");if(_)for(var E=0;E<_.length;++E)_[E].lines.length&&De(_[E],"unhide");d.wrapper.offsetHeight&&(f.scrollTop=l.display.scroller.scrollTop),s.changeObjs&&De(l,"changes",l,s.changeObjs),s.update&&s.update.finish()}function ei(s,l){if(s.curOp)return l();Go(s);try{return l()}finally{Xo(s)}}function sn(s,l){return function(){if(s.curOp)return l.apply(s,arguments);Go(s);try{return l.apply(s,arguments)}finally{Xo(s)}}}function An(s){return function(){if(this.curOp)return s.apply(this,arguments);Go(this);try{return s.apply(this,arguments)}finally{Xo(this)}}}function on(s){return function(){var l=this.cm;if(!l||l.curOp)return s.apply(this,arguments);Go(l);try{return s.apply(this,arguments)}finally{Xo(l)}}}function Uu(s,l){s.doc.highlightFrontier<s.display.viewTo&&s.state.highlight.set(l,_t(zL,s))}function zL(s){var l=s.doc;if(!(l.highlightFrontier>=s.display.viewTo)){var d=+new Date+s.options.workTime,f=Iu(s,l.highlightFrontier),h=[];l.iter(f.line,Math.min(l.first+l.size,s.display.viewTo+500),function(m){if(f.line>=s.display.viewFrom){var _=m.styles,x=m.text.length>s.options.maxHighlightLength?ts(l.mode,f.state):null,E=dw(s,m,f,!0);x&&(f.state=x),m.styles=E.styles;var M=m.styleClasses,N=E.classes;N?m.styleClasses=N:M&&(m.styleClasses=null);for(var P=!_||_.length!=m.styles.length||M!=N&&(!M||!N||M.bgClass!=N.bgClass||M.textClass!=N.textClass),K=0;!P&&K<_.length;++K)P=_[K]!=m.styles[K];P&&h.push(f.line),m.stateAfter=f.save(),f.nextLine()}else m.text.length<=s.options.maxHighlightLength&&km(s,m.text,f),m.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>d)return Uu(s,s.options.workDelay),!0}),l.highlightFrontier=f.line,l.modeFrontier=Math.max(l.modeFrontier,f.line),h.length&&ei(s,function(){for(var m=0;m<h.length;m++)$s(s,h[m],"text")})}}var kd=function(s,l,d){var f=s.display;this.viewport=l,this.visible=xd(f,s.doc,l),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=Vo(s),this.force=d,this.dims=zm(s),this.events=[]};kd.prototype.signal=function(s,l){ti(s,l)&&this.events.push(arguments)},kd.prototype.finish=function(){for(var s=0;s<this.events.length;s++)De.apply(null,this.events[s])};function UL(s){var l=s.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=kr(s)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=kr(s)+"px",l.scrollbarsClipped=!0)}function HL(s){if(s.hasFocus())return null;var l=z(rt(s));if(!l||!q(s.display.lineDiv,l))return null;var d={activeElt:l};if(window.getSelection){var f=mt(s).getSelection();f.anchorNode&&f.extend&&q(s.display.lineDiv,f.anchorNode)&&(d.anchorNode=f.anchorNode,d.anchorOffset=f.anchorOffset,d.focusNode=f.focusNode,d.focusOffset=f.focusOffset)}return d}function WL(s){if(!(!s||!s.activeElt||s.activeElt==z(dt(s.activeElt)))&&(s.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(s.activeElt.nodeName)&&s.anchorNode&&q(document.body,s.anchorNode)&&q(document.body,s.focusNode))){var l=s.activeElt.ownerDocument,d=l.defaultView.getSelection(),f=l.createRange();f.setEnd(s.anchorNode,s.anchorOffset),f.collapse(!1),d.removeAllRanges(),d.addRange(f),d.extend(s.focusNode,s.focusOffset)}}function Km(s,l){var d=s.display,f=s.doc;if(l.editorIsHidden)return js(s),!1;if(!l.force&&l.visible.from>=d.viewFrom&&l.visible.to<=d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo)&&d.renderedView==d.view&&Xw(s)==0)return!1;ax(s)&&(js(s),l.dims=zm(s));var h=f.first+f.size,m=Math.max(l.visible.from-s.options.viewportMargin,f.first),_=Math.min(h,l.visible.to+s.options.viewportMargin);d.viewFrom<m&&m-d.viewFrom<20&&(m=Math.max(f.first,d.viewFrom)),d.viewTo>_&&d.viewTo-_<20&&(_=Math.min(h,d.viewTo)),es&&(m=Mm(s.doc,m),_=Cw(s.doc,_));var x=m!=d.viewFrom||_!=d.viewTo||d.lastWrapHeight!=l.wrapperHeight||d.lastWrapWidth!=l.wrapperWidth;CL(s,m,_),d.viewOffset=ns(yt(s.doc,d.viewFrom)),s.display.mover.style.top=d.viewOffset+"px";var E=Xw(s);if(!x&&E==0&&!l.force&&d.renderedView==d.view&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo))return!1;var M=HL(s);return E>4&&(d.lineDiv.style.display="none"),VL(s,d.updateLineNumbers,l.dims),E>4&&(d.lineDiv.style.display=""),d.renderedView=d.view,WL(M),G(d.cursorDiv),G(d.selectionDiv),d.gutters.style.height=d.sizer.style.minHeight=0,x&&(d.lastWrapHeight=l.wrapperHeight,d.lastWrapWidth=l.wrapperWidth,Uu(s,400)),d.updateLineNumbers=null,!0}function sx(s,l){for(var d=l.viewport,f=!0;;f=!1){if(!f||!s.options.lineWrapping||l.oldDisplayWidth==Vo(s)){if(d&&d.top!=null&&(d={top:Math.min(s.doc.height+Lm(s.display)-Nm(s),d.top)}),l.visible=xd(s.display,s.doc,d),l.visible.from>=s.display.viewFrom&&l.visible.to<=s.display.viewTo)break}else f&&(l.visible=xd(s.display,s.doc,d));if(!Km(s,l))break;wd(s);var h=Bu(s);Ru(s),Va(s,h),Qm(s,h),l.force=!1}l.signal(s,"update",s),(s.display.viewFrom!=s.display.reportedViewFrom||s.display.viewTo!=s.display.reportedViewTo)&&(l.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function Gm(s,l){var d=new kd(s,l);if(Km(s,d)){wd(s),sx(s,d);var f=Bu(s);Ru(s),Va(s,f),Qm(s,f),d.finish()}}function VL(s,l,d){var f=s.display,h=s.options.lineNumbers,m=f.lineDiv,_=m.firstChild;function x(et){var it=et.nextSibling;return g&&L&&s.display.currentWheelTarget==et?et.style.display="none":et.parentNode.removeChild(et),it}for(var E=f.view,M=f.viewFrom,N=0;N<E.length;N++){var P=E[N];if(!P.hidden)if(!P.node||P.node.parentNode!=m){var K=mL(s,P,M,d);m.insertBefore(K,_)}else{for(;_!=P.node;)_=x(_);var Y=h&&l!=null&&l<=M&&P.lineNumber;P.changes&&(jt(P.changes,"gutter")>-1&&(Y=!1),Dw(s,P,M,d)),Y&&(G(P.lineNumber),P.lineNumber.appendChild(document.createTextNode(wm(s.options,M)))),_=P.node.nextSibling}M+=P.size}for(;_;)_=x(_)}function Xm(s){var l=s.gutters.offsetWidth;s.sizer.style.marginLeft=l+"px",rn(s,"gutterChanged",s)}function Qm(s,l){s.display.sizer.style.minHeight=l.docHeight+"px",s.display.heightForcer.style.top=l.docHeight+"px",s.display.gutters.style.height=l.docHeight+s.display.barHeight+kr(s)+"px"}function ox(s){var l=s.display,d=l.view;if(!(!l.alignWidgets&&(!l.gutters.firstChild||!s.options.fixedGutter))){for(var f=Um(l)-l.scroller.scrollLeft+s.doc.scrollLeft,h=l.gutters.offsetWidth,m=f+"px",_=0;_<d.length;_++)if(!d[_].hidden){s.options.fixedGutter&&(d[_].gutter&&(d[_].gutter.style.left=m),d[_].gutterBackground&&(d[_].gutterBackground.style.left=m));var x=d[_].alignable;if(x)for(var E=0;E<x.length;E++)x[E].style.left=m}s.options.fixedGutter&&(l.gutters.style.left=f+h+"px")}}function ax(s){if(!s.options.lineNumbers)return!1;var l=s.doc,d=wm(s.options,l.first+l.size-1),f=s.display;if(d.length!=f.lineNumChars){var h=f.measure.appendChild(O("div",[O("div",d)],"CodeMirror-linenumber CodeMirror-gutter-elt")),m=h.firstChild.offsetWidth,_=h.offsetWidth-m;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(m,f.lineGutter.offsetWidth-_)+1,f.lineNumWidth=f.lineNumInnerWidth+_,f.lineNumChars=f.lineNumInnerWidth?d.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",Xm(s.display),!0}return!1}function Zm(s,l){for(var d=[],f=!1,h=0;h<s.length;h++){var m=s[h],_=null;if(typeof m!="string"&&(_=m.style,m=m.className),m=="CodeMirror-linenumbers")if(l)f=!0;else continue;d.push({className:m,style:_})}return l&&!f&&d.push({className:"CodeMirror-linenumbers",style:null}),d}function lx(s){var l=s.gutters,d=s.gutterSpecs;G(l),s.lineGutter=null;for(var f=0;f<d.length;++f){var h=d[f],m=h.className,_=h.style,x=l.appendChild(O("div",null,"CodeMirror-gutter "+m));_&&(x.style.cssText=_),m=="CodeMirror-linenumbers"&&(s.lineGutter=x,x.style.width=(s.lineNumWidth||1)+"px")}l.style.display=d.length?"":"none",Xm(s)}function Hu(s){lx(s.display),Hn(s),ox(s)}function $L(s,l,d,f){var h=this;this.input=d,h.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),h.scrollbarFiller.setAttribute("cm-not-content","true"),h.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),h.gutterFiller.setAttribute("cm-not-content","true"),h.lineDiv=H("div",null,"CodeMirror-code"),h.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),h.cursorDiv=O("div",null,"CodeMirror-cursors"),h.measure=O("div",null,"CodeMirror-measure"),h.lineMeasure=O("div",null,"CodeMirror-measure"),h.lineSpace=H("div",[h.measure,h.lineMeasure,h.selectionDiv,h.cursorDiv,h.lineDiv],null,"position: relative; outline: none");var m=H("div",[h.lineSpace],"CodeMirror-lines");h.mover=O("div",[m],null,"position: relative"),h.sizer=O("div",[h.mover],"CodeMirror-sizer"),h.sizerWidth=null,h.heightForcer=O("div",null,null,"position: absolute; height: "+be+"px; width: 1px;"),h.gutters=O("div",null,"CodeMirror-gutters"),h.lineGutter=null,h.scroller=O("div",[h.sizer,h.heightForcer,h.gutters],"CodeMirror-scroll"),h.scroller.setAttribute("tabIndex","-1"),h.wrapper=O("div",[h.scrollbarFiller,h.gutterFiller,h.scroller],"CodeMirror"),v&&b>=105&&(h.wrapper.style.clipPath="inset(0px)"),h.wrapper.setAttribute("translate","no"),c&&p<8&&(h.gutters.style.zIndex=-1,h.scroller.style.paddingRight=0),!g&&!(r&&I)&&(h.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(h.wrapper):s(h.wrapper)),h.viewFrom=h.viewTo=l.first,h.reportedViewFrom=h.reportedViewTo=l.first,h.view=[],h.renderedView=null,h.externalMeasured=null,h.viewOffset=0,h.lastWrapHeight=h.lastWrapWidth=0,h.updateLineNumbers=null,h.nativeBarWidth=h.barHeight=h.barWidth=0,h.scrollbarsClipped=!1,h.lineNumWidth=h.lineNumInnerWidth=h.lineNumChars=null,h.alignWidgets=!1,h.cachedCharWidth=h.cachedTextHeight=h.cachedPaddingH=null,h.maxLine=null,h.maxLineLength=0,h.maxLineChanged=!1,h.wheelDX=h.wheelDY=h.wheelStartX=h.wheelStartY=null,h.shift=!1,h.selForContextMenu=null,h.activeTouch=null,h.gutterSpecs=Zm(f.gutters,f.lineNumbers),lx(h),d.init(h)}var Ed=0,rs=null;c?rs=-.53:r?rs=15:v?rs=-.7:T&&(rs=-1/3);function ux(s){var l=s.wheelDeltaX,d=s.wheelDeltaY;return l==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(l=s.detail),d==null&&s.detail&&s.axis==s.VERTICAL_AXIS?d=s.detail:d==null&&(d=s.wheelDelta),{x:l,y:d}}function jL(s){var l=ux(s);return l.x*=rs,l.y*=rs,l}function cx(s,l){v&&b==102&&(s.display.chromeScrollHack==null?s.display.sizer.style.pointerEvents="none":clearTimeout(s.display.chromeScrollHack),s.display.chromeScrollHack=setTimeout(function(){s.display.chromeScrollHack=null,s.display.sizer.style.pointerEvents=""},100));var d=ux(l),f=d.x,h=d.y,m=rs;l.deltaMode===0&&(f=l.deltaX,h=l.deltaY,m=1);var _=s.display,x=_.scroller,E=x.scrollWidth>x.clientWidth,M=x.scrollHeight>x.clientHeight;if(f&&E||h&&M){if(h&&L&&g){t:for(var N=l.target,P=_.view;N!=x;N=N.parentNode)for(var K=0;K<P.length;K++)if(P[K].node==N){s.display.currentWheelTarget=N;break t}}if(f&&!r&&!k&&m!=null){h&&M&&Pu(s,Math.max(0,x.scrollTop+h*m)),qo(s,Math.max(0,x.scrollLeft+f*m)),(!h||h&&M)&&Sn(l),_.wheelStartX=null;return}if(h&&m!=null){var Y=h*m,et=s.doc.scrollTop,it=et+_.wrapper.clientHeight;Y<0?et=Math.max(0,et+Y-50):it=Math.min(s.doc.height,it+Y+50),Gm(s,{top:et,bottom:it})}Ed<20&&l.deltaMode!==0&&(_.wheelStartX==null?(_.wheelStartX=x.scrollLeft,_.wheelStartY=x.scrollTop,_.wheelDX=f,_.wheelDY=h,setTimeout(function(){if(_.wheelStartX!=null){var ot=x.scrollLeft-_.wheelStartX,ut=x.scrollTop-_.wheelStartY,ft=ut&&_.wheelDY&&ut/_.wheelDY||ot&&_.wheelDX&&ot/_.wheelDX;_.wheelStartX=_.wheelStartY=null,ft&&(rs=(rs*Ed+ft)/(Ed+1),++Ed)}},200)):(_.wheelDX+=f,_.wheelDY+=h))}}var yi=function(s,l){this.ranges=s,this.primIndex=l};yi.prototype.primary=function(){return this.ranges[this.primIndex]},yi.prototype.equals=function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var d=this.ranges[l],f=s.ranges[l];if(!xm(d.anchor,f.anchor)||!xm(d.head,f.head))return!1}return!0},yi.prototype.deepCopy=function(){for(var s=[],l=0;l<this.ranges.length;l++)s[l]=new re(Sm(this.ranges[l].anchor),Sm(this.ranges[l].head));return new yi(s,this.primIndex)},yi.prototype.somethingSelected=function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},yi.prototype.contains=function(s,l){l||(l=s);for(var d=0;d<this.ranges.length;d++){var f=this.ranges[d];if(Ot(l,f.from())>=0&&Ot(s,f.to())<=0)return d}return-1};var re=function(s,l){this.anchor=s,this.head=l};re.prototype.from=function(){return ld(this.anchor,this.head)},re.prototype.to=function(){return ad(this.anchor,this.head)},re.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function nr(s,l,d){var f=s&&s.options.selectionsMayTouch,h=l[d];l.sort(function(K,Y){return Ot(K.from(),Y.from())}),d=jt(l,h);for(var m=1;m<l.length;m++){var _=l[m],x=l[m-1],E=Ot(x.to(),_.from());if(f&&!_.empty()?E>0:E>=0){var M=ld(x.from(),_.from()),N=ad(x.to(),_.to()),P=x.empty()?_.from()==_.head:x.from()==x.head;m<=d&&--d,l.splice(--m,2,new re(P?N:M,P?M:N))}}return new yi(l,d)}function Ys(s,l){return new yi([new re(s,l||s)],0)}function qs(s){return s.text?st(s.from.line+s.text.length-1,zt(s.text).length+(s.text.length==1?s.from.ch:0)):s.to}function fx(s,l){if(Ot(s,l.from)<0)return s;if(Ot(s,l.to)<=0)return qs(l);var d=s.line+l.text.length-(l.to.line-l.from.line)-1,f=s.ch;return s.line==l.to.line&&(f+=qs(l).ch-l.to.ch),st(d,f)}function Jm(s,l){for(var d=[],f=0;f<s.sel.ranges.length;f++){var h=s.sel.ranges[f];d.push(new re(fx(h.anchor,l),fx(h.head,l)))}return nr(s.cm,d,s.sel.primIndex)}function dx(s,l,d){return s.line==l.line?st(d.line,s.ch-l.ch+d.ch):st(d.line+(s.line-l.line),s.ch)}function YL(s,l,d){for(var f=[],h=st(s.first,0),m=h,_=0;_<l.length;_++){var x=l[_],E=dx(x.from,h,m),M=dx(qs(x),h,m);if(h=x.to,m=M,d=="around"){var N=s.sel.ranges[_],P=Ot(N.head,N.anchor)<0;f[_]=new re(P?M:E,P?E:M)}else f[_]=new re(E,E)}return new yi(f,s.sel.primIndex)}function ty(s){s.doc.mode=Eu(s.options,s.doc.modeOption),Wu(s)}function Wu(s){s.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),s.doc.modeFrontier=s.doc.highlightFrontier=s.doc.first,Uu(s,100),s.state.modeGen++,s.curOp&&Hn(s)}function hx(s,l){return l.from.ch==0&&l.to.ch==0&&zt(l.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function ey(s,l,d,f){function h(ft){return d?d[ft]:null}function m(ft,ct,ht){tL(ft,ct,ht,f),rn(ft,"change",ft,l)}function _(ft,ct){for(var ht=[],xt=ft;xt<ct;++xt)ht.push(new Fa(M[xt],h(xt),f));return ht}var x=l.from,E=l.to,M=l.text,N=yt(s,x.line),P=yt(s,E.line),K=zt(M),Y=h(M.length-1),et=E.line-x.line;if(l.full)s.insert(0,_(0,M.length)),s.remove(M.length,s.size-M.length);else if(hx(s,l)){var it=_(0,M.length-1);m(P,P.text,Y),et&&s.remove(x.line,et),it.length&&s.insert(x.line,it)}else if(N==P)if(M.length==1)m(N,N.text.slice(0,x.ch)+K+N.text.slice(E.ch),Y);else{var ot=_(1,M.length-1);ot.push(new Fa(K+N.text.slice(E.ch),Y,f)),m(N,N.text.slice(0,x.ch)+M[0],h(0)),s.insert(x.line+1,ot)}else if(M.length==1)m(N,N.text.slice(0,x.ch)+M[0]+P.text.slice(E.ch),h(0)),s.remove(x.line+1,et);else{m(N,N.text.slice(0,x.ch)+M[0],h(0)),m(P,K+P.text.slice(E.ch),Y);var ut=_(1,M.length-1);et>1&&s.remove(x.line+1,et-1),s.insert(x.line+1,ut)}rn(s,"change",s,l)}function Ks(s,l,d){function f(h,m,_){if(h.linked)for(var x=0;x<h.linked.length;++x){var E=h.linked[x];if(E.doc!=m){var M=_&&E.sharedHist;d&&!M||(l(E.doc,M),f(E.doc,h,M))}}}f(s,null,!0)}function px(s,l){if(l.cm)throw new Error("This document is already in use.");s.doc=l,l.cm=s,Hm(s),ty(s),gx(s),s.options.direction=l.direction,s.options.lineWrapping||Am(s),s.options.mode=l.modeOption,Hn(s)}function gx(s){(s.doc.direction=="rtl"?X:B)(s.display.lineDiv,"CodeMirror-rtl")}function qL(s){ei(s,function(){gx(s),Hn(s)})}function Cd(s){this.done=[],this.undone=[],this.undoDepth=s?s.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s?s.maxGeneration:1}function ny(s,l){var d={from:Sm(l.from),to:qs(l),text:xr(s,l.from,l.to)};return vx(s,d,l.from.line,l.to.line+1),Ks(s,function(f){return vx(f,d,l.from.line,l.to.line+1)},!0),d}function mx(s){for(;s.length;){var l=zt(s);if(l.ranges)s.pop();else break}}function KL(s,l){if(l)return mx(s.done),zt(s.done);if(s.done.length&&!zt(s.done).ranges)return zt(s.done);if(s.done.length>1&&!s.done[s.done.length-2].ranges)return s.done.pop(),zt(s.done)}function yx(s,l,d,f){var h=s.history;h.undone.length=0;var m=+new Date,_,x;if((h.lastOp==f||h.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&h.lastModTime>m-(s.cm?s.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*"))&&(_=KL(h,h.lastOp==f)))x=zt(_.changes),Ot(l.from,l.to)==0&&Ot(l.from,x.to)==0?x.to=qs(l):_.changes.push(ny(s,l));else{var E=zt(h.done);for((!E||!E.ranges)&&Td(s.sel,h.done),_={changes:[ny(s,l)],generation:h.generation},h.done.push(_);h.done.length>h.undoDepth;)h.done.shift(),h.done[0].ranges||h.done.shift()}h.done.push(d),h.generation=++h.maxGeneration,h.lastModTime=h.lastSelTime=m,h.lastOp=h.lastSelOp=f,h.lastOrigin=h.lastSelOrigin=l.origin,x||De(s,"historyAdded")}function GL(s,l,d,f){var h=l.charAt(0);return h=="*"||h=="+"&&d.ranges.length==f.ranges.length&&d.somethingSelected()==f.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function XL(s,l,d,f){var h=s.history,m=f&&f.origin;d==h.lastSelOp||m&&h.lastSelOrigin==m&&(h.lastModTime==h.lastSelTime&&h.lastOrigin==m||GL(s,m,zt(h.done),l))?h.done[h.done.length-1]=l:Td(l,h.done),h.lastSelTime=+new Date,h.lastSelOrigin=m,h.lastSelOp=d,f&&f.clearRedo!==!1&&mx(h.undone)}function Td(s,l){var d=zt(l);d&&d.ranges&&d.equals(s)||l.push(s)}function vx(s,l,d,f){var h=l["spans_"+s.id],m=0;s.iter(Math.max(s.first,d),Math.min(s.first+s.size,f),function(_){_.markedSpans&&((h||(h=l["spans_"+s.id]={}))[m]=_.markedSpans),++m})}function QL(s){if(!s)return null;for(var l,d=0;d<s.length;++d)s[d].marker.explicitlyCleared?l||(l=s.slice(0,d)):l&&l.push(s[d]);return l?l.length?l:null:s}function ZL(s,l){var d=l["spans_"+s.id];if(!d)return null;for(var f=[],h=0;h<l.text.length;++h)f.push(QL(d[h]));return f}function _x(s,l){var d=ZL(s,l),f=Cm(s,l);if(!d)return f;if(!f)return d;for(var h=0;h<d.length;++h){var m=d[h],_=f[h];if(m&&_)t:for(var x=0;x<_.length;++x){for(var E=_[x],M=0;M<m.length;++M)if(m[M].marker==E.marker)continue t;m.push(E)}else _&&(d[h]=_)}return d}function $a(s,l,d){for(var f=[],h=0;h<s.length;++h){var m=s[h];if(m.ranges){f.push(d?yi.prototype.deepCopy.call(m):m);continue}var _=m.changes,x=[];f.push({changes:x});for(var E=0;E<_.length;++E){var M=_[E],N=void 0;if(x.push({from:M.from,to:M.to,text:M.text}),l)for(var P in M)(N=P.match(/^spans_(\d+)$/))&&jt(l,Number(N[1]))>-1&&(zt(x)[P]=M[P],delete M[P])}}return f}function iy(s,l,d,f){if(f){var h=s.anchor;if(d){var m=Ot(l,h)<0;m!=Ot(d,h)<0?(h=l,l=d):m!=Ot(l,d)<0&&(l=d)}return new re(h,l)}else return new re(d||l,l)}function Md(s,l,d,f,h){h==null&&(h=s.cm&&(s.cm.display.shift||s.extend)),kn(s,new yi([iy(s.sel.primary(),l,d,h)],0),f)}function bx(s,l,d){for(var f=[],h=s.cm&&(s.cm.display.shift||s.extend),m=0;m<s.sel.ranges.length;m++)f[m]=iy(s.sel.ranges[m],l[m],null,h);var _=nr(s.cm,f,s.sel.primIndex);kn(s,_,d)}function ry(s,l,d,f){var h=s.sel.ranges.slice(0);h[l]=d,kn(s,nr(s.cm,h,s.sel.primIndex),f)}function wx(s,l,d,f){kn(s,Ys(l,d),f)}function JL(s,l,d){var f={ranges:l.ranges,update:function(h){this.ranges=[];for(var m=0;m<h.length;m++)this.ranges[m]=new re(Rt(s,h[m].anchor),Rt(s,h[m].head))},origin:d&&d.origin};return De(s,"beforeSelectionChange",s,f),s.cm&&De(s.cm,"beforeSelectionChange",s.cm,f),f.ranges!=l.ranges?nr(s.cm,f.ranges,f.ranges.length-1):l}function xx(s,l,d){var f=s.history.done,h=zt(f);h&&h.ranges?(f[f.length-1]=l,Id(s,l,d)):kn(s,l,d)}function kn(s,l,d){Id(s,l,d),XL(s,s.sel,s.cm?s.cm.curOp.id:NaN,d)}function Id(s,l,d){(ti(s,"beforeSelectionChange")||s.cm&&ti(s.cm,"beforeSelectionChange"))&&(l=JL(s,l,d));var f=d&&d.bias||(Ot(l.primary().head,s.sel.primary().head)<0?-1:1);Sx(s,Ex(s,l,f,!0)),!(d&&d.scroll===!1)&&s.cm&&s.cm.getOption("readOnly")!="nocursor"&&Wa(s.cm)}function Sx(s,l){l.equals(s.sel)||(s.sel=l,s.cm&&(s.cm.curOp.updateInput=1,s.cm.curOp.selectionChanged=!0,nd(s.cm)),rn(s,"cursorActivity",s))}function kx(s){Sx(s,Ex(s,s.sel,null,!1))}function Ex(s,l,d,f){for(var h,m=0;m<l.ranges.length;m++){var _=l.ranges[m],x=l.ranges.length==s.sel.ranges.length&&s.sel.ranges[m],E=Ad(s,_.anchor,x&&x.anchor,d,f),M=_.head==_.anchor?E:Ad(s,_.head,x&&x.head,d,f);(h||E!=_.anchor||M!=_.head)&&(h||(h=l.ranges.slice(0,m)),h[m]=new re(E,M))}return h?nr(s.cm,h,l.primIndex):l}function ja(s,l,d,f,h){var m=yt(s,l.line);if(m.markedSpans)for(var _=0;_<m.markedSpans.length;++_){var x=m.markedSpans[_],E=x.marker,M="selectLeft"in E?!E.selectLeft:E.inclusiveLeft,N="selectRight"in E?!E.selectRight:E.inclusiveRight;if((x.from==null||(M?x.from<=l.ch:x.from<l.ch))&&(x.to==null||(N?x.to>=l.ch:x.to>l.ch))){if(h&&(De(E,"beforeCursorEnter"),E.explicitlyCleared))if(m.markedSpans){--_;continue}else break;if(!E.atomic)continue;if(d){var P=E.find(f<0?1:-1),K=void 0;if((f<0?N:M)&&(P=Cx(s,P,-f,P&&P.line==l.line?m:null)),P&&P.line==l.line&&(K=Ot(P,d))&&(f<0?K<0:K>0))return ja(s,P,l,f,h)}var Y=E.find(f<0?-1:1);return(f<0?M:N)&&(Y=Cx(s,Y,f,Y.line==l.line?m:null)),Y?ja(s,Y,l,f,h):null}}return l}function Ad(s,l,d,f,h){var m=f||1,_=ja(s,l,d,m,h)||!h&&ja(s,l,d,m,!0)||ja(s,l,d,-m,h)||!h&&ja(s,l,d,-m,!0);return _||(s.cantEdit=!0,st(s.first,0))}function Cx(s,l,d,f){return d<0&&l.ch==0?l.line>s.first?Rt(s,st(l.line-1)):null:d>0&&l.ch==(f||yt(s,l.line)).text.length?l.line<s.first+s.size-1?st(l.line+1,0):null:new st(l.line,l.ch+d)}function Tx(s){s.setSelection(st(s.firstLine(),0),st(s.lastLine()),ne)}function Mx(s,l,d){var f={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return f.canceled=!0}};return d&&(f.update=function(h,m,_,x){h&&(f.from=Rt(s,h)),m&&(f.to=Rt(s,m)),_&&(f.text=_),x!==void 0&&(f.origin=x)}),De(s,"beforeChange",s,f),s.cm&&De(s.cm,"beforeChange",s.cm,f),f.canceled?(s.cm&&(s.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function Ya(s,l,d){if(s.cm){if(!s.cm.curOp)return sn(s.cm,Ya)(s,l,d);if(s.cm.state.suppressEdits)return}if(!((ti(s,"beforeChange")||s.cm&&ti(s.cm,"beforeChange"))&&(l=Mx(s,l,!0),!l))){var f=_w&&!d&&XD(s,l.from,l.to);if(f)for(var h=f.length-1;h>=0;--h)Ix(s,{from:f[h].from,to:f[h].to,text:h?[""]:l.text,origin:l.origin});else Ix(s,l)}}function Ix(s,l){if(!(l.text.length==1&&l.text[0]==""&&Ot(l.from,l.to)==0)){var d=Jm(s,l);yx(s,l,d,s.cm?s.cm.curOp.id:NaN),Vu(s,l,d,Cm(s,l));var f=[];Ks(s,function(h,m){!m&&jt(f,h.history)==-1&&(Nx(h.history,l),f.push(h.history)),Vu(h,l,null,Cm(h,l))})}}function Dd(s,l,d){var f=s.cm&&s.cm.state.suppressEdits;if(!(f&&!d)){for(var h=s.history,m,_=s.sel,x=l=="undo"?h.done:h.undone,E=l=="undo"?h.undone:h.done,M=0;M<x.length&&(m=x[M],!(d?m.ranges&&!m.equals(s.sel):!m.ranges));M++);if(M!=x.length){for(h.lastOrigin=h.lastSelOrigin=null;;)if(m=x.pop(),m.ranges){if(Td(m,E),d&&!m.equals(s.sel)){kn(s,m,{clearRedo:!1});return}_=m}else if(f){x.push(m);return}else break;var N=[];Td(_,E),E.push({changes:N,generation:h.generation}),h.generation=m.generation||++h.maxGeneration;for(var P=ti(s,"beforeChange")||s.cm&&ti(s.cm,"beforeChange"),K=function(it){var ot=m.changes[it];if(ot.origin=l,P&&!Mx(s,ot,!1))return x.length=0,{};N.push(ny(s,ot));var ut=it?Jm(s,ot):zt(x);Vu(s,ot,ut,_x(s,ot)),!it&&s.cm&&s.cm.scrollIntoView({from:ot.from,to:qs(ot)});var ft=[];Ks(s,function(ct,ht){!ht&&jt(ft,ct.history)==-1&&(Nx(ct.history,ot),ft.push(ct.history)),Vu(ct,ot,null,_x(ct,ot))})},Y=m.changes.length-1;Y>=0;--Y){var et=K(Y);if(et)return et.v}}}}function Ax(s,l){if(l!=0&&(s.first+=l,s.sel=new yi(wr(s.sel.ranges,function(h){return new re(st(h.anchor.line+l,h.anchor.ch),st(h.head.line+l,h.head.ch))}),s.sel.primIndex),s.cm)){Hn(s.cm,s.first,s.first-l,l);for(var d=s.cm.display,f=d.viewFrom;f<d.viewTo;f++)$s(s.cm,f,"gutter")}}function Vu(s,l,d,f){if(s.cm&&!s.cm.curOp)return sn(s.cm,Vu)(s,l,d,f);if(l.to.line<s.first){Ax(s,l.text.length-1-(l.to.line-l.from.line));return}if(!(l.from.line>s.lastLine())){if(l.from.line<s.first){var h=l.text.length-1-(s.first-l.from.line);Ax(s,h),l={from:st(s.first,0),to:st(l.to.line+h,l.to.ch),text:[zt(l.text)],origin:l.origin}}var m=s.lastLine();l.to.line>m&&(l={from:l.from,to:st(m,yt(s,m).text.length),text:[l.text[0]],origin:l.origin}),l.removed=xr(s,l.from,l.to),d||(d=Jm(s,l)),s.cm?tN(s.cm,l,f):ey(s,l,f),Id(s,d,ne),s.cantEdit&&Ad(s,st(s.firstLine(),0))&&(s.cantEdit=!1)}}function tN(s,l,d){var f=s.doc,h=s.display,m=l.from,_=l.to,x=!1,E=m.line;s.options.lineWrapping||(E=ie(tr(yt(f,m.line))),f.iter(E,_.line+1,function(Y){if(Y==h.maxLine)return x=!0,!0})),f.sel.contains(l.from,l.to)>-1&&nd(s),ey(f,l,d,Gw(s)),s.options.lineWrapping||(f.iter(E,m.line+l.text.length,function(Y){var et=pd(Y);et>h.maxLineLength&&(h.maxLine=Y,h.maxLineLength=et,h.maxLineChanged=!0,x=!1)}),x&&(s.curOp.updateMaxLine=!0)),VD(f,m.line),Uu(s,400);var M=l.text.length-(_.line-m.line)-1;l.full?Hn(s):m.line==_.line&&l.text.length==1&&!hx(s.doc,l)?$s(s,m.line,"text"):Hn(s,m.line,_.line+1,M);var N=ti(s,"changes"),P=ti(s,"change");if(P||N){var K={from:m,to:_,text:l.text,removed:l.removed,origin:l.origin};P&&rn(s,"change",s,K),N&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(K)}s.display.selForContextMenu=null}function qa(s,l,d,f,h){var m;f||(f=d),Ot(f,d)<0&&(m=[f,d],d=m[0],f=m[1]),typeof l=="string"&&(l=s.splitLines(l)),Ya(s,{from:d,to:f,text:l,origin:h})}function Dx(s,l,d,f){d<s.line?s.line+=f:l<s.line&&(s.line=l,s.ch=0)}function Lx(s,l,d,f){for(var h=0;h<s.length;++h){var m=s[h],_=!0;if(m.ranges){m.copied||(m=s[h]=m.deepCopy(),m.copied=!0);for(var x=0;x<m.ranges.length;x++)Dx(m.ranges[x].anchor,l,d,f),Dx(m.ranges[x].head,l,d,f);continue}for(var E=0;E<m.changes.length;++E){var M=m.changes[E];if(d<M.from.line)M.from=st(M.from.line+f,M.from.ch),M.to=st(M.to.line+f,M.to.ch);else if(l<=M.to.line){_=!1;break}}_||(s.splice(0,h+1),h=0)}}function Nx(s,l){var d=l.from.line,f=l.to.line,h=l.text.length-(f-d)-1;Lx(s.done,d,f,h),Lx(s.undone,d,f,h)}function $u(s,l,d,f){var h=l,m=l;return typeof l=="number"?m=yt(s,cw(s,l)):h=ie(l),h==null?null:(f(m,h)&&s.cm&&$s(s.cm,h,d),m)}function ju(s){this.lines=s,this.parent=null;for(var l=0,d=0;d<s.length;++d)s[d].parent=this,l+=s[d].height;this.height=l}ju.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,l){for(var d=s,f=s+l;d<f;++d){var h=this.lines[d];this.height-=h.height,eL(h),rn(h,"delete")}this.lines.splice(s,l)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,l,d){this.height+=d,this.lines=this.lines.slice(0,s).concat(l).concat(this.lines.slice(s));for(var f=0;f<l.length;++f)l[f].parent=this},iterN:function(s,l,d){for(var f=s+l;s<f;++s)if(d(this.lines[s]))return!0}};function Yu(s){this.children=s;for(var l=0,d=0,f=0;f<s.length;++f){var h=s[f];l+=h.chunkSize(),d+=h.height,h.parent=this}this.size=l,this.height=d,this.parent=null}Yu.prototype={chunkSize:function(){return this.size},removeInner:function(s,l){this.size-=l;for(var d=0;d<this.children.length;++d){var f=this.children[d],h=f.chunkSize();if(s<h){var m=Math.min(l,h-s),_=f.height;if(f.removeInner(s,m),this.height-=_-f.height,h==m&&(this.children.splice(d--,1),f.parent=null),(l-=m)==0)break;s=0}else s-=h}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof ju))){var x=[];this.collapse(x),this.children=[new ju(x)],this.children[0].parent=this}},collapse:function(s){for(var l=0;l<this.children.length;++l)this.children[l].collapse(s)},insertInner:function(s,l,d){this.size+=l.length,this.height+=d;for(var f=0;f<this.children.length;++f){var h=this.children[f],m=h.chunkSize();if(s<=m){if(h.insertInner(s,l,d),h.lines&&h.lines.length>50){for(var _=h.lines.length%25+25,x=_;x<h.lines.length;){var E=new ju(h.lines.slice(x,x+=25));h.height-=E.height,this.children.splice(++f,0,E),E.parent=this}h.lines=h.lines.slice(0,_),this.maybeSpill()}break}s-=m}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var l=s.children.splice(s.children.length-5,5),d=new Yu(l);if(s.parent){s.size-=d.size,s.height-=d.height;var h=jt(s.parent.children,s);s.parent.children.splice(h+1,0,d)}else{var f=new Yu(s.children);f.parent=s,s.children=[f,d],s=f}d.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,l,d){for(var f=0;f<this.children.length;++f){var h=this.children[f],m=h.chunkSize();if(s<m){var _=Math.min(l,m-s);if(h.iterN(s,_,d))return!0;if((l-=_)==0)break;s=0}else s-=m}}};var qu=function(s,l,d){if(d)for(var f in d)d.hasOwnProperty(f)&&(this[f]=d[f]);this.doc=s,this.node=l};qu.prototype.clear=function(){var s=this.doc.cm,l=this.line.widgets,d=this.line,f=ie(d);if(!(f==null||!l)){for(var h=0;h<l.length;++h)l[h]==this&&l.splice(h--,1);l.length||(d.widgets=null);var m=Nu(this);Di(d,Math.max(0,d.height-m)),s&&(ei(s,function(){Ox(s,d,-m),$s(s,f,"widget")}),rn(s,"lineWidgetCleared",s,this,f))}},qu.prototype.changed=function(){var s=this,l=this.height,d=this.doc.cm,f=this.line;this.height=null;var h=Nu(this)-l;h&&(Vs(this.doc,f)||Di(f,f.height+h),d&&ei(d,function(){d.curOp.forceUpdate=!0,Ox(d,f,h),rn(d,"lineWidgetChanged",d,s,ie(f))}))},Hs(qu);function Ox(s,l,d){ns(l)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&qm(s,d)}function eN(s,l,d,f){var h=new qu(s,d,f),m=s.cm;return m&&h.noHScroll&&(m.display.alignWidgets=!0),$u(s,l,"widget",function(_){var x=_.widgets||(_.widgets=[]);if(h.insertAt==null?x.push(h):x.splice(Math.min(x.length,Math.max(0,h.insertAt)),0,h),h.line=_,m&&!Vs(s,_)){var E=ns(_)<s.scrollTop;Di(_,_.height+Nu(h)),E&&qm(m,h.height),m.curOp.forceUpdate=!0}return!0}),m&&rn(m,"lineWidgetAdded",m,h,typeof l=="number"?l:ie(l)),h}var Rx=0,Gs=function(s,l){this.lines=[],this.type=l,this.doc=s,this.id=++Rx};Gs.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,l=s&&!s.curOp;if(l&&Go(s),ti(this,"clear")){var d=this.find();d&&rn(this,"clear",d.from,d.to)}for(var f=null,h=null,m=0;m<this.lines.length;++m){var _=this.lines[m],x=Au(_.markedSpans,this);s&&!this.collapsed?$s(s,ie(_),"text"):s&&(x.to!=null&&(h=ie(_)),x.from!=null&&(f=ie(_))),_.markedSpans=YD(_.markedSpans,x),x.from==null&&this.collapsed&&!Vs(this.doc,_)&&s&&Di(_,za(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var E=0;E<this.lines.length;++E){var M=tr(this.lines[E]),N=pd(M);N>s.display.maxLineLength&&(s.display.maxLine=M,s.display.maxLineLength=N,s.display.maxLineChanged=!0)}f!=null&&s&&this.collapsed&&Hn(s,f,h+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&kx(s.doc)),s&&rn(s,"markerCleared",s,this,f,h),l&&Xo(s),this.parent&&this.parent.clear()}},Gs.prototype.find=function(s,l){s==null&&this.type=="bookmark"&&(s=1);for(var d,f,h=0;h<this.lines.length;++h){var m=this.lines[h],_=Au(m.markedSpans,this);if(_.from!=null&&(d=st(l?m:ie(m),_.from),s==-1))return d;if(_.to!=null&&(f=st(l?m:ie(m),_.to),s==1))return f}return d&&{from:d,to:f}},Gs.prototype.changed=function(){var s=this,l=this.find(-1,!0),d=this,f=this.doc.cm;!l||!f||ei(f,function(){var h=l.line,m=ie(l.line),_=Om(f,m);if(_&&(Hw(_),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!Vs(d.doc,h)&&d.height!=null){var x=d.height;d.height=null;var E=Nu(d)-x;E&&Di(h,h.height+E)}rn(f,"markerChanged",f,s)})},Gs.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||jt(l.maybeHiddenMarkers,this)==-1)&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},Gs.prototype.detachLine=function(s){if(this.lines.splice(jt(this.lines,s),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},Hs(Gs);function Ka(s,l,d,f,h){if(f&&f.shared)return nN(s,l,d,f,h);if(s.cm&&!s.cm.curOp)return sn(s.cm,Ka)(s,l,d,f,h);var m=new Gs(s,h),_=Ot(l,d);if(f&&$t(f,m,!1),_>0||_==0&&m.clearWhenEmpty!==!1)return m;if(m.replacedWith&&(m.collapsed=!0,m.widgetNode=H("span",[m.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||m.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(m.widgetNode.insertLeft=!0)),m.collapsed){if(Ew(s,l.line,l,d,m)||l.line!=d.line&&Ew(s,d.line,l,d,m))throw new Error("Inserting collapsed marker partially overlapping an existing one");jD()}m.addToHistory&&yx(s,{from:l,to:d,origin:"markText"},s.sel,NaN);var x=l.line,E=s.cm,M;if(s.iter(x,d.line+1,function(P){E&&m.collapsed&&!E.options.lineWrapping&&tr(P)==E.display.maxLine&&(M=!0),m.collapsed&&x!=l.line&&Di(P,0),qD(P,new cd(m,x==l.line?l.ch:null,x==d.line?d.ch:null),s.cm&&s.cm.curOp),++x}),m.collapsed&&s.iter(l.line,d.line+1,function(P){Vs(s,P)&&Di(P,0)}),m.clearOnEnter&&wt(m,"beforeCursorEnter",function(){return m.clear()}),m.readOnly&&($D(),(s.history.done.length||s.history.undone.length)&&s.clearHistory()),m.collapsed&&(m.id=++Rx,m.atomic=!0),E){if(M&&(E.curOp.updateMaxLine=!0),m.collapsed)Hn(E,l.line,d.line+1);else if(m.className||m.startStyle||m.endStyle||m.css||m.attributes||m.title)for(var N=l.line;N<=d.line;N++)$s(E,N,"text");m.atomic&&kx(E.doc),rn(E,"markerAdded",E,m)}return m}var Ku=function(s,l){this.markers=s,this.primary=l;for(var d=0;d<s.length;++d)s[d].parent=this};Ku.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();rn(this,"clear")}},Ku.prototype.find=function(s,l){return this.primary.find(s,l)},Hs(Ku);function nN(s,l,d,f,h){f=$t(f),f.shared=!1;var m=[Ka(s,l,d,f,h)],_=m[0],x=f.widgetNode;return Ks(s,function(E){x&&(f.widgetNode=x.cloneNode(!0)),m.push(Ka(E,Rt(E,l),Rt(E,d),f,h));for(var M=0;M<E.linked.length;++M)if(E.linked[M].isParent)return;_=zt(m)}),new Ku(m,_)}function Fx(s){return s.findMarks(st(s.first,0),s.clipPos(st(s.lastLine())),function(l){return l.parent})}function iN(s,l){for(var d=0;d<l.length;d++){var f=l[d],h=f.find(),m=s.clipPos(h.from),_=s.clipPos(h.to);if(Ot(m,_)){var x=Ka(s,m,_,f.primary,f.primary.type);f.markers.push(x),x.parent=f}}}function rN(s){for(var l=function(f){var h=s[f],m=[h.primary.doc];Ks(h.primary.doc,function(E){return m.push(E)});for(var _=0;_<h.markers.length;_++){var x=h.markers[_];jt(m,x.doc)==-1&&(x.parent=null,h.markers.splice(_--,1))}},d=0;d<s.length;d++)l(d)}var sN=0,Wn=function(s,l,d,f,h){if(!(this instanceof Wn))return new Wn(s,l,d,f,h);d==null&&(d=0),Yu.call(this,[new ju([new Fa("",null)])]),this.first=d,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=d;var m=st(d,0);this.sel=Ys(m),this.history=new Cd(null),this.id=++sN,this.modeOption=l,this.lineSep=f,this.direction=h=="rtl"?"rtl":"ltr",this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),ey(this,{from:m,to:m,text:s}),kn(this,Ys(m),ne)};Wn.prototype=Ii(Yu.prototype,{constructor:Wn,iter:function(s,l,d){d?this.iterN(s-this.first,l-s,d):this.iterN(this.first,this.first+this.size,s)},insert:function(s,l){for(var d=0,f=0;f<l.length;++f)d+=l[f].height;this.insertInner(s-this.first,l,d)},remove:function(s,l){this.removeInner(s-this.first,l)},getValue:function(s){var l=Tu(this,this.first,this.first+this.size);return s===!1?l:l.join(s||this.lineSeparator())},setValue:on(function(s){var l=st(this.first,0),d=this.first+this.size-1;Ya(this,{from:l,to:st(d,yt(this,d).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),this.cm&&Fu(this.cm,0,0),kn(this,Ys(l),ne)}),replaceRange:function(s,l,d,f){l=Rt(this,l),d=d?Rt(this,d):l,qa(this,s,l,d,f)},getRange:function(s,l,d){var f=xr(this,Rt(this,s),Rt(this,l));return d===!1?f:d===""?f.join(""):f.join(d||this.lineSeparator())},getLine:function(s){var l=this.getLineHandle(s);return l&&l.text},getLineHandle:function(s){if(Mu(this,s))return yt(this,s)},getLineNumber:function(s){return ie(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=yt(this,s)),tr(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return Rt(this,s)},getCursor:function(s){var l=this.sel.primary(),d;return s==null||s=="head"?d=l.head:s=="anchor"?d=l.anchor:s=="end"||s=="to"||s===!1?d=l.to():d=l.from(),d},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:on(function(s,l,d){wx(this,Rt(this,typeof s=="number"?st(s,l||0):s),null,d)}),setSelection:on(function(s,l,d){wx(this,Rt(this,s),Rt(this,l||s),d)}),extendSelection:on(function(s,l,d){Md(this,Rt(this,s),l&&Rt(this,l),d)}),extendSelections:on(function(s,l){bx(this,fw(this,s),l)}),extendSelectionsBy:on(function(s,l){var d=wr(this.sel.ranges,s);bx(this,fw(this,d),l)}),setSelections:on(function(s,l,d){if(s.length){for(var f=[],h=0;h<s.length;h++)f[h]=new re(Rt(this,s[h].anchor),Rt(this,s[h].head||s[h].anchor));l==null&&(l=Math.min(s.length-1,this.sel.primIndex)),kn(this,nr(this.cm,f,l),d)}}),addSelection:on(function(s,l,d){var f=this.sel.ranges.slice(0);f.push(new re(Rt(this,s),Rt(this,l||s))),kn(this,nr(this.cm,f,f.length-1),d)}),getSelection:function(s){for(var l=this.sel.ranges,d,f=0;f<l.length;f++){var h=xr(this,l[f].from(),l[f].to());d=d?d.concat(h):h}return s===!1?d:d.join(s||this.lineSeparator())},getSelections:function(s){for(var l=[],d=this.sel.ranges,f=0;f<d.length;f++){var h=xr(this,d[f].from(),d[f].to());s!==!1&&(h=h.join(s||this.lineSeparator())),l[f]=h}return l},replaceSelection:function(s,l,d){for(var f=[],h=0;h<this.sel.ranges.length;h++)f[h]=s;this.replaceSelections(f,l,d||"+input")},replaceSelections:on(function(s,l,d){for(var f=[],h=this.sel,m=0;m<h.ranges.length;m++){var _=h.ranges[m];f[m]={from:_.from(),to:_.to(),text:this.splitLines(s[m]),origin:d}}for(var x=l&&l!="end"&&YL(this,f,l),E=f.length-1;E>=0;E--)Ya(this,f[E]);x?xx(this,x):this.cm&&Wa(this.cm)}),undo:on(function(){Dd(this,"undo")}),redo:on(function(){Dd(this,"redo")}),undoSelection:on(function(){Dd(this,"undo",!0)}),redoSelection:on(function(){Dd(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,l=0,d=0,f=0;f<s.done.length;f++)s.done[f].ranges||++l;for(var h=0;h<s.undone.length;h++)s.undone[h].ranges||++d;return{undo:l,redo:d}},clearHistory:function(){var s=this;this.history=new Cd(this.history),Ks(this,function(l){return l.history=s.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:$a(this.history.done),undone:$a(this.history.undone)}},setHistory:function(s){var l=this.history=new Cd(this.history);l.done=$a(s.done.slice(0),null,!0),l.undone=$a(s.undone.slice(0),null,!0)},setGutterMarker:on(function(s,l,d){return $u(this,s,"gutter",function(f){var h=f.gutterMarkers||(f.gutterMarkers={});return h[l]=d,!d&&Gr(h)&&(f.gutterMarkers=null),!0})}),clearGutter:on(function(s){var l=this;this.iter(function(d){d.gutterMarkers&&d.gutterMarkers[s]&&$u(l,d,"gutter",function(){return d.gutterMarkers[s]=null,Gr(d.gutterMarkers)&&(d.gutterMarkers=null),!0})})}),lineInfo:function(s){var l;if(typeof s=="number"){if(!Mu(this,s)||(l=s,s=yt(this,s),!s))return null}else if(l=ie(s),l==null)return null;return{line:l,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},addLineClass:on(function(s,l,d){return $u(this,s,l=="gutter"?"gutter":"class",function(f){var h=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(!f[h])f[h]=d;else{if($(d).test(f[h]))return!1;f[h]+=" "+d}return!0})}),removeLineClass:on(function(s,l,d){return $u(this,s,l=="gutter"?"gutter":"class",function(f){var h=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",m=f[h];if(m)if(d==null)f[h]=null;else{var _=m.match($(d));if(!_)return!1;var x=_.index+_[0].length;f[h]=m.slice(0,_.index)+(!_.index||x==m.length?"":" ")+m.slice(x)||null}else return!1;return!0})}),addLineWidget:on(function(s,l,d){return eN(this,s,l,d)}),removeLineWidget:function(s){s.clear()},markText:function(s,l,d){return Ka(this,Rt(this,s),Rt(this,l),d,d&&d.type||"range")},setBookmark:function(s,l){var d={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return s=Rt(this,s),Ka(this,s,s,d,"bookmark")},findMarksAt:function(s){s=Rt(this,s);var l=[],d=yt(this,s.line).markedSpans;if(d)for(var f=0;f<d.length;++f){var h=d[f];(h.from==null||h.from<=s.ch)&&(h.to==null||h.to>=s.ch)&&l.push(h.marker.parent||h.marker)}return l},findMarks:function(s,l,d){s=Rt(this,s),l=Rt(this,l);var f=[],h=s.line;return this.iter(s.line,l.line+1,function(m){var _=m.markedSpans;if(_)for(var x=0;x<_.length;x++){var E=_[x];!(E.to!=null&&h==s.line&&s.ch>=E.to||E.from==null&&h!=s.line||E.from!=null&&h==l.line&&E.from>=l.ch)&&(!d||d(E.marker))&&f.push(E.marker.parent||E.marker)}++h}),f},getAllMarks:function(){var s=[];return this.iter(function(l){var d=l.markedSpans;if(d)for(var f=0;f<d.length;++f)d[f].from!=null&&s.push(d[f].marker)}),s},posFromIndex:function(s){var l,d=this.first,f=this.lineSeparator().length;return this.iter(function(h){var m=h.text.length+f;if(m>s)return l=s,!0;s-=m,++d}),Rt(this,st(d,l))},indexFromPos:function(s){s=Rt(this,s);var l=s.ch;if(s.line<this.first||s.ch<0)return 0;var d=this.lineSeparator().length;return this.iter(this.first,s.line,function(f){l+=f.text.length+d}),l},copy:function(s){var l=new Wn(Tu(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,s&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(s){s||(s={});var l=this.first,d=this.first+this.size;s.from!=null&&s.from>l&&(l=s.from),s.to!=null&&s.to<d&&(d=s.to);var f=new Wn(Tu(this,l,d),s.mode||this.modeOption,l,this.lineSep,this.direction);return s.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:s.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],iN(f,Fx(this)),f},unlinkDoc:function(s){if(s instanceof Te&&(s=s.doc),this.linked)for(var l=0;l<this.linked.length;++l){var d=this.linked[l];if(d.doc==s){this.linked.splice(l,1),s.unlinkDoc(this),rN(Fx(this));break}}if(s.history==this.history){var f=[s.id];Ks(s,function(h){return f.push(h.id)},!0),s.history=new Cd(null),s.history.done=$a(this.history.done,f),s.history.undone=$a(this.history.undone,f)}},iterLinkedDocs:function(s){Ks(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):xu(s)},lineSeparator:function(){return this.lineSep||`
`},setDirection:on(function(s){s!="rtl"&&(s="ltr"),s!=this.direction&&(this.direction=s,this.iter(function(l){return l.order=null}),this.cm&&qL(this.cm))})}),Wn.prototype.eachLine=Wn.prototype.iter;var Px=0;function oN(s){var l=this;if(Bx(l),!(ve(l,s)||is(l.display,s))){Sn(s),c&&(Px=+new Date);var d=jo(l,s,!0),f=s.dataTransfer.files;if(!(!d||l.isReadOnly()))if(f&&f.length&&window.FileReader&&window.File)for(var h=f.length,m=Array(h),_=0,x=function(){++_==h&&sn(l,function(){d=Rt(l.doc,d);var Y={from:d,to:d,text:l.doc.splitLines(m.filter(function(et){return et!=null}).join(l.doc.lineSeparator())),origin:"paste"};Ya(l.doc,Y),xx(l.doc,Ys(Rt(l.doc,d),Rt(l.doc,qs(Y))))})()},E=function(Y,et){if(l.options.allowDropFileTypes&&jt(l.options.allowDropFileTypes,Y.type)==-1){x();return}var it=new FileReader;it.onerror=function(){return x()},it.onload=function(){var ot=it.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ot)){x();return}m[et]=ot,x()},it.readAsText(Y)},M=0;M<f.length;M++)E(f[M],M);else{if(l.state.draggingText&&l.doc.sel.contains(d)>-1){l.state.draggingText(s),setTimeout(function(){return l.display.input.focus()},20);return}try{var N=s.dataTransfer.getData("Text");if(N){var P;if(l.state.draggingText&&!l.state.draggingText.copy&&(P=l.listSelections()),Id(l.doc,Ys(d,d)),P)for(var K=0;K<P.length;++K)qa(l.doc,"",P[K].anchor,P[K].head,"drag");l.replaceSelection(N,"around","paste"),l.display.input.focus()}}catch{}}}}function aN(s,l){if(c&&(!s.state.draggingText||+new Date-Px<100)){Wo(l);return}if(!(ve(s,l)||is(s.display,l))&&(l.dataTransfer.setData("Text",s.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!T)){var d=O("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",k&&(d.width=d.height=1,s.display.wrapper.appendChild(d),d._top=d.offsetTop),l.dataTransfer.setDragImage(d,0,0),k&&d.parentNode.removeChild(d)}}function lN(s,l){var d=jo(s,l);if(d){var f=document.createDocumentFragment();Wm(s,d,f),s.display.dragCursor||(s.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),A(s.display.dragCursor,f)}}function Bx(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function zx(s){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),d=[],f=0;f<l.length;f++){var h=l[f].CodeMirror;h&&d.push(h)}d.length&&d[0].operation(function(){for(var m=0;m<d.length;m++)s(d[m])})}}var Ux=!1;function uN(){Ux||(cN(),Ux=!0)}function cN(){var s;wt(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,zx(fN)},100))}),wt(window,"blur",function(){return zx(Ha)})}function fN(s){var l=s.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,s.setSize()}for(var Xs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Gu=0;Gu<10;Gu++)Xs[Gu+48]=Xs[Gu+96]=String(Gu);for(var Ld=65;Ld<=90;Ld++)Xs[Ld]=String.fromCharCode(Ld);for(var Xu=1;Xu<=12;Xu++)Xs[Xu+111]=Xs[Xu+63235]="F"+Xu;var ss={};ss.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ss.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ss.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ss.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ss.default=L?ss.macDefault:ss.pcDefault;function dN(s){var l=s.split(/-(?!$)/);s=l[l.length-1];for(var d,f,h,m,_=0;_<l.length-1;_++){var x=l[_];if(/^(cmd|meta|m)$/i.test(x))m=!0;else if(/^a(lt)?$/i.test(x))d=!0;else if(/^(c|ctrl|control)$/i.test(x))f=!0;else if(/^s(hift)?$/i.test(x))h=!0;else throw new Error("Unrecognized modifier name: "+x)}return d&&(s="Alt-"+s),f&&(s="Ctrl-"+s),m&&(s="Cmd-"+s),h&&(s="Shift-"+s),s}function hN(s){var l={};for(var d in s)if(s.hasOwnProperty(d)){var f=s[d];if(/^(name|fallthrough|(de|at)tach)$/.test(d))continue;if(f=="..."){delete s[d];continue}for(var h=wr(d.split(" "),dN),m=0;m<h.length;m++){var _=void 0,x=void 0;m==h.length-1?(x=h.join(" "),_=f):(x=h.slice(0,m+1).join(" "),_="...");var E=l[x];if(!E)l[x]=_;else if(E!=_)throw new Error("Inconsistent bindings for "+x)}delete s[d]}for(var M in l)s[M]=l[M];return s}function Ga(s,l,d,f){l=Nd(l);var h=l.call?l.call(s,f):l[s];if(h===!1)return"nothing";if(h==="...")return"multi";if(h!=null&&d(h))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return Ga(s,l.fallthrough,d,f);for(var m=0;m<l.fallthrough.length;m++){var _=Ga(s,l.fallthrough[m],d,f);if(_)return _}}}function Hx(s){var l=typeof s=="string"?s:Xs[s.keyCode];return l=="Ctrl"||l=="Alt"||l=="Shift"||l=="Mod"}function Wx(s,l,d){var f=s;return l.altKey&&f!="Alt"&&(s="Alt-"+s),(j?l.metaKey:l.ctrlKey)&&f!="Ctrl"&&(s="Ctrl-"+s),(j?l.ctrlKey:l.metaKey)&&f!="Mod"&&(s="Cmd-"+s),!d&&l.shiftKey&&f!="Shift"&&(s="Shift-"+s),s}function Vx(s,l){if(k&&s.keyCode==34&&s.char)return!1;var d=Xs[s.keyCode];return d==null||s.altGraphKey?!1:(s.keyCode==3&&s.code&&(d=s.code),Wx(d,s,l))}function Nd(s){return typeof s=="string"?ss[s]:s}function Xa(s,l){for(var d=s.doc.sel.ranges,f=[],h=0;h<d.length;h++){for(var m=l(d[h]);f.length&&Ot(m.from,zt(f).to)<=0;){var _=f.pop();if(Ot(_.from,m.from)<0){m.from=_.from;break}}f.push(m)}ei(s,function(){for(var x=f.length-1;x>=0;x--)qa(s.doc,"",f[x].from,f[x].to,"+delete");Wa(s)})}function sy(s,l,d){var f=nn(s.text,l+d,d);return f<0||f>s.text.length?null:f}function oy(s,l,d){var f=sy(s,l.ch,d);return f==null?null:new st(l.line,f,d<0?"after":"before")}function ay(s,l,d,f,h){if(s){l.doc.direction=="rtl"&&(h=-h);var m=Je(d,l.doc.direction);if(m){var _=h<0?zt(m):m[0],x=h<0==(_.level==1),E=x?"after":"before",M;if(_.level>0||l.doc.direction=="rtl"){var N=Ba(l,d);M=h<0?d.text.length-1:0;var P=Er(l,N,M).top;M=wn(function(K){return Er(l,N,K).top==P},h<0==(_.level==1)?_.from:_.to-1,M),E=="before"&&(M=sy(d,M,1))}else M=h<0?_.to:_.from;return new st(f,M,E)}}return new st(f,h<0?d.text.length:0,h<0?"before":"after")}function pN(s,l,d,f){var h=Je(l,s.doc.direction);if(!h)return oy(l,d,f);d.ch>=l.text.length?(d.ch=l.text.length,d.sticky="before"):d.ch<=0&&(d.ch=0,d.sticky="after");var m=mi(h,d.ch,d.sticky),_=h[m];if(s.doc.direction=="ltr"&&_.level%2==0&&(f>0?_.to>d.ch:_.from<d.ch))return oy(l,d,f);var x=function(ut,ft){return sy(l,ut instanceof st?ut.ch:ut,ft)},E,M=function(ut){return s.options.lineWrapping?(E=E||Ba(s,l),Kw(s,l,E,ut)):{begin:0,end:l.text.length}},N=M(d.sticky=="before"?x(d,-1):d.ch);if(s.doc.direction=="rtl"||_.level==1){var P=_.level==1==f<0,K=x(d,P?1:-1);if(K!=null&&(P?K<=_.to&&K<=N.end:K>=_.from&&K>=N.begin)){var Y=P?"before":"after";return new st(d.line,K,Y)}}var et=function(ut,ft,ct){for(var ht=function(me,an){return an?new st(d.line,x(me,1),"before"):new st(d.line,me,"after")};ut>=0&&ut<h.length;ut+=ft){var xt=h[ut],vt=ft>0==(xt.level!=1),Ht=vt?ct.begin:x(ct.end,-1);if(xt.from<=Ht&&Ht<xt.to||(Ht=vt?xt.from:x(xt.to,-1),ct.begin<=Ht&&Ht<ct.end))return ht(Ht,vt)}},it=et(m+f,f,N);if(it)return it;var ot=f>0?N.end:x(N.begin,-1);return ot!=null&&!(f>0&&ot==l.text.length)&&(it=et(f>0?0:h.length-1,f,M(ot)),it)?it:null}var Qu={selectAll:Tx,singleSelection:function(s){return s.setSelection(s.getCursor("anchor"),s.getCursor("head"),ne)},killLine:function(s){return Xa(s,function(l){if(l.empty()){var d=yt(s.doc,l.head.line).text.length;return l.head.ch==d&&l.head.line<s.lastLine()?{from:l.head,to:st(l.head.line+1,0)}:{from:l.head,to:st(l.head.line,d)}}else return{from:l.from(),to:l.to()}})},deleteLine:function(s){return Xa(s,function(l){return{from:st(l.from().line,0),to:Rt(s.doc,st(l.to().line+1,0))}})},delLineLeft:function(s){return Xa(s,function(l){return{from:st(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(s){return Xa(s,function(l){var d=s.charCoords(l.head,"div").top+5,f=s.coordsChar({left:0,top:d},"div");return{from:f,to:l.from()}})},delWrappedLineRight:function(s){return Xa(s,function(l){var d=s.charCoords(l.head,"div").top+5,f=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:d},"div");return{from:l.from(),to:f}})},undo:function(s){return s.undo()},redo:function(s){return s.redo()},undoSelection:function(s){return s.undoSelection()},redoSelection:function(s){return s.redoSelection()},goDocStart:function(s){return s.extendSelection(st(s.firstLine(),0))},goDocEnd:function(s){return s.extendSelection(st(s.lastLine()))},goLineStart:function(s){return s.extendSelectionsBy(function(l){return $x(s,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){return s.extendSelectionsBy(function(l){return jx(s,l.head)},{origin:"+move",bias:1})},goLineEnd:function(s){return s.extendSelectionsBy(function(l){return gN(s,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){return s.extendSelectionsBy(function(l){var d=s.cursorCoords(l.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:d},"div")},We)},goLineLeft:function(s){return s.extendSelectionsBy(function(l){var d=s.cursorCoords(l.head,"div").top+5;return s.coordsChar({left:0,top:d},"div")},We)},goLineLeftSmart:function(s){return s.extendSelectionsBy(function(l){var d=s.cursorCoords(l.head,"div").top+5,f=s.coordsChar({left:0,top:d},"div");return f.ch<s.getLine(f.line).search(/\S/)?jx(s,l.head):f},We)},goLineUp:function(s){return s.moveV(-1,"line")},goLineDown:function(s){return s.moveV(1,"line")},goPageUp:function(s){return s.moveV(-1,"page")},goPageDown:function(s){return s.moveV(1,"page")},goCharLeft:function(s){return s.moveH(-1,"char")},goCharRight:function(s){return s.moveH(1,"char")},goColumnLeft:function(s){return s.moveH(-1,"column")},goColumnRight:function(s){return s.moveH(1,"column")},goWordLeft:function(s){return s.moveH(-1,"word")},goGroupRight:function(s){return s.moveH(1,"group")},goGroupLeft:function(s){return s.moveH(-1,"group")},goWordRight:function(s){return s.moveH(1,"word")},delCharBefore:function(s){return s.deleteH(-1,"codepoint")},delCharAfter:function(s){return s.deleteH(1,"char")},delWordBefore:function(s){return s.deleteH(-1,"word")},delWordAfter:function(s){return s.deleteH(1,"word")},delGroupBefore:function(s){return s.deleteH(-1,"group")},delGroupAfter:function(s){return s.deleteH(1,"group")},indentAuto:function(s){return s.indentSelection("smart")},indentMore:function(s){return s.indentSelection("add")},indentLess:function(s){return s.indentSelection("subtract")},insertTab:function(s){return s.replaceSelection("	")},insertSoftTab:function(s){for(var l=[],d=s.listSelections(),f=s.options.tabSize,h=0;h<d.length;h++){var m=d[h].from(),_=Mt(s.getLine(m.line),m.ch,f);l.push(Ve(f-_%f))}s.replaceSelections(l)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){return ei(s,function(){for(var l=s.listSelections(),d=[],f=0;f<l.length;f++)if(l[f].empty()){var h=l[f].head,m=yt(s.doc,h.line).text;if(m){if(h.ch==m.length&&(h=new st(h.line,h.ch-1)),h.ch>0)h=new st(h.line,h.ch+1),s.replaceRange(m.charAt(h.ch-1)+m.charAt(h.ch-2),st(h.line,h.ch-2),h,"+transpose");else if(h.line>s.doc.first){var _=yt(s.doc,h.line-1).text;_&&(h=new st(h.line,1),s.replaceRange(m.charAt(0)+s.doc.lineSeparator()+_.charAt(_.length-1),st(h.line-1,_.length-1),h,"+transpose"))}}d.push(new re(h,h))}s.setSelections(d)})},newlineAndIndent:function(s){return ei(s,function(){for(var l=s.listSelections(),d=l.length-1;d>=0;d--)s.replaceRange(s.doc.lineSeparator(),l[d].anchor,l[d].head,"+input");l=s.listSelections();for(var f=0;f<l.length;f++)s.indentLine(l[f].from().line,null,!0);Wa(s)})},openLine:function(s){return s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){return s.toggleOverwrite()}};function $x(s,l){var d=yt(s.doc,l),f=tr(d);return f!=d&&(l=ie(f)),ay(!0,s,f,l,1)}function gN(s,l){var d=yt(s.doc,l),f=ZD(d);return f!=d&&(l=ie(f)),ay(!0,s,d,l,-1)}function jx(s,l){var d=$x(s,l.line),f=yt(s.doc,d.line),h=Je(f,s.doc.direction);if(!h||h[0].level==0){var m=Math.max(d.ch,f.text.search(/\S/)),_=l.line==d.line&&l.ch<=m&&l.ch;return st(d.line,_?0:m,d.sticky)}return d}function Od(s,l,d){if(typeof l=="string"&&(l=Qu[l],!l))return!1;s.display.input.ensurePolled();var f=s.display.shift,h=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),d&&(s.display.shift=!1),h=l(s)!=Ce}finally{s.display.shift=f,s.state.suppressEdits=!1}return h}function mN(s,l,d){for(var f=0;f<s.state.keyMaps.length;f++){var h=Ga(l,s.state.keyMaps[f],d,s);if(h)return h}return s.options.extraKeys&&Ga(l,s.options.extraKeys,d,s)||Ga(l,s.options.keyMap,d,s)}var yN=new Ut;function Zu(s,l,d,f){var h=s.state.keySeq;if(h){if(Hx(l))return"handled";if(/\'$/.test(l)?s.state.keySeq=null:yN.set(50,function(){s.state.keySeq==h&&(s.state.keySeq=null,s.display.input.reset())}),Yx(s,h+" "+l,d,f))return!0}return Yx(s,l,d,f)}function Yx(s,l,d,f){var h=mN(s,l,f);return h=="multi"&&(s.state.keySeq=l),h=="handled"&&rn(s,"keyHandled",s,l,d),(h=="handled"||h=="multi")&&(Sn(d),Vm(s)),!!h}function qx(s,l){var d=Vx(l,!0);return d?l.shiftKey&&!s.state.keySeq?Zu(s,"Shift-"+d,l,function(f){return Od(s,f,!0)})||Zu(s,d,l,function(f){if(typeof f=="string"?/^go[A-Z]/.test(f):f.motion)return Od(s,f)}):Zu(s,d,l,function(f){return Od(s,f)}):!1}function vN(s,l,d){return Zu(s,"'"+d+"'",l,function(f){return Od(s,f,!0)})}var ly=null;function Kx(s){var l=this;if(!(s.target&&s.target!=l.display.input.getField())&&(l.curOp.focus=z(rt(l)),!ve(l,s))){c&&p<11&&s.keyCode==27&&(s.returnValue=!1);var d=s.keyCode;l.display.shift=d==16||s.shiftKey;var f=qx(l,s);k&&(ly=f?d:null,!f&&d==88&&!sd&&(L?s.metaKey:s.ctrlKey)&&l.replaceSelection("",null,"cut")),r&&!L&&!f&&d==46&&s.shiftKey&&!s.ctrlKey&&document.execCommand&&document.execCommand("cut"),d==18&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&_N(l)}}function _N(s){var l=s.display.lineDiv;X(l,"CodeMirror-crosshair");function d(f){(f.keyCode==18||!f.altKey)&&(B(l,"CodeMirror-crosshair"),xn(document,"keyup",d),xn(document,"mouseover",d))}wt(document,"keyup",d),wt(document,"mouseover",d)}function Gx(s){s.keyCode==16&&(this.doc.sel.shift=!1),ve(this,s)}function Xx(s){var l=this;if(!(s.target&&s.target!=l.display.input.getField())&&!(is(l.display,s)||ve(l,s)||s.ctrlKey&&!s.altKey||L&&s.metaKey)){var d=s.keyCode,f=s.charCode;if(k&&d==ly){ly=null,Sn(s);return}if(!(k&&(!s.which||s.which<10)&&qx(l,s))){var h=String.fromCharCode(f??d);h!="\b"&&(vN(l,s,h)||l.display.input.onKeyPress(s))}}}var bN=400,uy=function(s,l,d){this.time=s,this.pos=l,this.button=d};uy.prototype.compare=function(s,l,d){return this.time+bN>s&&Ot(l,this.pos)==0&&d==this.button};var Ju,tc;function wN(s,l){var d=+new Date;return tc&&tc.compare(d,s,l)?(Ju=tc=null,"triple"):Ju&&Ju.compare(d,s,l)?(tc=new uy(d,s,l),Ju=null,"double"):(Ju=new uy(d,s,l),tc=null,"single")}function Qx(s){var l=this,d=l.display;if(!(ve(l,s)||d.activeTouch&&d.input.supportsTouch())){if(d.input.ensurePolled(),d.shift=s.shiftKey,is(d,s)){g||(d.scroller.draggable=!1,setTimeout(function(){return d.scroller.draggable=!0},100));return}if(!cy(l,s)){var f=jo(l,s),h=rd(s),m=f?wN(f,h):"single";mt(l).focus(),h==1&&l.state.selectingText&&l.state.selectingText(s),!(f&&xN(l,h,f,m,s))&&(h==1?f?kN(l,f,m,s):_u(s)==d.scroller&&Sn(s):h==2?(f&&Md(l.doc,f),setTimeout(function(){return d.input.focus()},20)):h==3&&(U?l.display.input.onContextMenu(s):$m(l)))}}}function xN(s,l,d,f,h){var m="Click";return f=="double"?m="Double"+m:f=="triple"&&(m="Triple"+m),m=(l==1?"Left":l==2?"Middle":"Right")+m,Zu(s,Wx(m,h),h,function(_){if(typeof _=="string"&&(_=Qu[_]),!_)return!1;var x=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),x=_(s,d)!=Ce}finally{s.state.suppressEdits=!1}return x})}function SN(s,l,d){var f=s.getOption("configureMouse"),h=f?f(s,l,d):{};if(h.unit==null){var m=R?d.shiftKey&&d.metaKey:d.altKey;h.unit=m?"rectangle":l=="single"?"char":l=="double"?"word":"line"}return(h.extend==null||s.doc.extend)&&(h.extend=s.doc.extend||d.shiftKey),h.addNew==null&&(h.addNew=L?d.metaKey:d.ctrlKey),h.moveOnDrag==null&&(h.moveOnDrag=!(L?d.altKey:d.ctrlKey)),h}function kN(s,l,d,f){c?setTimeout(_t(Zw,s),0):s.curOp.focus=z(rt(s));var h=SN(s,d,f),m=s.doc.sel,_;s.options.dragDrop&&hm&&!s.isReadOnly()&&d=="single"&&(_=m.contains(l))>-1&&(Ot((_=m.ranges[_]).from(),l)<0||l.xRel>0)&&(Ot(_.to(),l)>0||l.xRel<0)?EN(s,f,l,h):CN(s,f,l,h)}function EN(s,l,d,f){var h=s.display,m=!1,_=sn(s,function(M){g&&(h.scroller.draggable=!1),s.state.draggingText=!1,s.state.delayingBlurEvent&&(s.hasFocus()?s.state.delayingBlurEvent=!1:$m(s)),xn(h.wrapper.ownerDocument,"mouseup",_),xn(h.wrapper.ownerDocument,"mousemove",x),xn(h.scroller,"dragstart",E),xn(h.scroller,"drop",_),m||(Sn(M),f.addNew||Md(s.doc,d,null,null,f.extend),g&&!T||c&&p==9?setTimeout(function(){h.wrapper.ownerDocument.body.focus({preventScroll:!0}),h.input.focus()},20):h.input.focus())}),x=function(M){m=m||Math.abs(l.clientX-M.clientX)+Math.abs(l.clientY-M.clientY)>=10},E=function(){return m=!0};g&&(h.scroller.draggable=!0),s.state.draggingText=_,_.copy=!f.moveOnDrag,wt(h.wrapper.ownerDocument,"mouseup",_),wt(h.wrapper.ownerDocument,"mousemove",x),wt(h.scroller,"dragstart",E),wt(h.scroller,"drop",_),s.state.delayingBlurEvent=!0,setTimeout(function(){return h.input.focus()},20),h.scroller.dragDrop&&h.scroller.dragDrop()}function Zx(s,l,d){if(d=="char")return new re(l,l);if(d=="word")return s.findWordAt(l);if(d=="line")return new re(st(l.line,0),Rt(s.doc,st(l.line+1,0)));var f=d(s,l);return new re(f.from,f.to)}function CN(s,l,d,f){c&&$m(s);var h=s.display,m=s.doc;Sn(l);var _,x,E=m.sel,M=E.ranges;if(f.addNew&&!f.extend?(x=m.sel.contains(d),x>-1?_=M[x]:_=new re(d,d)):(_=m.sel.primary(),x=m.sel.primIndex),f.unit=="rectangle")f.addNew||(_=new re(d,d)),d=jo(s,l,!0,!0),x=-1;else{var N=Zx(s,d,f.unit);f.extend?_=iy(_,N.anchor,N.head,f.extend):_=N}f.addNew?x==-1?(x=M.length,kn(m,nr(s,M.concat([_]),x),{scroll:!1,origin:"*mouse"})):M.length>1&&M[x].empty()&&f.unit=="char"&&!f.extend?(kn(m,nr(s,M.slice(0,x).concat(M.slice(x+1)),0),{scroll:!1,origin:"*mouse"}),E=m.sel):ry(m,x,_,ge):(x=0,kn(m,new yi([_],0),ge),E=m.sel);var P=d;function K(ct){if(Ot(P,ct)!=0)if(P=ct,f.unit=="rectangle"){for(var ht=[],xt=s.options.tabSize,vt=Mt(yt(m,d.line).text,d.ch,xt),Ht=Mt(yt(m,ct.line).text,ct.ch,xt),me=Math.min(vt,Ht),an=Math.max(vt,Ht),Le=Math.min(d.line,ct.line),ni=Math.min(s.lastLine(),Math.max(d.line,ct.line));Le<=ni;Le++){var Vn=yt(m,Le).text,Ke=Bt(Vn,me,xt);me==an?ht.push(new re(st(Le,Ke),st(Le,Ke))):Vn.length>Ke&&ht.push(new re(st(Le,Ke),st(Le,Bt(Vn,an,xt))))}ht.length||ht.push(new re(d,d)),kn(m,nr(s,E.ranges.slice(0,x).concat(ht),x),{origin:"*mouse",scroll:!1}),s.scrollIntoView(ct)}else{var $n=_,gn=Zx(s,ct,f.unit),tn=$n.anchor,Ge;Ot(gn.anchor,tn)>0?(Ge=gn.head,tn=ld($n.from(),gn.anchor)):(Ge=gn.anchor,tn=ad($n.to(),gn.head));var Fe=E.ranges.slice(0);Fe[x]=TN(s,new re(Rt(m,tn),Ge)),kn(m,nr(s,Fe,x),ge)}}var Y=h.wrapper.getBoundingClientRect(),et=0;function it(ct){var ht=++et,xt=jo(s,ct,!0,f.unit=="rectangle");if(xt)if(Ot(xt,P)!=0){s.curOp.focus=z(rt(s)),K(xt);var vt=xd(h,m);(xt.line>=vt.to||xt.line<vt.from)&&setTimeout(sn(s,function(){et==ht&&it(ct)}),150)}else{var Ht=ct.clientY<Y.top?-20:ct.clientY>Y.bottom?20:0;Ht&&setTimeout(sn(s,function(){et==ht&&(h.scroller.scrollTop+=Ht,it(ct))}),50)}}function ot(ct){s.state.selectingText=!1,et=1/0,ct&&(Sn(ct),h.input.focus()),xn(h.wrapper.ownerDocument,"mousemove",ut),xn(h.wrapper.ownerDocument,"mouseup",ft),m.history.lastSelOrigin=null}var ut=sn(s,function(ct){ct.buttons===0||!rd(ct)?ot(ct):it(ct)}),ft=sn(s,ot);s.state.selectingText=ft,wt(h.wrapper.ownerDocument,"mousemove",ut),wt(h.wrapper.ownerDocument,"mouseup",ft)}function TN(s,l){var d=l.anchor,f=l.head,h=yt(s.doc,d.line);if(Ot(d,f)==0&&d.sticky==f.sticky)return l;var m=Je(h);if(!m)return l;var _=mi(m,d.ch,d.sticky),x=m[_];if(x.from!=d.ch&&x.to!=d.ch)return l;var E=_+(x.from==d.ch==(x.level!=1)?0:1);if(E==0||E==m.length)return l;var M;if(f.line!=d.line)M=(f.line-d.line)*(s.doc.direction=="ltr"?1:-1)>0;else{var N=mi(m,f.ch,f.sticky),P=N-_||(f.ch-d.ch)*(x.level==1?-1:1);N==E-1||N==E?M=P<0:M=P>0}var K=m[E+(M?-1:0)],Y=M==(K.level==1),et=Y?K.from:K.to,it=Y?"after":"before";return d.ch==et&&d.sticky==it?l:new re(new st(d.line,et,it),f)}function Jx(s,l,d,f){var h,m;if(l.touches)h=l.touches[0].clientX,m=l.touches[0].clientY;else try{h=l.clientX,m=l.clientY}catch{return!1}if(h>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;f&&Sn(l);var _=s.display,x=_.lineDiv.getBoundingClientRect();if(m>x.bottom||!ti(s,d))return vu(l);m-=x.top-_.viewOffset;for(var E=0;E<s.display.gutterSpecs.length;++E){var M=_.gutters.childNodes[E];if(M&&M.getBoundingClientRect().right>=h){var N=Ji(s.doc,m),P=s.display.gutterSpecs[E];return De(s,d,s,N,P.className,l),vu(l)}}}function cy(s,l){return Jx(s,l,"gutterClick",!0)}function t1(s,l){is(s.display,l)||MN(s,l)||ve(s,l,"contextmenu")||U||s.display.input.onContextMenu(l)}function MN(s,l){return ti(s,"gutterContextMenu")?Jx(s,l,"gutterContextMenu",!1):!1}function e1(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ou(s)}var Qa={toString:function(){return"CodeMirror.Init"}},n1={},Rd={};function IN(s){var l=s.optionHandlers;function d(f,h,m,_){s.defaults[f]=h,m&&(l[f]=_?function(x,E,M){M!=Qa&&m(x,E,M)}:m)}s.defineOption=d,s.Init=Qa,d("value","",function(f,h){return f.setValue(h)},!0),d("mode",null,function(f,h){f.doc.modeOption=h,ty(f)},!0),d("indentUnit",2,ty,!0),d("indentWithTabs",!1),d("smartIndent",!0),d("tabSize",4,function(f){Wu(f),Ou(f),Hn(f)},!0),d("lineSeparator",null,function(f,h){if(f.doc.lineSep=h,!!h){var m=[],_=f.doc.first;f.doc.iter(function(E){for(var M=0;;){var N=E.text.indexOf(h,M);if(N==-1)break;M=N+h.length,m.push(st(_,N))}_++});for(var x=m.length-1;x>=0;x--)qa(f.doc,h,m[x],st(m[x].line,m[x].ch+h.length))}}),d("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(f,h,m){f.state.specialChars=new RegExp(h.source+(h.test("	")?"":"|	"),"g"),m!=Qa&&f.refresh()}),d("specialCharPlaceholder",rL,function(f){return f.refresh()},!0),d("electricChars",!0),d("inputStyle",I?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),d("spellcheck",!1,function(f,h){return f.getInputField().spellcheck=h},!0),d("autocorrect",!1,function(f,h){return f.getInputField().autocorrect=h},!0),d("autocapitalize",!1,function(f,h){return f.getInputField().autocapitalize=h},!0),d("rtlMoveVisually",!F),d("wholeLineUpdateBefore",!0),d("theme","default",function(f){e1(f),Hu(f)},!0),d("keyMap","default",function(f,h,m){var _=Nd(h),x=m!=Qa&&Nd(m);x&&x.detach&&x.detach(f,_),_.attach&&_.attach(f,x||null)}),d("extraKeys",null),d("configureMouse",null),d("lineWrapping",!1,DN,!0),d("gutters",[],function(f,h){f.display.gutterSpecs=Zm(h,f.options.lineNumbers),Hu(f)},!0),d("fixedGutter",!0,function(f,h){f.display.gutters.style.left=h?Um(f.display)+"px":"0",f.refresh()},!0),d("coverGutterNextToScrollbar",!1,function(f){return Va(f)},!0),d("scrollbarStyle","native",function(f){rx(f),Va(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),d("lineNumbers",!1,function(f,h){f.display.gutterSpecs=Zm(f.options.gutters,h),Hu(f)},!0),d("firstLineNumber",1,Hu,!0),d("lineNumberFormatter",function(f){return f},Hu,!0),d("showCursorWhenSelecting",!1,Ru,!0),d("resetSelectionOnContextMenu",!0),d("lineWiseCopyCut",!0),d("pasteLinesPerSelection",!0),d("selectionsMayTouch",!1),d("readOnly",!1,function(f,h){h=="nocursor"&&(Ha(f),f.display.input.blur()),f.display.input.readOnlyChanged(h)}),d("screenReaderLabel",null,function(f,h){h=h===""?null:h,f.display.input.screenReaderLabelChanged(h)}),d("disableInput",!1,function(f,h){h||f.display.input.reset()},!0),d("dragDrop",!0,AN),d("allowDropFileTypes",null),d("cursorBlinkRate",530),d("cursorScrollMargin",0),d("cursorHeight",1,Ru,!0),d("singleCursorHeightPerLine",!0,Ru,!0),d("workTime",100),d("workDelay",100),d("flattenSpans",!0,Wu,!0),d("addModeClass",!1,Wu,!0),d("pollInterval",100),d("undoDepth",200,function(f,h){return f.doc.history.undoDepth=h}),d("historyEventDelay",1250),d("viewportMargin",10,function(f){return f.refresh()},!0),d("maxHighlightLength",1e4,Wu,!0),d("moveInputWithCursor",!0,function(f,h){h||f.display.input.resetPosition()}),d("tabindex",null,function(f,h){return f.display.input.getField().tabIndex=h||""}),d("autofocus",null),d("direction","ltr",function(f,h){return f.doc.setDirection(h)},!0),d("phrases",null)}function AN(s,l,d){var f=d&&d!=Qa;if(!l!=!f){var h=s.display.dragFunctions,m=l?wt:xn;m(s.display.scroller,"dragstart",h.start),m(s.display.scroller,"dragenter",h.enter),m(s.display.scroller,"dragover",h.over),m(s.display.scroller,"dragleave",h.leave),m(s.display.scroller,"drop",h.drop)}}function DN(s){s.options.lineWrapping?(X(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(B(s.display.wrapper,"CodeMirror-wrap"),Am(s)),Hm(s),Hn(s),Ou(s),setTimeout(function(){return Va(s)},100)}function Te(s,l){var d=this;if(!(this instanceof Te))return new Te(s,l);this.options=l=l?$t(l):{},$t(n1,l,!1);var f=l.value;typeof f=="string"?f=new Wn(f,l.mode,null,l.lineSeparator,l.direction):l.mode&&(f.modeOption=l.mode),this.doc=f;var h=new Te.inputStyles[l.inputStyle](this),m=this.display=new $L(s,f,h,l);m.wrapper.CodeMirror=this,e1(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),rx(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ut,keySeq:null,specialChars:null},l.autofocus&&!I&&m.input.focus(),c&&p<11&&setTimeout(function(){return d.display.input.reset(!0)},20),LN(this),uN(),Go(this),this.curOp.forceUpdate=!0,px(this,f),l.autofocus&&!I||this.hasFocus()?setTimeout(function(){d.hasFocus()&&!d.state.focused&&jm(d)},20):Ha(this);for(var _ in Rd)Rd.hasOwnProperty(_)&&Rd[_](this,l[_],Qa);ax(this),l.finishInit&&l.finishInit(this);for(var x=0;x<fy.length;++x)fy[x](this);Xo(this),g&&l.lineWrapping&&getComputedStyle(m.lineDiv).textRendering=="optimizelegibility"&&(m.lineDiv.style.textRendering="auto")}Te.defaults=n1,Te.optionHandlers=Rd;function LN(s){var l=s.display;wt(l.scroller,"mousedown",sn(s,Qx)),c&&p<11?wt(l.scroller,"dblclick",sn(s,function(E){if(!ve(s,E)){var M=jo(s,E);if(!(!M||cy(s,E)||is(s.display,E))){Sn(E);var N=s.findWordAt(M);Md(s.doc,N.anchor,N.head)}}})):wt(l.scroller,"dblclick",function(E){return ve(s,E)||Sn(E)}),wt(l.scroller,"contextmenu",function(E){return t1(s,E)}),wt(l.input.getField(),"contextmenu",function(E){l.scroller.contains(E.target)||t1(s,E)});var d,f={end:0};function h(){l.activeTouch&&(d=setTimeout(function(){return l.activeTouch=null},1e3),f=l.activeTouch,f.end=+new Date)}function m(E){if(E.touches.length!=1)return!1;var M=E.touches[0];return M.radiusX<=1&&M.radiusY<=1}function _(E,M){if(M.left==null)return!0;var N=M.left-E.left,P=M.top-E.top;return N*N+P*P>20*20}wt(l.scroller,"touchstart",function(E){if(!ve(s,E)&&!m(E)&&!cy(s,E)){l.input.ensurePolled(),clearTimeout(d);var M=+new Date;l.activeTouch={start:M,moved:!1,prev:M-f.end<=300?f:null},E.touches.length==1&&(l.activeTouch.left=E.touches[0].pageX,l.activeTouch.top=E.touches[0].pageY)}}),wt(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),wt(l.scroller,"touchend",function(E){var M=l.activeTouch;if(M&&!is(l,E)&&M.left!=null&&!M.moved&&new Date-M.start<300){var N=s.coordsChar(l.activeTouch,"page"),P;!M.prev||_(M,M.prev)?P=new re(N,N):!M.prev.prev||_(M,M.prev.prev)?P=s.findWordAt(N):P=new re(st(N.line,0),Rt(s.doc,st(N.line+1,0))),s.setSelection(P.anchor,P.head),s.focus(),Sn(E)}h()}),wt(l.scroller,"touchcancel",h),wt(l.scroller,"scroll",function(){l.scroller.clientHeight&&(Pu(s,l.scroller.scrollTop),qo(s,l.scroller.scrollLeft,!0),De(s,"scroll",s))}),wt(l.scroller,"mousewheel",function(E){return cx(s,E)}),wt(l.scroller,"DOMMouseScroll",function(E){return cx(s,E)}),wt(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(E){ve(s,E)||Wo(E)},over:function(E){ve(s,E)||(lN(s,E),Wo(E))},start:function(E){return aN(s,E)},drop:sn(s,oN),leave:function(E){ve(s,E)||Bx(s)}};var x=l.input.getField();wt(x,"keyup",function(E){return Gx.call(s,E)}),wt(x,"keydown",sn(s,Kx)),wt(x,"keypress",sn(s,Xx)),wt(x,"focus",function(E){return jm(s,E)}),wt(x,"blur",function(E){return Ha(s,E)})}var fy=[];Te.defineInitHook=function(s){return fy.push(s)};function ec(s,l,d,f){var h=s.doc,m;d==null&&(d="add"),d=="smart"&&(h.mode.indent?m=Iu(s,l).state:d="prev");var _=s.options.tabSize,x=yt(h,l),E=Mt(x.text,null,_);x.stateAfter&&(x.stateAfter=null);var M=x.text.match(/^\s*/)[0],N;if(!f&&!/\S/.test(x.text))N=0,d="not";else if(d=="smart"&&(N=h.mode.indent(m,x.text.slice(M.length),x.text),N==Ce||N>150)){if(!f)return;d="prev"}d=="prev"?l>h.first?N=Mt(yt(h,l-1).text,null,_):N=0:d=="add"?N=E+s.options.indentUnit:d=="subtract"?N=E-s.options.indentUnit:typeof d=="number"&&(N=E+d),N=Math.max(0,N);var P="",K=0;if(s.options.indentWithTabs)for(var Y=Math.floor(N/_);Y;--Y)K+=_,P+="	";if(K<N&&(P+=Ve(N-K)),P!=M)return qa(h,P,st(l,0),st(l,M.length),"+input"),x.stateAfter=null,!0;for(var et=0;et<h.sel.ranges.length;et++){var it=h.sel.ranges[et];if(it.head.line==l&&it.head.ch<M.length){var ot=st(l,M.length);ry(h,et,new re(ot,ot));break}}}var ir=null;function Fd(s){ir=s}function dy(s,l,d,f,h){var m=s.doc;s.display.shift=!1,f||(f=m.sel);var _=+new Date-200,x=h=="paste"||s.state.pasteIncoming>_,E=xu(l),M=null;if(x&&f.ranges.length>1)if(ir&&ir.text.join(`
`)==l){if(f.ranges.length%ir.text.length==0){M=[];for(var N=0;N<ir.text.length;N++)M.push(m.splitLines(ir.text[N]))}}else E.length==f.ranges.length&&s.options.pasteLinesPerSelection&&(M=wr(E,function(ut){return[ut]}));for(var P=s.curOp.updateInput,K=f.ranges.length-1;K>=0;K--){var Y=f.ranges[K],et=Y.from(),it=Y.to();Y.empty()&&(d&&d>0?et=st(et.line,et.ch-d):s.state.overwrite&&!x?it=st(it.line,Math.min(yt(m,it.line).text.length,it.ch+zt(E).length)):x&&ir&&ir.lineWise&&ir.text.join(`
`)==E.join(`
`)&&(et=it=st(et.line,0)));var ot={from:et,to:it,text:M?M[K%M.length]:E,origin:h||(x?"paste":s.state.cutIncoming>_?"cut":"+input")};Ya(s.doc,ot),rn(s,"inputRead",s,ot)}l&&!x&&r1(s,l),Wa(s),s.curOp.updateInput<2&&(s.curOp.updateInput=P),s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=-1}function i1(s,l){var d=s.clipboardData&&s.clipboardData.getData("Text");if(d)return s.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&l.hasFocus()&&ei(l,function(){return dy(l,d,0,null,"paste")}),!0}function r1(s,l){if(!(!s.options.electricChars||!s.options.smartIndent))for(var d=s.doc.sel,f=d.ranges.length-1;f>=0;f--){var h=d.ranges[f];if(!(h.head.ch>100||f&&d.ranges[f-1].head.line==h.head.line)){var m=s.getModeAt(h.head),_=!1;if(m.electricChars){for(var x=0;x<m.electricChars.length;x++)if(l.indexOf(m.electricChars.charAt(x))>-1){_=ec(s,h.head.line,"smart");break}}else m.electricInput&&m.electricInput.test(yt(s.doc,h.head.line).text.slice(0,h.head.ch))&&(_=ec(s,h.head.line,"smart"));_&&rn(s,"electricInput",s,h.head.line)}}}function s1(s){for(var l=[],d=[],f=0;f<s.doc.sel.ranges.length;f++){var h=s.doc.sel.ranges[f].head.line,m={anchor:st(h,0),head:st(h+1,0)};d.push(m),l.push(s.getRange(m.anchor,m.head))}return{text:l,ranges:d}}function hy(s,l,d,f){s.setAttribute("autocorrect",d?"on":"off"),s.setAttribute("autocapitalize",f?"on":"off"),s.setAttribute("spellcheck",!!l)}function o1(){var s=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),l=O("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return g?s.style.width="1000px":s.setAttribute("wrap","off"),S&&(s.style.border="1px solid black"),l}function NN(s){var l=s.optionHandlers,d=s.helpers={};s.prototype={constructor:s,focus:function(){mt(this).focus(),this.display.input.focus()},setOption:function(f,h){var m=this.options,_=m[f];m[f]==h&&f!="mode"||(m[f]=h,l.hasOwnProperty(f)&&sn(this,l[f])(this,h,_),De(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,h){this.state.keyMaps[h?"push":"unshift"](Nd(f))},removeKeyMap:function(f){for(var h=this.state.keyMaps,m=0;m<h.length;++m)if(h[m]==f||h[m].name==f)return h.splice(m,1),!0},addOverlay:An(function(f,h){var m=f.token?f:s.getMode(this.options,f);if(m.startState)throw new Error("Overlays may not be stateful.");Ps(this.state.overlays,{mode:m,modeSpec:f,opaque:h&&h.opaque,priority:h&&h.priority||0},function(_){return _.priority}),this.state.modeGen++,Hn(this)}),removeOverlay:An(function(f){for(var h=this.state.overlays,m=0;m<h.length;++m){var _=h[m].modeSpec;if(_==f||typeof f=="string"&&_.name==f){h.splice(m,1),this.state.modeGen++,Hn(this);return}}}),indentLine:An(function(f,h,m){typeof h!="string"&&typeof h!="number"&&(h==null?h=this.options.smartIndent?"smart":"prev":h=h?"add":"subtract"),Mu(this.doc,f)&&ec(this,f,h,m)}),indentSelection:An(function(f){for(var h=this.doc.sel.ranges,m=-1,_=0;_<h.length;_++){var x=h[_];if(x.empty())x.head.line>m&&(ec(this,x.head.line,f,!0),m=x.head.line,_==this.doc.sel.primIndex&&Wa(this));else{var E=x.from(),M=x.to(),N=Math.max(m,E.line);m=Math.min(this.lastLine(),M.line-(M.ch?0:1))+1;for(var P=N;P<m;++P)ec(this,P,f);var K=this.doc.sel.ranges;E.ch==0&&h.length==K.length&&K[_].from().ch>0&&ry(this.doc,_,new re(E,K[_].to()),ne)}}}),getTokenAt:function(f,h){return mw(this,f,h)},getLineTokens:function(f,h){return mw(this,st(f),h,!0)},getTokenTypeAt:function(f){f=Rt(this.doc,f);var h=hw(this,yt(this.doc,f.line)),m=0,_=(h.length-1)/2,x=f.ch,E;if(x==0)E=h[2];else for(;;){var M=m+_>>1;if((M?h[M*2-1]:0)>=x)_=M;else if(h[M*2+1]<x)m=M+1;else{E=h[M*2+2];break}}var N=E?E.indexOf("overlay "):-1;return N<0?E:N==0?null:E.slice(0,N-1)},getModeAt:function(f){var h=this.doc.mode;return h.innerMode?s.innerMode(h,this.getTokenAt(f).state).mode:h},getHelper:function(f,h){return this.getHelpers(f,h)[0]},getHelpers:function(f,h){var m=[];if(!d.hasOwnProperty(h))return m;var _=d[h],x=this.getModeAt(f);if(typeof x[h]=="string")_[x[h]]&&m.push(_[x[h]]);else if(x[h])for(var E=0;E<x[h].length;E++){var M=_[x[h][E]];M&&m.push(M)}else x.helperType&&_[x.helperType]?m.push(_[x.helperType]):_[x.name]&&m.push(_[x.name]);for(var N=0;N<_._global.length;N++){var P=_._global[N];P.pred(x,this)&&jt(m,P.val)==-1&&m.push(P.val)}return m},getStateAfter:function(f,h){var m=this.doc;return f=cw(m,f??m.first+m.size-1),Iu(this,f+1,h).state},cursorCoords:function(f,h){var m,_=this.doc.sel.primary();return f==null?m=_.head:typeof f=="object"?m=Rt(this.doc,f):m=f?_.from():_.to(),er(this,m,h||"page")},charCoords:function(f,h){return vd(this,Rt(this.doc,f),h||"page")},coordsChar:function(f,h){return f=jw(this,f,h||"page"),Pm(this,f.left,f.top)},lineAtHeight:function(f,h){return f=jw(this,{top:f,left:0},h||"page").top,Ji(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,h,m){var _=!1,x;if(typeof f=="number"){var E=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>E&&(f=E,_=!0),x=yt(this.doc,f)}else x=f;return yd(this,x,{top:0,left:0},h||"page",m||_).top+(_?this.doc.height-ns(x):0)},defaultTextHeight:function(){return za(this.display)},defaultCharWidth:function(){return Ua(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,h,m,_,x){var E=this.display;f=er(this,Rt(this.doc,f));var M=f.bottom,N=f.left;if(h.style.position="absolute",h.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(h),E.sizer.appendChild(h),_=="over")M=f.top;else if(_=="above"||_=="near"){var P=Math.max(E.wrapper.clientHeight,this.doc.height),K=Math.max(E.sizer.clientWidth,E.lineSpace.clientWidth);(_=="above"||f.bottom+h.offsetHeight>P)&&f.top>h.offsetHeight?M=f.top-h.offsetHeight:f.bottom+h.offsetHeight<=P&&(M=f.bottom),N+h.offsetWidth>K&&(N=K-h.offsetWidth)}h.style.top=M+"px",h.style.left=h.style.right="",x=="right"?(N=E.sizer.clientWidth-h.offsetWidth,h.style.right="0px"):(x=="left"?N=0:x=="middle"&&(N=(E.sizer.clientWidth-h.offsetWidth)/2),h.style.left=N+"px"),m&&AL(this,{left:N,top:M,right:N+h.offsetWidth,bottom:M+h.offsetHeight})},triggerOnKeyDown:An(Kx),triggerOnKeyPress:An(Xx),triggerOnKeyUp:Gx,triggerOnMouseDown:An(Qx),execCommand:function(f){if(Qu.hasOwnProperty(f))return Qu[f].call(null,this)},triggerElectric:An(function(f){r1(this,f)}),findPosH:function(f,h,m,_){var x=1;h<0&&(x=-1,h=-h);for(var E=Rt(this.doc,f),M=0;M<h&&(E=py(this.doc,E,x,m,_),!E.hitSide);++M);return E},moveH:An(function(f,h){var m=this;this.extendSelectionsBy(function(_){return m.display.shift||m.doc.extend||_.empty()?py(m.doc,_.head,f,h,m.options.rtlMoveVisually):f<0?_.from():_.to()},We)}),deleteH:An(function(f,h){var m=this.doc.sel,_=this.doc;m.somethingSelected()?_.replaceSelection("",null,"+delete"):Xa(this,function(x){var E=py(_,x.head,f,h,!1);return f<0?{from:E,to:x.head}:{from:x.head,to:E}})}),findPosV:function(f,h,m,_){var x=1,E=_;h<0&&(x=-1,h=-h);for(var M=Rt(this.doc,f),N=0;N<h;++N){var P=er(this,M,"div");if(E==null?E=P.left:P.left=E,M=a1(this,P,x,m),M.hitSide)break}return M},moveV:An(function(f,h){var m=this,_=this.doc,x=[],E=!this.display.shift&&!_.extend&&_.sel.somethingSelected();if(_.extendSelectionsBy(function(N){if(E)return f<0?N.from():N.to();var P=er(m,N.head,"div");N.goalColumn!=null&&(P.left=N.goalColumn),x.push(P.left);var K=a1(m,P,f,h);return h=="page"&&N==_.sel.primary()&&qm(m,vd(m,K,"div").top-P.top),K},We),x.length)for(var M=0;M<_.sel.ranges.length;M++)_.sel.ranges[M].goalColumn=x[M]}),findWordAt:function(f){var h=this.doc,m=yt(h,f.line).text,_=f.ch,x=f.ch;if(m){var E=this.getHelper(f,"wordChars");(f.sticky=="before"||x==m.length)&&_?--_:++x;for(var M=m.charAt(_),N=Ai(M,E)?function(P){return Ai(P,E)}:/\s/.test(M)?function(P){return/\s/.test(P)}:function(P){return!/\s/.test(P)&&!Ai(P)};_>0&&N(m.charAt(_-1));)--_;for(;x<m.length&&N(m.charAt(x));)++x}return new re(st(f.line,_),st(f.line,x))},toggleOverwrite:function(f){f!=null&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?X(this.display.cursorDiv,"CodeMirror-overwrite"):B(this.display.cursorDiv,"CodeMirror-overwrite"),De(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==z(rt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:An(function(f,h){Fu(this,f,h)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-kr(this)-this.display.barHeight,width:f.scrollWidth-kr(this)-this.display.barWidth,clientHeight:Nm(this),clientWidth:Vo(this)}},scrollIntoView:An(function(f,h){f==null?(f={from:this.doc.sel.primary().head,to:null},h==null&&(h=this.options.cursorScrollMargin)):typeof f=="number"?f={from:st(f,0),to:null}:f.from==null&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=h||0,f.from.line!=null?DL(this,f):tx(this,f.from,f.to,f.margin)}),setSize:An(function(f,h){var m=this,_=function(E){return typeof E=="number"||/^\d+$/.test(String(E))?E+"px":E};f!=null&&(this.display.wrapper.style.width=_(f)),h!=null&&(this.display.wrapper.style.height=_(h)),this.options.lineWrapping&&Ww(this);var x=this.display.viewFrom;this.doc.iter(x,this.display.viewTo,function(E){if(E.widgets){for(var M=0;M<E.widgets.length;M++)if(E.widgets[M].noHScroll){$s(m,x,"widget");break}}++x}),this.curOp.forceUpdate=!0,De(this,"refresh",this)}),operation:function(f){return ei(this,f)},startOperation:function(){return Go(this)},endOperation:function(){return Xo(this)},refresh:An(function(){var f=this.display.cachedTextHeight;Hn(this),this.curOp.forceUpdate=!0,Ou(this),Fu(this,this.doc.scrollLeft,this.doc.scrollTop),Xm(this.display),(f==null||Math.abs(f-za(this.display))>.5||this.options.lineWrapping)&&Hm(this),De(this,"refresh",this)}),swapDoc:An(function(f){var h=this.doc;return h.cm=null,this.state.selectingText&&this.state.selectingText(),px(this,f),Ou(this),this.display.input.reset(),Fu(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,rn(this,"swapDoc",this,h),h}),phrase:function(f){var h=this.options.phrases;return h&&Object.prototype.hasOwnProperty.call(h,f)?h[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Hs(s),s.registerHelper=function(f,h,m){d.hasOwnProperty(f)||(d[f]=s[f]={_global:[]}),d[f][h]=m},s.registerGlobalHelper=function(f,h,m,_){s.registerHelper(f,h,_),d[f]._global.push({pred:m,val:_})}}function py(s,l,d,f,h){var m=l,_=d,x=yt(s,l.line),E=h&&s.direction=="rtl"?-d:d;function M(){var ft=l.line+E;return ft<s.first||ft>=s.first+s.size?!1:(l=new st(ft,l.ch,l.sticky),x=yt(s,ft))}function N(ft){var ct;if(f=="codepoint"){var ht=x.text.charCodeAt(l.ch+(d>0?0:-1));if(isNaN(ht))ct=null;else{var xt=d>0?ht>=55296&&ht<56320:ht>=56320&&ht<57343;ct=new st(l.line,Math.max(0,Math.min(x.text.length,l.ch+d*(xt?2:1))),-d)}}else h?ct=pN(s.cm,x,l,d):ct=oy(x,l,d);if(ct==null)if(!ft&&M())l=ay(h,s.cm,x,l.line,E);else return!1;else l=ct;return!0}if(f=="char"||f=="codepoint")N();else if(f=="column")N(!0);else if(f=="word"||f=="group")for(var P=null,K=f=="group",Y=s.cm&&s.cm.getHelper(l,"wordChars"),et=!0;!(d<0&&!N(!et));et=!1){var it=x.text.charAt(l.ch)||`
`,ot=Ai(it,Y)?"w":K&&it==`
`?"n":!K||/\s/.test(it)?null:"p";if(K&&!et&&!ot&&(ot="s"),P&&P!=ot){d<0&&(d=1,N(),l.sticky="after");break}if(ot&&(P=ot),d>0&&!N(!et))break}var ut=Ad(s,l,m,_,!0);return xm(m,ut)&&(ut.hitSide=!0),ut}function a1(s,l,d,f){var h=s.doc,m=l.left,_;if(f=="page"){var x=Math.min(s.display.wrapper.clientHeight,mt(s).innerHeight||h(s).documentElement.clientHeight),E=Math.max(x-.5*za(s.display),3);_=(d>0?l.bottom:l.top)+d*E}else f=="line"&&(_=d>0?l.bottom+3:l.top-3);for(var M;M=Pm(s,m,_),!!M.outside;){if(d<0?_<=0:_>=h.height){M.hitSide=!0;break}_+=d*5}return M}var oe=function(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ut,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};oe.prototype.init=function(s){var l=this,d=this,f=d.cm,h=d.div=s.lineDiv;h.contentEditable=!0,hy(h,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize);function m(x){for(var E=x.target;E;E=E.parentNode){if(E==h)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(E.className))break}return!1}wt(h,"paste",function(x){!m(x)||ve(f,x)||i1(x,f)||p<=11&&setTimeout(sn(f,function(){return l.updateFromDOM()}),20)}),wt(h,"compositionstart",function(x){l.composing={data:x.data,done:!1}}),wt(h,"compositionupdate",function(x){l.composing||(l.composing={data:x.data,done:!1})}),wt(h,"compositionend",function(x){l.composing&&(x.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),wt(h,"touchstart",function(){return d.forceCompositionEnd()}),wt(h,"input",function(){l.composing||l.readFromDOMSoon()});function _(x){if(!(!m(x)||ve(f,x))){if(f.somethingSelected())Fd({lineWise:!1,text:f.getSelections()}),x.type=="cut"&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var E=s1(f);Fd({lineWise:!0,text:E.text}),x.type=="cut"&&f.operation(function(){f.setSelections(E.ranges,0,ne),f.replaceSelection("",null,"cut")})}else return;if(x.clipboardData){x.clipboardData.clearData();var M=ir.text.join(`
`);if(x.clipboardData.setData("Text",M),x.clipboardData.getData("Text")==M){x.preventDefault();return}}var N=o1(),P=N.firstChild;hy(P),f.display.lineSpace.insertBefore(N,f.display.lineSpace.firstChild),P.value=ir.text.join(`
`);var K=z(dt(h));tt(P),setTimeout(function(){f.display.lineSpace.removeChild(N),K.focus(),K==h&&d.showPrimarySelection()},50)}}wt(h,"copy",_),wt(h,"cut",_)},oe.prototype.screenReaderLabelChanged=function(s){s?this.div.setAttribute("aria-label",s):this.div.removeAttribute("aria-label")},oe.prototype.prepareSelection=function(){var s=Qw(this.cm,!1);return s.focus=z(dt(this.div))==this.div,s},oe.prototype.showSelection=function(s,l){!s||!this.cm.display.view.length||((s.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(s))},oe.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},oe.prototype.showPrimarySelection=function(){var s=this.getSelection(),l=this.cm,d=l.doc.sel.primary(),f=d.from(),h=d.to();if(l.display.viewTo==l.display.viewFrom||f.line>=l.display.viewTo||h.line<l.display.viewFrom){s.removeAllRanges();return}var m=Pd(l,s.anchorNode,s.anchorOffset),_=Pd(l,s.focusNode,s.focusOffset);if(!(m&&!m.bad&&_&&!_.bad&&Ot(ld(m,_),f)==0&&Ot(ad(m,_),h)==0)){var x=l.display.view,E=f.line>=l.display.viewFrom&&l1(l,f)||{node:x[0].measure.map[2],offset:0},M=h.line<l.display.viewTo&&l1(l,h);if(!M){var N=x[x.length-1].measure,P=N.maps?N.maps[N.maps.length-1]:N.map;M={node:P[P.length-1],offset:P[P.length-2]-P[P.length-3]}}if(!E||!M){s.removeAllRanges();return}var K=s.rangeCount&&s.getRangeAt(0),Y;try{Y=Q(E.node,E.offset,M.offset,M.node)}catch{}Y&&(!r&&l.state.focused?(s.collapse(E.node,E.offset),Y.collapsed||(s.removeAllRanges(),s.addRange(Y))):(s.removeAllRanges(),s.addRange(Y)),K&&s.anchorNode==null?s.addRange(K):r&&this.startGracePeriod()),this.rememberSelection()}},oe.prototype.startGracePeriod=function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){return s.cm.curOp.selectionChanged=!0})},20)},oe.prototype.showMultipleSelections=function(s){A(this.cm.display.cursorDiv,s.cursors),A(this.cm.display.selectionDiv,s.selection)},oe.prototype.rememberSelection=function(){var s=this.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},oe.prototype.selectionInEditor=function(){var s=this.getSelection();if(!s.rangeCount)return!1;var l=s.getRangeAt(0).commonAncestorContainer;return q(this.div,l)},oe.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||z(dt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},oe.prototype.blur=function(){this.div.blur()},oe.prototype.getField=function(){return this.div},oe.prototype.supportsTouch=function(){return!0},oe.prototype.receivedFocus=function(){var s=this,l=this;this.selectionInEditor()?setTimeout(function(){return s.pollSelection()},20):ei(this.cm,function(){return l.cm.curOp.selectionChanged=!0});function d(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,d))}this.polling.set(this.cm.options.pollInterval,d)},oe.prototype.selectionChanged=function(){var s=this.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},oe.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var s=this.getSelection(),l=this.cm;if(C&&v&&this.cm.display.gutterSpecs.length&&ON(s.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var d=Pd(l,s.anchorNode,s.anchorOffset),f=Pd(l,s.focusNode,s.focusOffset);d&&f&&ei(l,function(){kn(l.doc,Ys(d,f),ne),(d.bad||f.bad)&&(l.curOp.selectionChanged=!0)})}}},oe.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var s=this.cm,l=s.display,d=s.doc.sel.primary(),f=d.from(),h=d.to();if(f.ch==0&&f.line>s.firstLine()&&(f=st(f.line-1,yt(s.doc,f.line-1).length)),h.ch==yt(s.doc,h.line).text.length&&h.line<s.lastLine()&&(h=st(h.line+1,0)),f.line<l.viewFrom||h.line>l.viewTo-1)return!1;var m,_,x;f.line==l.viewFrom||(m=Yo(s,f.line))==0?(_=ie(l.view[0].line),x=l.view[0].node):(_=ie(l.view[m].line),x=l.view[m-1].node.nextSibling);var E=Yo(s,h.line),M,N;if(E==l.view.length-1?(M=l.viewTo-1,N=l.lineDiv.lastChild):(M=ie(l.view[E+1].line)-1,N=l.view[E+1].node.previousSibling),!x)return!1;for(var P=s.doc.splitLines(RN(s,x,N,_,M)),K=xr(s.doc,st(_,0),st(M,yt(s.doc,M).text.length));P.length>1&&K.length>1;)if(zt(P)==zt(K))P.pop(),K.pop(),M--;else if(P[0]==K[0])P.shift(),K.shift(),_++;else break;for(var Y=0,et=0,it=P[0],ot=K[0],ut=Math.min(it.length,ot.length);Y<ut&&it.charCodeAt(Y)==ot.charCodeAt(Y);)++Y;for(var ft=zt(P),ct=zt(K),ht=Math.min(ft.length-(P.length==1?Y:0),ct.length-(K.length==1?Y:0));et<ht&&ft.charCodeAt(ft.length-et-1)==ct.charCodeAt(ct.length-et-1);)++et;if(P.length==1&&K.length==1&&_==f.line)for(;Y&&Y>f.ch&&ft.charCodeAt(ft.length-et-1)==ct.charCodeAt(ct.length-et-1);)Y--,et++;P[P.length-1]=ft.slice(0,ft.length-et).replace(/^\u200b+/,""),P[0]=P[0].slice(Y).replace(/\u200b+$/,"");var xt=st(_,Y),vt=st(M,K.length?zt(K).length-et:0);if(P.length>1||P[0]||Ot(xt,vt))return qa(s.doc,P,xt,vt,"+input"),!0},oe.prototype.ensurePolled=function(){this.forceCompositionEnd()},oe.prototype.reset=function(){this.forceCompositionEnd()},oe.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},oe.prototype.readFromDOMSoon=function(){var s=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(s.readDOMTimeout=null,s.composing)if(s.composing.done)s.composing=null;else return;s.updateFromDOM()},80))},oe.prototype.updateFromDOM=function(){var s=this;(this.cm.isReadOnly()||!this.pollContent())&&ei(this.cm,function(){return Hn(s.cm)})},oe.prototype.setUneditable=function(s){s.contentEditable="false"},oe.prototype.onKeyPress=function(s){s.charCode==0||this.composing||(s.preventDefault(),this.cm.isReadOnly()||sn(this.cm,dy)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0))},oe.prototype.readOnlyChanged=function(s){this.div.contentEditable=String(s!="nocursor")},oe.prototype.onContextMenu=function(){},oe.prototype.resetPosition=function(){},oe.prototype.needsContentAttribute=!0;function l1(s,l){var d=Om(s,l.line);if(!d||d.hidden)return null;var f=yt(s.doc,l.line),h=Pw(d,f,l.line),m=Je(f,s.doc.direction),_="left";if(m){var x=mi(m,l.ch);_=x%2?"right":"left"}var E=Uw(h.map,l.ch,_);return E.offset=E.collapse=="right"?E.end:E.start,E}function ON(s){for(var l=s;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}function Za(s,l){return l&&(s.bad=!0),s}function RN(s,l,d,f,h){var m="",_=!1,x=s.doc.lineSeparator(),E=!1;function M(Y){return function(et){return et.id==Y}}function N(){_&&(m+=x,E&&(m+=x),_=E=!1)}function P(Y){Y&&(N(),m+=Y)}function K(Y){if(Y.nodeType==1){var et=Y.getAttribute("cm-text");if(et){P(et);return}var it=Y.getAttribute("cm-marker"),ot;if(it){var ut=s.findMarks(st(f,0),st(h+1,0),M(+it));ut.length&&(ot=ut[0].find(0))&&P(xr(s.doc,ot.from,ot.to).join(x));return}if(Y.getAttribute("contenteditable")=="false")return;var ft=/^(pre|div|p|li|table|br)$/i.test(Y.nodeName);if(!/^br$/i.test(Y.nodeName)&&Y.textContent.length==0)return;ft&&N();for(var ct=0;ct<Y.childNodes.length;ct++)K(Y.childNodes[ct]);/^(pre|p)$/i.test(Y.nodeName)&&(E=!0),ft&&(_=!0)}else Y.nodeType==3&&P(Y.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;K(l),l!=d;)l=l.nextSibling,E=!1;return m}function Pd(s,l,d){var f;if(l==s.display.lineDiv){if(f=s.display.lineDiv.childNodes[d],!f)return Za(s.clipPos(st(s.display.viewTo-1)),!0);l=null,d=0}else for(f=l;;f=f.parentNode){if(!f||f==s.display.lineDiv)return null;if(f.parentNode&&f.parentNode==s.display.lineDiv)break}for(var h=0;h<s.display.view.length;h++){var m=s.display.view[h];if(m.node==f)return FN(m,l,d)}}function FN(s,l,d){var f=s.text.firstChild,h=!1;if(!l||!q(f,l))return Za(st(ie(s.line),0),!0);if(l==f&&(h=!0,l=f.childNodes[d],d=0,!l)){var m=s.rest?zt(s.rest):s.line;return Za(st(ie(m),m.text.length),h)}var _=l.nodeType==3?l:null,x=l;for(!_&&l.childNodes.length==1&&l.firstChild.nodeType==3&&(_=l.firstChild,d&&(d=_.nodeValue.length));x.parentNode!=f;)x=x.parentNode;var E=s.measure,M=E.maps;function N(ot,ut,ft){for(var ct=-1;ct<(M?M.length:0);ct++)for(var ht=ct<0?E.map:M[ct],xt=0;xt<ht.length;xt+=3){var vt=ht[xt+2];if(vt==ot||vt==ut){var Ht=ie(ct<0?s.line:s.rest[ct]),me=ht[xt]+ft;return(ft<0||vt!=ot)&&(me=ht[xt+(ft?1:0)]),st(Ht,me)}}}var P=N(_,x,d);if(P)return Za(P,h);for(var K=x.nextSibling,Y=_?_.nodeValue.length-d:0;K;K=K.nextSibling){if(P=N(K,K.firstChild,0),P)return Za(st(P.line,P.ch-Y),h);Y+=K.textContent.length}for(var et=x.previousSibling,it=d;et;et=et.previousSibling){if(P=N(et,et.firstChild,-1),P)return Za(st(P.line,P.ch+it),h);it+=et.textContent.length}}var $e=function(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new Ut,this.hasSelection=!1,this.composing=null,this.resetting=!1};$e.prototype.init=function(s){var l=this,d=this,f=this.cm;this.createField(s);var h=this.textarea;s.wrapper.insertBefore(this.wrapper,s.wrapper.firstChild),S&&(h.style.width="0px"),wt(h,"input",function(){c&&p>=9&&l.hasSelection&&(l.hasSelection=null),d.poll()}),wt(h,"paste",function(_){ve(f,_)||i1(_,f)||(f.state.pasteIncoming=+new Date,d.fastPoll())});function m(_){if(!ve(f,_)){if(f.somethingSelected())Fd({lineWise:!1,text:f.getSelections()});else if(f.options.lineWiseCopyCut){var x=s1(f);Fd({lineWise:!0,text:x.text}),_.type=="cut"?f.setSelections(x.ranges,null,ne):(d.prevInput="",h.value=x.text.join(`
`),tt(h))}else return;_.type=="cut"&&(f.state.cutIncoming=+new Date)}}wt(h,"cut",m),wt(h,"copy",m),wt(s.scroller,"paste",function(_){if(!(is(s,_)||ve(f,_))){if(!h.dispatchEvent){f.state.pasteIncoming=+new Date,d.focus();return}var x=new Event("paste");x.clipboardData=_.clipboardData,h.dispatchEvent(x)}}),wt(s.lineSpace,"selectstart",function(_){is(s,_)||Sn(_)}),wt(h,"compositionstart",function(){var _=f.getCursor("from");d.composing&&d.composing.range.clear(),d.composing={start:_,range:f.markText(_,f.getCursor("to"),{className:"CodeMirror-composing"})}}),wt(h,"compositionend",function(){d.composing&&(d.poll(),d.composing.range.clear(),d.composing=null)})},$e.prototype.createField=function(s){this.wrapper=o1(),this.textarea=this.wrapper.firstChild;var l=this.cm.options;hy(this.textarea,l.spellcheck,l.autocorrect,l.autocapitalize)},$e.prototype.screenReaderLabelChanged=function(s){s?this.textarea.setAttribute("aria-label",s):this.textarea.removeAttribute("aria-label")},$e.prototype.prepareSelection=function(){var s=this.cm,l=s.display,d=s.doc,f=Qw(s);if(s.options.moveInputWithCursor){var h=er(s,d.sel.primary().head,"div"),m=l.wrapper.getBoundingClientRect(),_=l.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,h.top+_.top-m.top)),f.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,h.left+_.left-m.left))}return f},$e.prototype.showSelection=function(s){var l=this.cm,d=l.display;A(d.cursorDiv,s.cursors),A(d.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},$e.prototype.reset=function(s){if(!(this.contextMenuPending||this.composing&&s)){var l=this.cm;if(this.resetting=!0,l.somethingSelected()){this.prevInput="";var d=l.getSelection();this.textarea.value=d,l.state.focused&&tt(this.textarea),c&&p>=9&&(this.hasSelection=d)}else s||(this.prevInput=this.textarea.value="",c&&p>=9&&(this.hasSelection=null));this.resetting=!1}},$e.prototype.getField=function(){return this.textarea},$e.prototype.supportsTouch=function(){return!1},$e.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!I||z(dt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},$e.prototype.blur=function(){this.textarea.blur()},$e.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},$e.prototype.receivedFocus=function(){this.slowPoll()},$e.prototype.slowPoll=function(){var s=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},$e.prototype.fastPoll=function(){var s=!1,l=this;l.pollingFast=!0;function d(){var f=l.poll();!f&&!s?(s=!0,l.polling.set(60,d)):(l.pollingFast=!1,l.slowPoll())}l.polling.set(20,d)},$e.prototype.poll=function(){var s=this,l=this.cm,d=this.textarea,f=this.prevInput;if(this.contextMenuPending||this.resetting||!l.state.focused||mm(d)&&!f&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var h=d.value;if(h==f&&!l.somethingSelected())return!1;if(c&&p>=9&&this.hasSelection===h||L&&/[\uf700-\uf7ff]/.test(h))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var m=h.charCodeAt(0);if(m==8203&&!f&&(f="​"),m==8666)return this.reset(),this.cm.execCommand("undo")}for(var _=0,x=Math.min(f.length,h.length);_<x&&f.charCodeAt(_)==h.charCodeAt(_);)++_;return ei(l,function(){dy(l,h.slice(_),f.length-_,null,s.composing?"*compose":null),h.length>1e3||h.indexOf(`
`)>-1?d.value=s.prevInput="":s.prevInput=h,s.composing&&(s.composing.range.clear(),s.composing.range=l.markText(s.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},$e.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},$e.prototype.onKeyPress=function(){c&&p>=9&&(this.hasSelection=null),this.fastPoll()},$e.prototype.onContextMenu=function(s){var l=this,d=l.cm,f=d.display,h=l.textarea;l.contextMenuPending&&l.contextMenuPending();var m=jo(d,s),_=f.scroller.scrollTop;if(!m||k)return;var x=d.options.resetSelectionOnContextMenu;x&&d.doc.sel.contains(m)==-1&&sn(d,kn)(d.doc,Ys(m),ne);var E=h.style.cssText,M=l.wrapper.style.cssText,N=l.wrapper.offsetParent.getBoundingClientRect();l.wrapper.style.cssText="position: static",h.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(s.clientY-N.top-5)+"px; left: "+(s.clientX-N.left-5)+`px;
      z-index: 1000; background: `+(c?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var P;g&&(P=h.ownerDocument.defaultView.scrollY),f.input.focus(),g&&h.ownerDocument.defaultView.scrollTo(null,P),f.input.reset(),d.somethingSelected()||(h.value=l.prevInput=" "),l.contextMenuPending=Y,f.selForContextMenu=d.doc.sel,clearTimeout(f.detectingSelectAll);function K(){if(h.selectionStart!=null){var it=d.somethingSelected(),ot="​"+(it?h.value:"");h.value="⇚",h.value=ot,l.prevInput=it?"":"​",h.selectionStart=1,h.selectionEnd=ot.length,f.selForContextMenu=d.doc.sel}}function Y(){if(l.contextMenuPending==Y&&(l.contextMenuPending=!1,l.wrapper.style.cssText=M,h.style.cssText=E,c&&p<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=_),h.selectionStart!=null)){(!c||c&&p<9)&&K();var it=0,ot=function(){f.selForContextMenu==d.doc.sel&&h.selectionStart==0&&h.selectionEnd>0&&l.prevInput=="​"?sn(d,Tx)(d):it++<10?f.detectingSelectAll=setTimeout(ot,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(ot,200)}}if(c&&p>=9&&K(),U){Wo(s);var et=function(){xn(window,"mouseup",et),setTimeout(Y,20)};wt(window,"mouseup",et)}else setTimeout(Y,50)},$e.prototype.readOnlyChanged=function(s){s||this.reset(),this.textarea.disabled=s=="nocursor",this.textarea.readOnly=!!s},$e.prototype.setUneditable=function(){},$e.prototype.needsContentAttribute=!1;function PN(s,l){if(l=l?$t(l):{},l.value=s.value,!l.tabindex&&s.tabIndex&&(l.tabindex=s.tabIndex),!l.placeholder&&s.placeholder&&(l.placeholder=s.placeholder),l.autofocus==null){var d=z(dt(s));l.autofocus=d==s||s.getAttribute("autofocus")!=null&&d==document.body}function f(){s.value=x.getValue()}var h;if(s.form&&(wt(s.form,"submit",f),!l.leaveSubmitMethodAlone)){var m=s.form;h=m.submit;try{var _=m.submit=function(){f(),m.submit=h,m.submit(),m.submit=_}}catch{}}l.finishInit=function(E){E.save=f,E.getTextArea=function(){return s},E.toTextArea=function(){E.toTextArea=isNaN,f(),s.parentNode.removeChild(E.getWrapperElement()),s.style.display="",s.form&&(xn(s.form,"submit",f),!l.leaveSubmitMethodAlone&&typeof s.form.submit=="function"&&(s.form.submit=h))}},s.style.display="none";var x=Te(function(E){return s.parentNode.insertBefore(E,s.nextSibling)},l);return x}function BN(s){s.off=xn,s.on=wt,s.wheelEventPixels=jL,s.Doc=Wn,s.splitLines=xu,s.countColumn=Mt,s.findColumn=Bt,s.isWordChar=Qi,s.Pass=Ce,s.signal=De,s.Line=Fa,s.changeEnd=qs,s.scrollbarModel=ix,s.Pos=st,s.cmpPos=Ot,s.modes=ku,s.mimeModes=Ws,s.resolveMode=Ra,s.getMode=Eu,s.modeExtensions=Jr,s.extendMode=bm,s.copyState=ts,s.startState=od,s.innerMode=Cu,s.commands=Qu,s.keyMap=ss,s.keyName=Vx,s.isModifierKey=Hx,s.lookupKey=Ga,s.normalizeKeyMap=hN,s.StringStream=Re,s.SharedTextMarker=Ku,s.TextMarker=Gs,s.LineWidget=qu,s.e_preventDefault=Sn,s.e_stopPropagation=id,s.e_stop=Wo,s.addClass=X,s.contains=q,s.rmClass=B,s.keyNames=Xs}IN(Te),NN(Te);var zN="iter insert remove copy getEditor constructor".split(" ");for(var Bd in Wn.prototype)Wn.prototype.hasOwnProperty(Bd)&&jt(zN,Bd)<0&&(Te.prototype[Bd]=function(s){return function(){return s.apply(this.doc,arguments)}}(Wn.prototype[Bd]));return Hs(Wn),Te.inputStyles={textarea:$e,contenteditable:oe},Te.defineMode=function(s){!Te.defaults.mode&&s!="null"&&(Te.defaults.mode=s),vm.apply(this,arguments)},Te.defineMIME=_m,Te.defineMode("null",function(){return{token:function(s){return s.skipToEnd()}}}),Te.defineMIME("text/plain","null"),Te.defineExtension=function(s,l){Te.prototype[s]=l},Te.defineDocExtension=function(s,l){Wn.prototype[s]=l},Te.fromTextArea=PN,BN(Te),Te.version="5.65.18",Te})}(t0)),t0.exports}var M8=Yg();const I8=a_(M8);var A8={exports:{}};(function(e,t){(function(n){n(Yg())})(function(n){n.defineMode("sql",function(g,y){var v=y.client||{},b=y.atoms||{false:!0,true:!0,null:!0},k=y.builtin||c(p),T=y.keywords||c(u),D=y.operatorChars||/^[*+\-%<>!=&|~^\/]/,w=y.support||{},S=y.hooks||{},C=y.dateSQL||{date:!0,time:!0,timestamp:!0},I=y.backslashStringEscapes!==!1,L=y.brackets||/^[\{}\(\)\[\]]/,R=y.punctuation||/^[;.,:]/;function F(B,G){var A=B.next();if(S[A]){var O=S[A](B,G);if(O!==!1)return O}if(w.hexNumber&&(A=="0"&&B.match(/^[xX][0-9a-fA-F]+/)||(A=="x"||A=="X")&&B.match(/^'[0-9a-fA-F]*'/)))return"number";if(w.binaryNumber&&((A=="b"||A=="B")&&B.match(/^'[01]*'/)||A=="0"&&B.match(/^b[01]+/)))return"number";if(A.charCodeAt(0)>47&&A.charCodeAt(0)<58)return B.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),w.decimallessFloat&&B.match(/^\.(?!\.)/),"number";if(A=="?"&&(B.eatSpace()||B.eol()||B.eat(";")))return"variable-3";if(A=="'"||A=='"'&&w.doubleQuote)return G.tokenize=V(A),G.tokenize(B,G);if((w.nCharCast&&(A=="n"||A=="N")||w.charsetCast&&A=="_"&&B.match(/[a-z][a-z0-9]*/i))&&(B.peek()=="'"||B.peek()=='"'))return"keyword";if(w.escapeConstant&&(A=="e"||A=="E")&&(B.peek()=="'"||B.peek()=='"'&&w.doubleQuote))return G.tokenize=function(Q,q){return(q.tokenize=V(Q.next(),!0))(Q,q)},"keyword";if(w.commentSlashSlash&&A=="/"&&B.eat("/"))return B.skipToEnd(),"comment";if(w.commentHash&&A=="#"||A=="-"&&B.eat("-")&&(!w.commentSpaceRequired||B.eat(" ")))return B.skipToEnd(),"comment";if(A=="/"&&B.eat("*"))return G.tokenize=j(1),G.tokenize(B,G);if(A=="."){if(w.zerolessFloat&&B.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return"number";if(B.match(/^\.+/))return null;if(B.match(/^[\w\d_$#]+/))return"variable-2"}else{if(D.test(A))return B.eatWhile(D),"operator";if(L.test(A))return"bracket";if(R.test(A))return B.eatWhile(R),"punctuation";if(A=="{"&&(B.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||B.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";B.eatWhile(/^[_\w\d]/);var H=B.current().toLowerCase();return C.hasOwnProperty(H)&&(B.match(/^( )+'[^']*'/)||B.match(/^( )+"[^"]*"/))?"number":b.hasOwnProperty(H)?"atom":k.hasOwnProperty(H)?"type":T.hasOwnProperty(H)?"keyword":v.hasOwnProperty(H)?"builtin":null}}function V(B,G){return function(A,O){for(var H=!1,Q;(Q=A.next())!=null;){if(Q==B&&!H){O.tokenize=F;break}H=(I||G)&&!H&&Q=="\\"}return"string"}}function j(B){return function(G,A){var O=G.match(/^.*?(\/\*|\*\/)/);return O?O[1]=="/*"?A.tokenize=j(B+1):B>1?A.tokenize=j(B-1):A.tokenize=F:G.skipToEnd(),"comment"}}function U(B,G,A){G.context={prev:G.context,indent:B.indentation(),col:B.column(),type:A}}function $(B){B.indent=B.context.indent,B.context=B.context.prev}return{startState:function(){return{tokenize:F,context:null}},token:function(B,G){if(B.sol()&&G.context&&G.context.align==null&&(G.context.align=!1),G.tokenize==F&&B.eatSpace())return null;var A=G.tokenize(B,G);if(A=="comment")return A;G.context&&G.context.align==null&&(G.context.align=!0);var O=B.current();return O=="("?U(B,G,")"):O=="["?U(B,G,"]"):G.context&&G.context.type==O&&$(G),A},indent:function(B,G){var A=B.context;if(!A)return n.Pass;var O=G.charAt(0)==A.type;return A.align?A.col+(O?0:1):A.indent+(O?0:g.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:w.commentSlashSlash?"//":w.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``",config:y}});function i(g){for(var y;(y=g.next())!=null;)if(y=="`"&&!g.eat("`"))return"variable-2";return g.backUp(g.current().length-1),g.eatWhile(/\w/)?"variable-2":null}function r(g){for(var y;(y=g.next())!=null;)if(y=='"'&&!g.eat('"'))return"variable-2";return g.backUp(g.current().length-1),g.eatWhile(/\w/)?"variable-2":null}function o(g){return g.eat("@")&&(g.match("session."),g.match("local."),g.match("global.")),g.eat("'")?(g.match(/^.*'/),"variable-2"):g.eat('"')?(g.match(/^.*"/),"variable-2"):g.eat("`")?(g.match(/^.*`/),"variable-2"):g.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function a(g){return g.eat("N")?"atom":g.match(/^[a-zA-Z.#!?]/)?"variable-2":null}var u="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function c(g){for(var y={},v=g.split(" "),b=0;b<v.length;++b)y[v[b]]=!0;return y}var p="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";n.defineMIME("text/x-sql",{name:"sql",keywords:c(u+"begin"),builtin:c(p),atoms:c("false true null unknown"),dateSQL:c("date time timestamp"),support:c("doubleQuote binaryNumber hexNumber")}),n.defineMIME("text/x-mssql",{name:"sql",client:c("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:c(u+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:c("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:c("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:c("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":o}}),n.defineMIME("text/x-mysql",{name:"sql",client:c("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:c(u+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:c("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:c("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:c("date time timestamp"),support:c("decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":o,"`":i,"\\":a}}),n.defineMIME("text/x-mariadb",{name:"sql",client:c("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:c(u+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group group_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:c("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:c("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:c("date time timestamp"),support:c("decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":o,"`":i,"\\":a}}),n.defineMIME("text/x-sqlite",{name:"sql",client:c("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:c(u+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:c("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:c("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:c("date time timestamp datetime"),support:c("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":o,":":o,"?":o,$:o,'"':r,"`":i}}),n.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:c("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:c("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:c("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:c("commentSlashSlash decimallessFloat"),hooks:{}}),n.defineMIME("text/x-plsql",{name:"sql",client:c("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:c("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:c("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:c("date time timestamp"),support:c("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),n.defineMIME("text/x-hive",{name:"sql",keywords:c("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:c("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:c("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:c("date timestamp"),support:c("doubleQuote binaryNumber hexNumber")}),n.defineMIME("text/x-pgsql",{name:"sql",client:c("source"),keywords:c(u+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:c("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time zone timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:c("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:!1,dateSQL:c("date time timestamp"),support:c("decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")}),n.defineMIME("text/x-gql",{name:"sql",keywords:c("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:c("false true"),builtin:c("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),n.defineMIME("text/x-gpsql",{name:"sql",client:c("source"),keywords:c("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:c("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:c("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:c("date time timestamp"),support:c("decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),n.defineMIME("text/x-sparksql",{name:"sql",keywords:c("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases data dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:c("abs acos acosh add_months aggregate and any approx_count_distinct approx_percentile array array_contains array_distinct array_except array_intersect array_join array_max array_min array_position array_remove array_repeat array_sort array_union arrays_overlap arrays_zip ascii asin asinh assert_true atan atan2 atanh avg base64 between bigint bin binary bit_and bit_count bit_get bit_length bit_or bit_xor bool_and bool_or boolean bround btrim cardinality case cast cbrt ceil ceiling char char_length character_length chr coalesce collect_list collect_set concat concat_ws conv corr cos cosh cot count count_if count_min_sketch covar_pop covar_samp crc32 cume_dist current_catalog current_database current_date current_timestamp current_timezone current_user date date_add date_format date_from_unix_date date_part date_sub date_trunc datediff day dayofmonth dayofweek dayofyear decimal decode degrees delimited dense_rank div double e element_at elt encode every exists exp explode explode_outer expm1 extract factorial filter find_in_set first first_value flatten float floor forall format_number format_string from_csv from_json from_unixtime from_utc_timestamp get_json_object getbit greatest grouping grouping_id hash hex hour hypot if ifnull in initcap inline inline_outer input_file_block_length input_file_block_start input_file_name inputformat instr int isnan isnotnull isnull java_method json_array_length json_object_keys json_tuple kurtosis lag last last_day last_value lcase lead least left length levenshtein like ln locate log log10 log1p log2 lower lpad ltrim make_date make_dt_interval make_interval make_timestamp make_ym_interval map map_concat map_entries map_filter map_from_arrays map_from_entries map_keys map_values map_zip_with max max_by md5 mean min min_by minute mod monotonically_increasing_id month months_between named_struct nanvl negative next_day not now nth_value ntile nullif nvl nvl2 octet_length or outputformat overlay parse_url percent_rank percentile percentile_approx pi pmod posexplode posexplode_outer position positive pow power printf quarter radians raise_error rand randn random rank rcfile reflect regexp regexp_extract regexp_extract_all regexp_like regexp_replace repeat replace reverse right rint rlike round row_number rpad rtrim schema_of_csv schema_of_json second sentences sequence sequencefile serde session_window sha sha1 sha2 shiftleft shiftright shiftrightunsigned shuffle sign signum sin sinh size skewness slice smallint some sort_array soundex space spark_partition_id split sqrt stack std stddev stddev_pop stddev_samp str_to_map string struct substr substring substring_index sum tan tanh textfile timestamp timestamp_micros timestamp_millis timestamp_seconds tinyint to_csv to_date to_json to_timestamp to_unix_timestamp to_utc_timestamp transform transform_keys transform_values translate trim trunc try_add try_divide typeof ucase unbase64 unhex uniontype unix_date unix_micros unix_millis unix_seconds unix_timestamp upper uuid var_pop var_samp variance version weekday weekofyear when width_bucket window xpath xpath_boolean xpath_double xpath_float xpath_int xpath_long xpath_number xpath_short xpath_string xxhash64 year zip_with"),atoms:c("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:c("date time timestamp"),support:c("doubleQuote zerolessFloat")}),n.defineMIME("text/x-esper",{name:"sql",client:c("source"),keywords:c("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:c("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:c("time"),support:c("decimallessFloat zerolessFloat binaryNumber hexNumber")}),n.defineMIME("text/x-trino",{name:"sql",keywords:c("abs absent acos add admin after all all_match alter analyze and any any_match approx_distinct approx_most_frequent approx_percentile approx_set arbitrary array_agg array_distinct array_except array_intersect array_join array_max array_min array_position array_remove array_sort array_union arrays_overlap as asc asin at at_timezone atan atan2 authorization avg bar bernoulli beta_cdf between bing_tile bing_tile_at bing_tile_coordinates bing_tile_polygon bing_tile_quadkey bing_tile_zoom_level bing_tiles_around bit_count bitwise_and bitwise_and_agg bitwise_left_shift bitwise_not bitwise_or bitwise_or_agg bitwise_right_shift bitwise_right_shift_arithmetic bitwise_xor bool_and bool_or both by call cardinality cascade case cast catalogs cbrt ceil ceiling char2hexint checksum chr classify coalesce codepoint column columns combinations comment commit committed concat concat_ws conditional constraint contains contains_sequence convex_hull_agg copartition corr cos cosh cosine_similarity count count_if covar_pop covar_samp crc32 create cross cube cume_dist current current_catalog current_date current_groups current_path current_role current_schema current_time current_timestamp current_timezone current_user data date_add date_diff date_format date_parse date_trunc day day_of_month day_of_week day_of_year deallocate default define definer degrees delete dense_rank deny desc describe descriptor distinct distributed dow doy drop e element_at else empty empty_approx_set encoding end error escape evaluate_classifier_predictions every except excluding execute exists exp explain extract false features fetch filter final first first_value flatten floor following for format format_datetime format_number from from_base from_base32 from_base64 from_base64url from_big_endian_32 from_big_endian_64 from_encoded_polyline from_geojson_geometry from_hex from_ieee754_32 from_ieee754_64 from_iso8601_date from_iso8601_timestamp from_iso8601_timestamp_nanos from_unixtime from_unixtime_nanos from_utf8 full functions geometric_mean geometry_from_hadoop_shape geometry_invalid_reason geometry_nearest_points geometry_to_bing_tiles geometry_union geometry_union_agg grant granted grants graphviz great_circle_distance greatest group grouping groups hamming_distance hash_counts having histogram hmac_md5 hmac_sha1 hmac_sha256 hmac_sha512 hour human_readable_seconds if ignore in including index infinity initial inner input insert intersect intersection_cardinality into inverse_beta_cdf inverse_normal_cdf invoker io is is_finite is_infinite is_json_scalar is_nan isolation jaccard_index join json_array json_array_contains json_array_get json_array_length json_exists json_extract json_extract_scalar json_format json_object json_parse json_query json_size json_value keep key keys kurtosis lag last last_day_of_month last_value lateral lead leading learn_classifier learn_libsvm_classifier learn_libsvm_regressor learn_regressor least left length level levenshtein_distance like limit line_interpolate_point line_interpolate_points line_locate_point listagg ln local localtime localtimestamp log log10 log2 logical lower lpad ltrim luhn_check make_set_digest map_agg map_concat map_entries map_filter map_from_entries map_keys map_union map_values map_zip_with match match_recognize matched matches materialized max max_by md5 measures merge merge_set_digest millisecond min min_by minute mod month multimap_agg multimap_from_entries murmur3 nan natural next nfc nfd nfkc nfkd ngrams no none none_match normal_cdf normalize not now nth_value ntile null nullif nulls numeric_histogram object objectid_timestamp of offset omit on one only option or order ordinality outer output over overflow parse_data_size parse_datetime parse_duration partition partitions passing past path pattern per percent_rank permute pi position pow power preceding prepare privileges properties prune qdigest_agg quarter quotes radians rand random range rank read recursive reduce reduce_agg refresh regexp_count regexp_extract regexp_extract_all regexp_like regexp_position regexp_replace regexp_split regr_intercept regr_slope regress rename render repeat repeatable replace reset respect restrict returning reverse revoke rgb right role roles rollback rollup round row_number rows rpad rtrim running scalar schema schemas second security seek select sequence serializable session set sets sha1 sha256 sha512 show shuffle sign simplify_geometry sin skewness skip slice some soundex spatial_partitioning spatial_partitions split split_part split_to_map split_to_multimap spooky_hash_v2_32 spooky_hash_v2_64 sqrt st_area st_asbinary st_astext st_boundary st_buffer st_centroid st_contains st_convexhull st_coorddim st_crosses st_difference st_dimension st_disjoint st_distance st_endpoint st_envelope st_envelopeaspts st_equals st_exteriorring st_geometries st_geometryfromtext st_geometryn st_geometrytype st_geomfrombinary st_interiorringn st_interiorrings st_intersection st_intersects st_isclosed st_isempty st_isring st_issimple st_isvalid st_length st_linefromtext st_linestring st_multipoint st_numgeometries st_numinteriorring st_numpoints st_overlaps st_point st_pointn st_points st_polygon st_relate st_startpoint st_symdifference st_touches st_union st_within st_x st_xmax st_xmin st_y st_ymax st_ymin start starts_with stats stddev stddev_pop stddev_samp string strpos subset substr substring sum system table tables tablesample tan tanh tdigest_agg text then ties timestamp_objectid timezone_hour timezone_minute to to_base to_base32 to_base64 to_base64url to_big_endian_32 to_big_endian_64 to_char to_date to_encoded_polyline to_geojson_geometry to_geometry to_hex to_ieee754_32 to_ieee754_64 to_iso8601 to_milliseconds to_spherical_geography to_timestamp to_unixtime to_utf8 trailing transaction transform transform_keys transform_values translate trim trim_array true truncate try try_cast type typeof uescape unbounded uncommitted unconditional union unique unknown unmatched unnest update upper url_decode url_encode url_extract_fragment url_extract_host url_extract_parameter url_extract_path url_extract_port url_extract_protocol url_extract_query use user using utf16 utf32 utf8 validate value value_at_quantile values values_at_quantiles var_pop var_samp variance verbose version view week week_of_year when where width_bucket wilson_interval_lower wilson_interval_upper window with with_timezone within without word_stem work wrapper write xxhash64 year year_of_week yow zip zip_with"),builtin:c("array bigint bingtile boolean char codepoints color date decimal double function geometry hyperloglog int integer interval ipaddress joniregexp json json2016 jsonpath kdbtree likepattern map model objectid p4hyperloglog precision qdigest re2jregexp real regressor row setdigest smallint sphericalgeography tdigest time timestamp tinyint uuid varbinary varchar zone"),atoms:c("false true null unknown"),operatorChars:/^[[\]|<>=!\-+*/%]/,dateSQL:c("date time timestamp zone"),support:c("decimallessFloat zerolessFloat hexNumber")})})})();var D8=A8.exports;(function(e,t){(function(n){n(Yg())})(function(n){var i="CodeMirror-hint",r="CodeMirror-hint-active";n.showHint=function(w,S,C){if(!S)return w.showHint(C);C&&C.async&&(S.async=!0);var I={hint:S};if(C)for(var L in C)I[L]=C[L];return w.showHint(I)},n.defineExtension("showHint",function(w){w=c(this,this.getCursor("start"),w);var S=this.listSelections();if(!(S.length>1)){if(this.somethingSelected()){if(!w.hint.supportsSelection)return;for(var C=0;C<S.length;C++)if(S[C].head.line!=S[C].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var I=this.state.completionActive=new o(this,w);I.options.hint&&(n.signal(this,"startCompletion",this),I.update(!0))}}),n.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function o(w,S){if(this.cm=w,this.options=S,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var C=this;w.on("cursorActivity",this.activityFunc=function(){C.cursorActivity()})}}var a=window.requestAnimationFrame||function(w){return setTimeout(w,1e3/60)},u=window.cancelAnimationFrame||clearTimeout;o.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&n.signal(this.data,"close"),this.widget&&this.widget.close(),n.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(w,S){var C=w.list[S],I=this;this.cm.operation(function(){C.hint?C.hint(I.cm,w,C):I.cm.replaceRange(p(C),C.from||w.from,C.to||w.to,"complete"),n.signal(w,"pick",C),I.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(u(this.debounce),this.debounce=0);var w=this.startPos;this.data&&(w=this.data.from);var S=this.cm.getCursor(),C=this.cm.getLine(S.line);if(S.line!=this.startPos.line||C.length-S.ch!=this.startLen-this.startPos.ch||S.ch<w.ch||this.cm.somethingSelected()||!S.ch||this.options.closeCharacters.test(C.charAt(S.ch-1)))this.close();else{var I=this;this.debounce=a(function(){I.update()}),this.widget&&this.widget.disable()}},update:function(w){if(this.tick!=null){var S=this,C=++this.tick;k(this.options.hint,this.cm,this.options,function(I){S.tick==C&&S.finishUpdate(I,w)})}},finishUpdate:function(w,S){this.data&&n.signal(this.data,"update");var C=this.widget&&this.widget.picked||S&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=w,w&&w.list.length&&(C&&w.list.length==1?this.pick(w,0):(this.widget=new v(this,w),n.signal(w,"shown")))}};function c(w,S,C){var I=w.options.hintOptions,L={};for(var R in D)L[R]=D[R];if(I)for(var R in I)I[R]!==void 0&&(L[R]=I[R]);if(C)for(var R in C)C[R]!==void 0&&(L[R]=C[R]);return L.hint.resolve&&(L.hint=L.hint.resolve(w,S)),L}function p(w){return typeof w=="string"?w:w.text}function g(w,S){var C={Up:function(){S.moveFocus(-1)},Down:function(){S.moveFocus(1)},PageUp:function(){S.moveFocus(-S.menuSize()+1,!0)},PageDown:function(){S.moveFocus(S.menuSize()-1,!0)},Home:function(){S.setFocus(0)},End:function(){S.setFocus(S.length-1)},Enter:S.pick,Tab:S.pick,Esc:S.close},I=/Mac/.test(navigator.platform);I&&(C["Ctrl-P"]=function(){S.moveFocus(-1)},C["Ctrl-N"]=function(){S.moveFocus(1)});var L=w.options.customKeys,R=L?{}:C;function F(U,$){var B;typeof $!="string"?B=function(G){return $(G,S)}:C.hasOwnProperty($)?B=C[$]:B=$,R[U]=B}if(L)for(var V in L)L.hasOwnProperty(V)&&F(V,L[V]);var j=w.options.extraKeys;if(j)for(var V in j)j.hasOwnProperty(V)&&F(V,j[V]);return R}function y(w,S){for(;S&&S!=w;){if(S.nodeName.toUpperCase()==="LI"&&S.parentNode==w)return S;S=S.parentNode}}function v(w,S){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=w,this.data=S,this.picked=!1;var C=this,I=w.cm,L=I.getInputField().ownerDocument,R=L.defaultView||L.parentWindow,F=this.hints=L.createElement("ul");F.setAttribute("role","listbox"),F.setAttribute("aria-expanded","true"),F.id=this.id;var V=w.cm.options.theme;F.className="CodeMirror-hints "+V,this.selectedHint=S.selectedHint||0;for(var j=S.list,U=0;U<j.length;++U){var $=F.appendChild(L.createElement("li")),B=j[U],G=i+(U!=this.selectedHint?"":" "+r);B.className!=null&&(G=B.className+" "+G),$.className=G,U==this.selectedHint&&$.setAttribute("aria-selected","true"),$.id=this.id+"-"+U,$.setAttribute("role","option"),B.render?B.render($,S,B):$.appendChild(L.createTextNode(B.displayText||p(B))),$.hintId=U}var A=w.options.container||L.body,O=I.cursorCoords(w.options.alignWithWord?S.from:null),H=O.left,Q=O.bottom,q=!0,z=0,X=0;if(A!==L.body){var J=["absolute","relative","fixed"].indexOf(R.getComputedStyle(A).position)!==-1,tt=J?A:A.offsetParent,at=tt.getBoundingClientRect(),rt=L.body.getBoundingClientRect();z=at.left-rt.left-tt.scrollLeft,X=at.top-rt.top-tt.scrollTop}F.style.left=H-z+"px",F.style.top=Q-X+"px";var dt=R.innerWidth||Math.max(L.body.offsetWidth,L.documentElement.offsetWidth),mt=R.innerHeight||Math.max(L.body.offsetHeight,L.documentElement.offsetHeight);A.appendChild(F),I.getInputField().setAttribute("aria-autocomplete","list"),I.getInputField().setAttribute("aria-owns",this.id),I.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var _t=w.options.moveOnOverlap?F.getBoundingClientRect():new DOMRect,$t=w.options.paddingForScrollbar?F.scrollHeight>F.clientHeight+1:!1,Mt;setTimeout(function(){Mt=I.getScrollInfo()});var Ut=_t.bottom-mt;if(Ut>0){var jt=_t.bottom-_t.top,be=_t.top-(O.bottom-O.top)-2;mt-_t.top<be?(jt>be&&(F.style.height=(jt=be)+"px"),F.style.top=(Q=O.top-jt)+X+"px",q=!1):F.style.height=mt-_t.top-2+"px"}var Ce=_t.right-dt;if($t&&(Ce+=I.display.nativeBarWidth),Ce>0&&(_t.right-_t.left>dt&&(F.style.width=dt-5+"px",Ce-=_t.right-_t.left-dt),F.style.left=(H=Math.max(O.left-Ce-z,0))+"px"),$t)for(var ne=F.firstChild;ne;ne=ne.nextSibling)ne.style.paddingRight=I.display.nativeBarWidth+"px";if(I.addKeyMap(this.keyMap=g(w,{moveFocus:function(Bt,pt){C.changeActive(C.selectedHint+Bt,pt)},setFocus:function(Bt){C.changeActive(Bt)},menuSize:function(){return C.screenAmount()},length:j.length,close:function(){w.close()},pick:function(){C.pick()},data:S})),w.options.closeOnUnfocus){var ge;I.on("blur",this.onBlur=function(){ge=setTimeout(function(){w.close()},100)}),I.on("focus",this.onFocus=function(){clearTimeout(ge)})}I.on("scroll",this.onScroll=function(){var Bt=I.getScrollInfo(),pt=I.getWrapperElement().getBoundingClientRect();Mt||(Mt=I.getScrollInfo());var Ve=Q+Mt.top-Bt.top,zt=Ve-(R.pageYOffset||(L.documentElement||L.body).scrollTop);if(q||(zt+=F.offsetHeight),zt<=pt.top||zt>=pt.bottom)return w.close();F.style.top=Ve+"px",F.style.left=H+Mt.left-Bt.left+"px"}),n.on(F,"dblclick",function(Bt){var pt=y(F,Bt.target||Bt.srcElement);pt&&pt.hintId!=null&&(C.changeActive(pt.hintId),C.pick())}),n.on(F,"click",function(Bt){var pt=y(F,Bt.target||Bt.srcElement);pt&&pt.hintId!=null&&(C.changeActive(pt.hintId),w.options.completeOnSingleClick&&C.pick())}),n.on(F,"mousedown",function(){setTimeout(function(){I.focus()},20)});var We=this.getSelectedHintRange();return(We.from!==0||We.to!==0)&&this.scrollToActive(),n.signal(S,"select",j[this.selectedHint],F.childNodes[this.selectedHint]),!0}v.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var w=this.completion.cm.getInputField();w.removeAttribute("aria-activedescendant"),w.removeAttribute("aria-owns");var S=this.completion.cm;this.completion.options.closeOnUnfocus&&(S.off("blur",this.onBlur),S.off("focus",this.onFocus)),S.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var w=this;this.keyMap={Enter:function(){w.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(w,S){if(w>=this.data.list.length?w=S?this.data.list.length-1:0:w<0&&(w=S?0:this.data.list.length-1),this.selectedHint!=w){var C=this.hints.childNodes[this.selectedHint];C&&(C.className=C.className.replace(" "+r,""),C.removeAttribute("aria-selected")),C=this.hints.childNodes[this.selectedHint=w],C.className+=" "+r,C.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",C.id),this.scrollToActive(),n.signal(this.data,"select",this.data.list[this.selectedHint],C)}},scrollToActive:function(){var w=this.getSelectedHintRange(),S=this.hints.childNodes[w.from],C=this.hints.childNodes[w.to],I=this.hints.firstChild;S.offsetTop<this.hints.scrollTop?this.hints.scrollTop=S.offsetTop-I.offsetTop:C.offsetTop+C.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=C.offsetTop+C.offsetHeight-this.hints.clientHeight+I.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var w=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-w),to:Math.min(this.data.list.length-1,this.selectedHint+w)}}};function b(w,S){if(!w.somethingSelected())return S;for(var C=[],I=0;I<S.length;I++)S[I].supportsSelection&&C.push(S[I]);return C}function k(w,S,C,I){if(w.async)w(S,I,C);else{var L=w(S,C);L&&L.then?L.then(I):I(L)}}function T(w,S){var C=w.getHelpers(S,"hint"),I;if(C.length){var L=function(R,F,V){var j=b(R,C);function U($){if($==j.length)return F(null);k(j[$],R,V,function(B){B&&B.list.length>0?F(B):U($+1)})}U(0)};return L.async=!0,L.supportsSelection=!0,L}else return(I=w.getHelper(w.getCursor(),"hintWords"))?function(R){return n.hint.fromList(R,{words:I})}:n.hint.anyword?function(R,F){return n.hint.anyword(R,F)}:function(){}}n.registerHelper("hint","auto",{resolve:T}),n.registerHelper("hint","fromList",function(w,S){var C=w.getCursor(),I=w.getTokenAt(C),L,R=n.Pos(C.line,I.start),F=C;I.start<C.ch&&/\w/.test(I.string.charAt(C.ch-I.start-1))?L=I.string.substr(0,C.ch-I.start):(L="",R=C);for(var V=[],j=0;j<S.words.length;j++){var U=S.words[j];U.slice(0,L.length)==L&&V.push(U)}if(V.length)return{list:V,from:R,to:F}}),n.commands.autocomplete=n.showHint;var D={hint:n.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};n.defineOption("hintOptions",null)})})();(function(e,t){(function(n){n(Yg(),D8)})(function(n){var i,r,o,a,u={QUERY_DIV:";",ALIAS_KEYWORD:"AS"},c=n.Pos,p=n.cmpPos;function g(U){return Object.prototype.toString.call(U)=="[object Array]"}function y(U,$){return U.getModeAt(U.getCursor()).config[$]||n.resolveMode("text/x-sql")[$]}function v(U){return y(U,"keywords")||[]}function b(U){return y(U,"identifierQuote")||"`"}function k(U){return typeof U=="string"?U:U.text}function T(U,$){return g($)&&($={columns:$}),$.text||($.text=U),$}function D(U){var $={};if(g(U))for(var B=U.length-1;B>=0;B--){var G=U[B];$[k(G).toUpperCase()]=T(k(G),G)}else if(U)for(var A in U)$[A.toUpperCase()]=T(A,U[A]);return $}function w(U){return i[U.toUpperCase()]}function S(U){var $={};for(var B in U)U.hasOwnProperty(B)&&($[B]=U[B]);return $}function C(U,$){var B=U.length,G=k($).substr(0,B);return U.toUpperCase()===G.toUpperCase()}function I(U,$,B,G){if(g(B))for(var A=0;A<B.length;A++)C($,B[A])&&U.push(G(B[A]));else for(var O in B)if(B.hasOwnProperty(O)){var H=B[O];!H||H===!0?H=O:H=H.displayText?{text:H.text,displayText:H.displayText}:H.text,C($,H)&&U.push(G(H))}}function L(U){U.charAt(0)=="."&&(U=U.substr(1));for(var $=U.split(a+a),B=0;B<$.length;B++)$[B]=$[B].replace(new RegExp(a,"g"),"");return $.join(a)}function R(U){for(var $=k(U).split("."),B=0;B<$.length;B++)$[B]=a+$[B].replace(new RegExp(a,"g"),a+a)+a;var G=$.join(".");return typeof U=="string"?G:(U=S(U),U.text=G,U)}function F(U,$,B,G){for(var A=!1,O=[],H=$.start,Q=!0;Q;)Q=$.string.charAt(0)==".",A=A||$.string.charAt(0)==a,H=$.start,O.unshift(L($.string)),$=G.getTokenAt(c(U.line,$.start)),$.string=="."&&(Q=!0,$=G.getTokenAt(c(U.line,$.start)));var q=O.join(".");I(B,q,i,function(rt){return A?R(rt):rt}),I(B,q,r,function(rt){return A?R(rt):rt}),q=O.pop();var z=O.join("."),X=!1,J=z;if(!w(z)){var tt=z;z=j(z,G),z!==tt&&(X=!0)}var at=w(z);return at&&at.columns&&(at=at.columns),at&&I(B,q,at,function(rt){var dt=z;return X==!0&&(dt=J),typeof rt=="string"?rt=dt+"."+rt:(rt=S(rt),rt.text=dt+"."+rt.text),A?R(rt):rt}),H}function V(U,$){for(var B=U.split(/\s+/),G=0;G<B.length;G++)B[G]&&$(B[G].replace(/[`,;]/g,""))}function j(U,$){for(var B=$.doc,G=B.getValue(),A=U.toUpperCase(),O="",H="",Q=[],q={start:c(0,0),end:c($.lastLine(),$.getLineHandle($.lastLine()).length)},z=G.indexOf(u.QUERY_DIV);z!=-1;)Q.push(B.posFromIndex(z)),z=G.indexOf(u.QUERY_DIV,z+1);Q.unshift(c(0,0)),Q.push(c($.lastLine(),$.getLineHandle($.lastLine()).text.length));for(var X=null,J=$.getCursor(),tt=0;tt<Q.length;tt++){if((X==null||p(J,X)>0)&&p(J,Q[tt])<=0){q={start:X,end:Q[tt]};break}X=Q[tt]}if(q.start)for(var at=B.getRange(q.start,q.end,!1),tt=0;tt<at.length;tt++){var rt=at[tt];if(V(rt,function(mt){var _t=mt.toUpperCase();_t===A&&w(O)&&(H=O),_t!==u.ALIAS_KEYWORD&&(O=mt)}),H)break}return H}n.registerHelper("hint","sql",function(U,$){i=D($&&$.tables);var B=$&&$.defaultTable,G=$&&$.disableKeywords;r=B&&w(B),o=v(U),a=b(U),B&&!r&&(r=j(B,U)),r=r||[],r.columns&&(r=r.columns);var A=U.getCursor(),O=[],H=U.getTokenAt(A),Q,q,z;if(H.end>A.ch&&(H.end=A.ch,H.string=H.string.slice(0,A.ch-H.start)),H.string.match(/^[.`"'\w@][\w$#]*$/g)?(z=H.string,Q=H.start,q=H.end):(Q=q=A.ch,z=""),z.charAt(0)=="."||z.charAt(0)==a)Q=F(A,H,O,U);else{var X=function(J,tt){return typeof J=="object"?J.className=tt:J={text:J,className:tt},J};I(O,z,r,function(J){return X(J,"CodeMirror-hint-table CodeMirror-hint-default-table")}),I(O,z,i,function(J){return X(J,"CodeMirror-hint-table")}),G||I(O,z,o,function(J){return X(J.toUpperCase(),"CodeMirror-hint-keyword")})}return{list:O,from:c(A.line,Q),to:c(A.line,q)}})})})();const L8=({data:e})=>{const t=Z.useRef(null),n=Z.useRef(null);Z.useEffect(()=>{t.current&&!n.current&&(n.current=I8(t.current,{mode:"text/x-sql",theme:"monokai",lineNumbers:!0,extraKeys:{"Ctrl-Space":"autocomplete"}}),n.current.setValue("SELECT * FROM csv_data LIMIT 10;"))},[]);const i=()=>{const r=n.current.getValue();e.onRunQuery(r)};return xg("div",{style:{padding:"10px",border:"1px solid #ddd",borderRadius:"5px",background:"white"},children:[yn(Io,{type:"target",position:"top",id:"a"}),yn("div",{children:e.label}),yn("div",{ref:t,style:{marginBottom:"10px"}}),yn("button",{onClick:i,children:"Run Query"}),yn("div",{style:{marginTop:"10px",maxHeight:"100px",overflowY:"auto"},children:e.result}),yn(Io,{type:"source",position:"bottom",id:"b"})]})};/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function ls(){}const N8=function(){let e=0;return function(){return e++}}();function ee(e){return e===null||typeof e>"u"}function ke(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Xt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const Ze=e=>(typeof e=="number"||e instanceof Number)&&isFinite(+e);function Oi(e,t){return Ze(e)?e:t}function Vt(e,t){return typeof e>"u"?t:e}const O8=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:e/t,zI=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function xe(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function he(e,t,n,i){let r,o,a;if(ke(e))if(o=e.length,i)for(r=o-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<o;r++)t.call(n,e[r],r);else if(Xt(e))for(a=Object.keys(e),o=a.length,r=0;r<o;r++)t.call(n,e[a[r]],a[r])}function Op(e,t){let n,i,r,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],o=t[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Rp(e){if(ke(e))return e.map(Rp);if(Xt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=Rp(e[n[r]]);return t}return e}function UI(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function R8(e,t,n,i){if(!UI(e))return;const r=t[e],o=n[e];Xt(r)&&Xt(o)?Tf(r,o,i):t[e]=Rp(o)}function Tf(e,t,n){const i=ke(t)?t:[t],r=i.length;if(!Xt(e))return e;n=n||{};const o=n.merger||R8;for(let a=0;a<r;++a){if(t=i[a],!Xt(t))continue;const u=Object.keys(t);for(let c=0,p=u.length;c<p;++c)o(u[c],e,t,n)}return e}function Gc(e,t){return Tf(e,t,{merger:F8})}function F8(e,t,n){if(!UI(e))return;const i=t[e],r=n[e];Xt(i)&&Xt(r)?Gc(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Rp(r))}const lk={"":e=>e,x:e=>e.x,y:e=>e.y};function Ao(e,t){return(lk[t]||(lk[t]=P8(t)))(e)}function P8(e){const t=B8(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function B8(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function _b(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ki=e=>typeof e<"u",Do=e=>typeof e=="function",uk=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function z8(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Oe=Math.PI,ye=2*Oe,U8=ye+Oe,Fp=Number.POSITIVE_INFINITY,H8=Oe/180,qe=Oe/2,gc=Oe/4,ck=Oe*2/3,Hi=Math.log10,Vr=Math.sign;function fk(e){const t=Math.round(e);e=Xc(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Hi(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function W8(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,o)=>r-o).pop(),t}function ru(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Xc(e,t,n){return Math.abs(e-t)<n}function V8(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function HI(e,t,n){let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function fr(e){return e*(Oe/180)}function bb(e){return e*(180/Oe)}function dk(e){if(!Ze(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function WI(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*Oe&&(o+=ye),{angle:o,distance:r}}function Ov(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $8(e,t){return(e-t+U8)%ye-Oe}function bi(e){return(e%ye+ye)%ye}function Mf(e,t,n,i){const r=bi(e),o=bi(t),a=bi(n),u=bi(o-r),c=bi(a-r),p=bi(r-o),g=bi(r-a);return r===o||r===a||i&&o===a||u>c&&p<g}function vn(e,t,n){return Math.max(t,Math.min(n,e))}function j8(e){return vn(e,-32768,32767)}function Ss(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function wb(e,t,n){n=n||(a=>e[a]<t);let i=e.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,n(o)?r=o:i=o;return{lo:r,hi:i}}const ks=(e,t,n,i)=>wb(e,n,i?r=>e[r][t]<=n:r=>e[r][t]<n),Y8=(e,t,n)=>wb(e,n,i=>e[i][t]>=n);function q8(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const VI=["push","pop","shift","splice","unshift"];function K8(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),VI.forEach(n=>{const i="_onData"+_b(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const a=r.apply(this,o);return e._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),a}})})}function hk(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(VI.forEach(o=>{delete e[o]}),delete e._chartjs)}function $I(e){const t=new Set;let n,i;for(n=0,i=e.length;n<i;++n)t.add(e[n]);return t.size===i?e:Array.from(t)}const jI=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function YI(e,t,n){const i=n||(a=>Array.prototype.slice.call(a));let r=!1,o=[];return function(...a){o=i(a),r||(r=!0,jI.call(window,()=>{r=!1,e.apply(t,o)}))}}function G8(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const xb=e=>e==="start"?"left":e==="end"?"right":"center",On=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,X8=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function qI(e,t,n){const i=t.length;let r=0,o=i;if(e._sorted){const{iScale:a,_parsed:u}=e,c=a.axis,{min:p,max:g,minDefined:y,maxDefined:v}=a.getUserBounds();y&&(r=vn(Math.min(ks(u,a.axis,p).lo,n?i:ks(t,c,a.getPixelForValue(p)).lo),0,i-1)),v?o=vn(Math.max(ks(u,a.axis,g,!0).hi+1,n?0:ks(t,c,a.getPixelForValue(g),!0).hi+1),r,i)-r:o=i-r}return{start:r,count:o}}function KI(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}const fh=e=>e===0||e===1,pk=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ye/n)),gk=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ye/n)+1,Qc={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*qe)+1,easeOutSine:e=>Math.sin(e*qe),easeInOutSine:e=>-.5*(Math.cos(Oe*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>fh(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>fh(e)?e:pk(e,.075,.3),easeOutElastic:e=>fh(e)?e:gk(e,.075,.3),easeInOutElastic(e){return fh(e)?e:e<.5?.5*pk(e*2,.1125,.45):.5+.5*gk(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Qc.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Qc.easeInBounce(e*2)*.5:Qc.easeOutBounce(e*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Yf(e){return e+.5|0}const go=(e,t,n)=>Math.max(Math.min(e,n),t);function Ic(e){return go(Yf(e*2.55),0,255)}function Co(e){return go(Yf(e*255),0,255)}function ys(e){return go(Yf(e/2.55)/100,0,1)}function mk(e){return go(Yf(e*100),0,100)}const Li={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rv=[..."0123456789ABCDEF"],Q8=e=>Rv[e&15],Z8=e=>Rv[(e&240)>>4]+Rv[e&15],dh=e=>(e&240)>>4===(e&15),J8=e=>dh(e.r)&&dh(e.g)&&dh(e.b)&&dh(e.a);function tU(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Li[e[1]]*17,g:255&Li[e[2]]*17,b:255&Li[e[3]]*17,a:t===5?Li[e[4]]*17:255}:(t===7||t===9)&&(n={r:Li[e[1]]<<4|Li[e[2]],g:Li[e[3]]<<4|Li[e[4]],b:Li[e[5]]<<4|Li[e[6]],a:t===9?Li[e[7]]<<4|Li[e[8]]:255})),n}const eU=(e,t)=>e<255?t(e):"";function nU(e){var t=J8(e)?Q8:Z8;return e?"#"+t(e.r)+t(e.g)+t(e.b)+eU(e.a,t):void 0}const iU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GI(e,t,n){const i=t*Math.min(n,1-n),r=(o,a=(o+e/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function rU(e,t,n){const i=(r,o=(r+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function sU(e,t,n){const i=GI(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function oU(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function Sb(e){const n=e.r/255,i=e.g/255,r=e.b/255,o=Math.max(n,i,r),a=Math.min(n,i,r),u=(o+a)/2;let c,p,g;return o!==a&&(g=o-a,p=u>.5?g/(2-o-a):g/(o+a),c=oU(n,i,r,g,o),c=c*60+.5),[c|0,p||0,u]}function kb(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Co)}function Eb(e,t,n){return kb(GI,e,t,n)}function aU(e,t,n){return kb(sU,e,t,n)}function lU(e,t,n){return kb(rU,e,t,n)}function XI(e){return(e%360+360)%360}function uU(e){const t=iU.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Ic(+t[5]):Co(+t[5]));const r=XI(+t[2]),o=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=aU(r,o,a):t[1]==="hsv"?i=lU(r,o,a):i=Eb(r,o,a),{r:i[0],g:i[1],b:i[2],a:n}}function cU(e,t){var n=Sb(e);n[0]=XI(n[0]+t),n=Eb(n),e.r=n[0],e.g=n[1],e.b=n[2]}function fU(e){if(!e)return;const t=Sb(e),n=t[0],i=mk(t[1]),r=mk(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${ys(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const yk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vk={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dU(){const e={},t=Object.keys(vk),n=Object.keys(yk);let i,r,o,a,u;for(i=0;i<t.length;i++){for(a=u=t[i],r=0;r<n.length;r++)o=n[r],u=u.replace(o,yk[o]);o=parseInt(vk[a],16),e[u]=[o>>16&255,o>>8&255,o&255]}return e}let hh;function hU(e){hh||(hh=dU(),hh.transparent=[0,0,0,0]);const t=hh[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const pU=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gU(e){const t=pU.exec(e);let n=255,i,r,o;if(t){if(t[7]!==i){const a=+t[7];n=t[8]?Ic(a):go(a*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Ic(i):go(i,0,255)),r=255&(t[4]?Ic(r):go(r,0,255)),o=255&(t[6]?Ic(o):go(o,0,255)),{r:i,g:r,b:o,a:n}}}function mU(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ys(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const e0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ol=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function yU(e,t,n){const i=ol(ys(e.r)),r=ol(ys(e.g)),o=ol(ys(e.b));return{r:Co(e0(i+n*(ol(ys(t.r))-i))),g:Co(e0(r+n*(ol(ys(t.g))-r))),b:Co(e0(o+n*(ol(ys(t.b))-o))),a:e.a+n*(t.a-e.a)}}function ph(e,t,n){if(e){let i=Sb(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Eb(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function QI(e,t){return e&&Object.assign(t||{},e)}function _k(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Co(e[3]))):(t=QI(e,{r:0,g:0,b:0,a:1}),t.a=Co(t.a)),t}function vU(e){return e.charAt(0)==="r"?gU(e):uU(e)}class Pp{constructor(t){if(t instanceof Pp)return t;const n=typeof t;let i;n==="object"?i=_k(t):n==="string"&&(i=tU(t)||hU(t)||vU(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=QI(this._rgb);return t&&(t.a=ys(t.a)),t}set rgb(t){this._rgb=_k(t)}rgbString(){return this._valid?mU(this._rgb):void 0}hexString(){return this._valid?nU(this._rgb):void 0}hslString(){return this._valid?fU(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let o;const a=n===o?.5:n,u=2*a-1,c=i.a-r.a,p=((u*c===-1?u:(u+c)/(1+u*c))+1)/2;o=1-p,i.r=255&p*i.r+o*r.r+.5,i.g=255&p*i.g+o*r.g+.5,i.b=255&p*i.b+o*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=yU(this._rgb,t._rgb,n)),this}clone(){return new Pp(this.rgb)}alpha(t){return this._rgb.a=Co(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Yf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ph(this._rgb,2,t),this}darken(t){return ph(this._rgb,2,-t),this}saturate(t){return ph(this._rgb,1,t),this}desaturate(t){return ph(this._rgb,1,-t),this}rotate(t){return cU(this._rgb,t),this}}function ZI(e){return new Pp(e)}function JI(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function bk(e){return JI(e)?e:ZI(e)}function n0(e){return JI(e)?e:ZI(e).saturate(.5).darken(.1).hexString()}const Ta=Object.create(null),Fv=Object.create(null);function Zc(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const o=n[i];e=e[o]||(e[o]=Object.create(null))}return e}function i0(e,t,n){return typeof t=="string"?Tf(Zc(e,t),n):Tf(Zc(e,""),t)}class _U{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>n0(i.backgroundColor),this.hoverBorderColor=(n,i)=>n0(i.borderColor),this.hoverColor=(n,i)=>n0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,n){return i0(this,t,n)}get(t){return Zc(this,t)}describe(t,n){return i0(Fv,t,n)}override(t,n){return i0(Ta,t,n)}route(t,n,i,r){const o=Zc(this,t),a=Zc(this,i),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[u],p=a[r];return Xt(c)?Object.assign({},p,c):Vt(c,p)},set(c){this[u]=c}}})}}var Zt=new _U({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function bU(e){return!e||ee(e.size)||ee(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Bp(e,t,n,i,r){let o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i}function wU(e,t,n,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let a=0;const u=n.length;let c,p,g,y,v;for(c=0;c<u;c++)if(y=n[c],y!=null&&ke(y)!==!0)a=Bp(e,r,o,a,y);else if(ke(y))for(p=0,g=y.length;p<g;p++)v=y[p],v!=null&&!ke(v)&&(a=Bp(e,r,o,a,v));e.restore();const b=o.length/2;if(b>n.length){for(c=0;c<b;c++)delete r[o[c]];o.splice(0,b)}return a}function Jo(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function wk(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Pv(e,t,n,i){t2(e,t,n,i,null)}function t2(e,t,n,i,r){let o,a,u,c,p,g;const y=t.pointStyle,v=t.rotation,b=t.radius;let k=(v||0)*H8;if(y&&typeof y=="object"&&(o=y.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(k),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(b)||b<=0)){switch(e.beginPath(),y){default:r?e.ellipse(n,i,r/2,b,0,0,ye):e.arc(n,i,b,0,ye),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(k)*b,i-Math.cos(k)*b),k+=ck,e.lineTo(n+Math.sin(k)*b,i-Math.cos(k)*b),k+=ck,e.lineTo(n+Math.sin(k)*b,i-Math.cos(k)*b),e.closePath();break;case"rectRounded":p=b*.516,c=b-p,a=Math.cos(k+gc)*c,u=Math.sin(k+gc)*c,e.arc(n-a,i-u,p,k-Oe,k-qe),e.arc(n+u,i-a,p,k-qe,k),e.arc(n+a,i+u,p,k,k+qe),e.arc(n-u,i+a,p,k+qe,k+Oe),e.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*b,g=r?r/2:c,e.rect(n-g,i-c,2*g,2*c);break}k+=gc;case"rectRot":a=Math.cos(k)*b,u=Math.sin(k)*b,e.moveTo(n-a,i-u),e.lineTo(n+u,i-a),e.lineTo(n+a,i+u),e.lineTo(n-u,i+a),e.closePath();break;case"crossRot":k+=gc;case"cross":a=Math.cos(k)*b,u=Math.sin(k)*b,e.moveTo(n-a,i-u),e.lineTo(n+a,i+u),e.moveTo(n+u,i-a),e.lineTo(n-u,i+a);break;case"star":a=Math.cos(k)*b,u=Math.sin(k)*b,e.moveTo(n-a,i-u),e.lineTo(n+a,i+u),e.moveTo(n+u,i-a),e.lineTo(n-u,i+a),k+=gc,a=Math.cos(k)*b,u=Math.sin(k)*b,e.moveTo(n-a,i-u),e.lineTo(n+a,i+u),e.moveTo(n+u,i-a),e.lineTo(n-u,i+a);break;case"line":a=r?r/2:Math.cos(k)*b,u=Math.sin(k)*b,e.moveTo(n-a,i-u),e.lineTo(n+a,i+u);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(k)*b,i+Math.sin(k)*b);break}e.fill(),t.borderWidth>0&&e.stroke()}}function If(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function qg(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Kg(e){e.restore()}function xU(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function SU(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Ma(e,t,n,i,r,o={}){const a=ke(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let c,p;for(e.save(),e.font=r.string,kU(e,o),c=0;c<a.length;++c)p=a[c],u&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),ee(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(p,n,i,o.maxWidth)),e.fillText(p,n,i,o.maxWidth),EU(e,n,i,p,o),i+=r.lineHeight;e.restore()}function kU(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ee(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function EU(e,t,n,i,r){if(r.strikethrough||r.underline){const o=e.measureText(i),a=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,p=n+o.actualBoundingBoxDescent,g=r.strikethrough?(c+p)/2:p;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(a,g),e.lineTo(u,g),e.stroke()}}function Af(e,t){const{x:n,y:i,w:r,h:o,radius:a}=t;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,-qe,Oe,!0),e.lineTo(n,i+o-a.bottomLeft),e.arc(n+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,Oe,qe,!0),e.lineTo(n+r-a.bottomRight,i+o),e.arc(n+r-a.bottomRight,i+o-a.bottomRight,a.bottomRight,qe,0,!0),e.lineTo(n+r,i+a.topRight),e.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-qe,!0),e.lineTo(n+a.topLeft,i)}const CU=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),TU=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function MU(e,t){const n=(""+e).match(CU);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const IU=e=>+e||0;function Cb(e,t){const n={},i=Xt(t),r=i?Object.keys(t):t,o=Xt(e)?i?a=>Vt(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of r)n[a]=IU(o(a));return n}function e2(e){return Cb(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ya(e){return Cb(e,["topLeft","topRight","bottomLeft","bottomRight"])}function zn(e){const t=e2(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hn(e,t){e=e||{},t=t||Zt.font;let n=Vt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Vt(e.style,t.style);i&&!(""+i).match(TU)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:Vt(e.family,t.family),lineHeight:MU(Vt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Vt(e.weight,t.weight),string:""};return r.string=bU(r),r}function Ac(e,t,n,i){let r=!0,o,a,u;for(o=0,a=e.length;o<a;++o)if(u=e[o],u!==void 0&&(t!==void 0&&typeof u=="function"&&(u=u(t),r=!1),n!==void 0&&ke(u)&&(u=u[n%u.length],r=!1),u!==void 0))return i&&!r&&(i.cacheable=!1),u}function AU(e,t,n){const{min:i,max:r}=e,o=zI(t,(r-i)/2),a=(u,c)=>n&&u===0?0:u+c;return{min:a(i,-Math.abs(o)),max:a(r,o)}}function zo(e,t){return Object.assign(Object.create(e),t)}function Tb(e,t=[""],n=e,i,r=()=>e[0]){Ki(i)||(i=s2("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:r,override:a=>Tb([a,...e],t,n,i)};return new Proxy(o,{deleteProperty(a,u){return delete a[u],delete a._keys,delete e[0][u],!0},get(a,u){return i2(a,u,()=>BU(u,t,e,a))},getOwnPropertyDescriptor(a,u){return Reflect.getOwnPropertyDescriptor(a._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,u){return Sk(a).includes(u)},ownKeys(a){return Sk(a)},set(a,u,c){const p=a._storage||(a._storage=r());return a[u]=p[u]=c,delete a._keys,!0}})}function su(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:n2(e,i),setContext:o=>su(e,o,n,i),override:o=>su(e.override(o),t,n,i)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete e[a],!0},get(o,a,u){return i2(o,a,()=>LU(o,a,u))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(o,a,u){return e[a]=u,delete o[a],!0}})}function n2(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Do(n)?n:()=>n,isIndexable:Do(i)?i:()=>i}}const DU=(e,t)=>e?e+_b(t):t,Mb=(e,t)=>Xt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function i2(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function LU(e,t,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=e;let u=i[t];return Do(u)&&a.isScriptable(t)&&(u=NU(t,u,e,n)),ke(u)&&u.length&&(u=OU(t,u,e,a.isIndexable)),Mb(t,u)&&(u=su(u,r,o&&o[t],a)),u}function NU(e,t,n,i){const{_proxy:r,_context:o,_subProxy:a,_stack:u}=n;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);return u.add(e),t=t(o,a||i),u.delete(e),Mb(e,t)&&(t=Ib(r._scopes,r,e,t)),t}function OU(e,t,n,i){const{_proxy:r,_context:o,_subProxy:a,_descriptors:u}=n;if(Ki(o.index)&&i(e))t=t[o.index%t.length];else if(Xt(t[0])){const c=t,p=r._scopes.filter(g=>g!==c);t=[];for(const g of c){const y=Ib(p,r,e,g);t.push(su(y,o,a&&a[e],u))}}return t}function r2(e,t,n){return Do(e)?e(t,n):e}const RU=(e,t)=>e===!0?t:typeof e=="string"?Ao(t,e):void 0;function FU(e,t,n,i,r){for(const o of t){const a=RU(n,o);if(a){e.add(a);const u=r2(a._fallback,n,r);if(Ki(u)&&u!==n&&u!==i)return u}else if(a===!1&&Ki(i)&&n!==i)return null}return!1}function Ib(e,t,n,i){const r=t._rootScopes,o=r2(t._fallback,n,i),a=[...e,...r],u=new Set;u.add(i);let c=xk(u,a,n,o||n,i);return c===null||Ki(o)&&o!==n&&(c=xk(u,a,o,c,i),c===null)?!1:Tb(Array.from(u),[""],r,o,()=>PU(t,n,i))}function xk(e,t,n,i,r){for(;n;)n=FU(e,t,n,i,r);return n}function PU(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return ke(r)&&Xt(n)?n:r}function BU(e,t,n,i){let r;for(const o of t)if(r=s2(DU(o,e),n),Ki(r))return Mb(e,r)?Ib(n,i,e,r):r}function s2(e,t){for(const n of t){if(!n)continue;const i=n[e];if(Ki(i))return i}}function Sk(e){let t=e._keys;return t||(t=e._keys=zU(e._scopes)),t}function zU(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function o2(e,t,n,i){const{iScale:r}=e,{key:o="r"}=this._parsing,a=new Array(i);let u,c,p,g;for(u=0,c=i;u<c;++u)p=u+n,g=t[p],a[u]={r:r.parse(Ao(g,o),p)};return a}const UU=Number.EPSILON||1e-14,ou=(e,t)=>t<e.length&&!e[t].skip&&e[t],a2=e=>e==="x"?"y":"x";function HU(e,t,n,i){const r=e.skip?t:e,o=t,a=n.skip?t:n,u=Ov(o,r),c=Ov(a,o);let p=u/(u+c),g=c/(u+c);p=isNaN(p)?0:p,g=isNaN(g)?0:g;const y=i*p,v=i*g;return{previous:{x:o.x-y*(a.x-r.x),y:o.y-y*(a.y-r.y)},next:{x:o.x+v*(a.x-r.x),y:o.y+v*(a.y-r.y)}}}function WU(e,t,n){const i=e.length;let r,o,a,u,c,p=ou(e,0);for(let g=0;g<i-1;++g)if(c=p,p=ou(e,g+1),!(!c||!p)){if(Xc(t[g],0,UU)){n[g]=n[g+1]=0;continue}r=n[g]/t[g],o=n[g+1]/t[g],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(a=3/Math.sqrt(u),n[g]=r*a*t[g],n[g+1]=o*a*t[g])}}function VU(e,t,n="x"){const i=a2(n),r=e.length;let o,a,u,c=ou(e,0);for(let p=0;p<r;++p){if(a=u,u=c,c=ou(e,p+1),!u)continue;const g=u[n],y=u[i];a&&(o=(g-a[n])/3,u[`cp1${n}`]=g-o,u[`cp1${i}`]=y-o*t[p]),c&&(o=(c[n]-g)/3,u[`cp2${n}`]=g+o,u[`cp2${i}`]=y+o*t[p])}}function $U(e,t="x"){const n=a2(t),i=e.length,r=Array(i).fill(0),o=Array(i);let a,u,c,p=ou(e,0);for(a=0;a<i;++a)if(u=c,c=p,p=ou(e,a+1),!!c){if(p){const g=p[t]-c[t];r[a]=g!==0?(p[n]-c[n])/g:0}o[a]=u?p?Vr(r[a-1])!==Vr(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}WU(e,r,o),VU(e,o,t)}function gh(e,t,n){return Math.max(Math.min(e,n),t)}function jU(e,t){let n,i,r,o,a,u=If(e[0],t);for(n=0,i=e.length;n<i;++n)a=o,o=u,u=n<i-1&&If(e[n+1],t),o&&(r=e[n],a&&(r.cp1x=gh(r.cp1x,t.left,t.right),r.cp1y=gh(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=gh(r.cp2x,t.left,t.right),r.cp2y=gh(r.cp2y,t.top,t.bottom)))}function YU(e,t,n,i,r){let o,a,u,c;if(t.spanGaps&&(e=e.filter(p=>!p.skip)),t.cubicInterpolationMode==="monotone")$U(e,r);else{let p=i?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)u=e[o],c=HU(p,u,e[Math.min(o+1,a-(i?0:1))%a],t.tension),u.cp1x=c.previous.x,u.cp1y=c.previous.y,u.cp2x=c.next.x,u.cp2y=c.next.y,p=u}t.capBezierPoints&&jU(e,n)}function l2(){return typeof window<"u"&&typeof document<"u"}function Ab(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function zp(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Gg=e=>window.getComputedStyle(e,null);function qU(e,t){return Gg(e).getPropertyValue(t)}const KU=["top","right","bottom","left"];function va(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=KU[r];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const GU=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function XU(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:o}=i;let a=!1,u,c;if(GU(r,o,e.target))u=r,c=o;else{const p=t.getBoundingClientRect();u=i.clientX-p.left,c=i.clientY-p.top,a=!0}return{x:u,y:c,box:a}}function sa(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=Gg(n),o=r.boxSizing==="border-box",a=va(r,"padding"),u=va(r,"border","width"),{x:c,y:p,box:g}=XU(e,n),y=a.left+(g&&u.left),v=a.top+(g&&u.top);let{width:b,height:k}=t;return o&&(b-=a.width+u.width,k-=a.height+u.height),{x:Math.round((c-y)/b*n.width/i),y:Math.round((p-v)/k*n.height/i)}}function QU(e,t,n){let i,r;if(t===void 0||n===void 0){const o=Ab(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const a=o.getBoundingClientRect(),u=Gg(o),c=va(u,"border","width"),p=va(u,"padding");t=a.width-p.width-c.width,n=a.height-p.height-c.height,i=zp(u.maxWidth,o,"clientWidth"),r=zp(u.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:i||Fp,maxHeight:r||Fp}}const r0=e=>Math.round(e*10)/10;function ZU(e,t,n,i){const r=Gg(e),o=va(r,"margin"),a=zp(r.maxWidth,e,"clientWidth")||Fp,u=zp(r.maxHeight,e,"clientHeight")||Fp,c=QU(e,t,n);let{width:p,height:g}=c;if(r.boxSizing==="content-box"){const y=va(r,"border","width"),v=va(r,"padding");p-=v.width+y.width,g-=v.height+y.height}return p=Math.max(0,p-o.width),g=Math.max(0,i?Math.floor(p/i):g-o.height),p=r0(Math.min(p,a,c.maxWidth)),g=r0(Math.min(g,u,c.maxHeight)),p&&!g&&(g=r0(p/2)),{width:p,height:g}}function kk(e,t,n){const i=t||1,r=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=r/i,e.width=o/i;const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||a.height!==r||a.width!==o?(e.currentDevicePixelRatio=i,a.height=r,a.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const JU=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function Ek(e,t){const n=qU(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function oa(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function t6(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function e6(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},a=oa(e,r,n),u=oa(r,o,n),c=oa(o,t,n),p=oa(a,u,n),g=oa(u,c,n);return oa(p,g,n)}const Ck=new Map;function n6(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Ck.get(n);return i||(i=new Intl.NumberFormat(e,t),Ck.set(n,i)),i}function qf(e,t,n){return n6(t,n).format(e)}const i6=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},r6=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Wl(e,t,n){return e?i6(t,n):r6()}function u2(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function c2(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function f2(e){return e==="angle"?{between:Mf,compare:$8,normalize:bi}:{between:Ss,compare:(t,n)=>t-n,normalize:t=>t}}function Tk({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function s6(e,t,n){const{property:i,start:r,end:o}=n,{between:a,normalize:u}=f2(i),c=t.length;let{start:p,end:g,loop:y}=e,v,b;if(y){for(p+=c,g+=c,v=0,b=c;v<b&&a(u(t[p%c][i]),r,o);++v)p--,g--;p%=c,g%=c}return g<p&&(g+=c),{start:p,end:g,loop:y,style:e.style}}function d2(e,t,n){if(!n)return[e];const{property:i,start:r,end:o}=n,a=t.length,{compare:u,between:c,normalize:p}=f2(i),{start:g,end:y,loop:v,style:b}=s6(e,t,n),k=[];let T=!1,D=null,w,S,C;const I=()=>c(r,C,w)&&u(r,C)!==0,L=()=>u(o,w)===0||c(o,C,w),R=()=>T||I(),F=()=>!T||L();for(let V=g,j=g;V<=y;++V)S=t[V%a],!S.skip&&(w=p(S[i]),w!==C&&(T=c(w,r,o),D===null&&R()&&(D=u(w,r)===0?V:j),D!==null&&F()&&(k.push(Tk({start:D,end:V,loop:v,count:a,style:b})),D=null),j=V,C=w));return D!==null&&k.push(Tk({start:D,end:y,loop:v,count:a,style:b})),k}function h2(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const o=d2(i[r],e.points,t);o.length&&n.push(...o)}return n}function o6(e,t,n,i){let r=0,o=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(o+=r);o>r&&e[o%t].skip;)o--;return o%=t,{start:r,end:o}}function a6(e,t,n,i){const r=e.length,o=[];let a=t,u=e[t],c;for(c=t+1;c<=n;++c){const p=e[c%r];p.skip||p.stop?u.skip||(i=!1,o.push({start:t%r,end:(c-1)%r,loop:i}),t=a=p.stop?c:null):(a=c,u.skip&&(t=c)),u=p}return a!==null&&o.push({start:t%r,end:a%r,loop:i}),o}function l6(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const o=!!e._loop,{start:a,end:u}=o6(n,r,o,i);if(i===!0)return Mk(e,[{start:a,end:u,loop:o}],n,t);const c=u<a?u+r:u,p=!!e._fullLoop&&a===0&&u===r-1;return Mk(e,a6(n,a,c,p),n,t)}function Mk(e,t,n,i){return!i||!i.setContext||!n?t:u6(e,t,n,i)}function u6(e,t,n,i){const r=e._chart.getContext(),o=Ik(e.options),{_datasetIndex:a,options:{spanGaps:u}}=e,c=n.length,p=[];let g=o,y=t[0].start,v=y;function b(k,T,D,w){const S=u?-1:1;if(k!==T){for(k+=c;n[k%c].skip;)k-=S;for(;n[T%c].skip;)T+=S;k%c!==T%c&&(p.push({start:k%c,end:T%c,loop:D,style:w}),g=w,y=T%c)}}for(const k of t){y=u?y:k.start;let T=n[y%c],D;for(v=y+1;v<=k.end;v++){const w=n[v%c];D=Ik(i.setContext(zo(r,{type:"segment",p0:T,p1:w,p0DataIndex:(v-1)%c,p1DataIndex:v%c,datasetIndex:a}))),c6(D,g)&&b(y,v-1,k.loop,g),T=w,g=D}y<v-1&&b(y,v-1,k.loop,g)}return p}function Ik(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function c6(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class f6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const o=n.listeners[r],a=n.duration;o.forEach(u=>u({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=jI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,u=!1,c;for(;a>=0;--a)c=o[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),u=!0):(o[a]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var us=new f6;const Ak="transparent",d6={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=bk(e||Ak),r=i.valid&&bk(t||Ak);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class h6{constructor(t,n,i,r){const o=n[i];r=Ac([t.to,r,o,t.from]);const a=Ac([t.from,o,r]);this._active=!0,this._fn=t.fn||d6[t.type||typeof a],this._easing=Qc[t.easing]||Qc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Ac([t.to,n,r,t.from]),this._from=Ac([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,o=this._from,a=this._loop,u=this._to;let c;if(this._active=o!==u&&(a||n<i),!this._active){this._target[r]=u,this._notify(!0);return}if(n<0){this._target[r]=o;return}c=n/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(o,u,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}const p6=["x","y","borderWidth","radius","tension"],g6=["color","borderColor","backgroundColor"];Zt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const m6=Object.keys(Zt.animation);Zt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"});Zt.set("animations",{colors:{type:"color",properties:g6},numbers:{type:"number",properties:p6}});Zt.describe("animations",{_fallback:"animation"});Zt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}});class p2{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Xt(t))return;const n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Xt(r))return;const o={};for(const a of m6)o[a]=r[a];(ke(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(t,n){const i=n.options,r=v6(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&y6(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,n){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),a=Object.keys(n),u=Date.now();let c;for(c=a.length-1;c>=0;--c){const p=a[c];if(p.charAt(0)==="$")continue;if(p==="options"){r.push(...this._animateOptions(t,n));continue}const g=n[p];let y=o[p];const v=i.get(p);if(y)if(v&&y.active()){y.update(v,g,u);continue}else y.cancel();if(!v||!v.duration){t[p]=g;continue}o[p]=y=new h6(v,t,p,g),r.push(y)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return us.add(this._chart,i),!0}}function y6(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=e[i[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function v6(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Dk(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function _6(e,t,n){if(n===!1)return!1;const i=Dk(e,n),r=Dk(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function b6(e){let t,n,i,r;return Xt(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function g2(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function Lk(e,t,n,i={}){const r=e.keys,o=i.mode==="single";let a,u,c,p;if(t!==null){for(a=0,u=r.length;a<u;++a){if(c=+r[a],c===n){if(i.all)continue;break}p=e.values[c],Ze(p)&&(o||t===0||Vr(t)===Vr(p))&&(t+=p)}return t}}function w6(e){const t=Object.keys(e),n=new Array(t.length);let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i],n[i]={x:o,y:e[o]};return n}function Nk(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function x6(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function S6(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function k6(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function Ok(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=e[r.index];if(n&&o>0||!n&&o<0)return r.index}return null}function Rk(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:u}=i,c=o.axis,p=a.axis,g=x6(o,a,i),y=t.length;let v;for(let b=0;b<y;++b){const k=t[b],{[c]:T,[p]:D}=k,w=k._stacks||(k._stacks={});v=w[p]=k6(r,g,T),v[u]=D,v._top=Ok(v,a,!0,i.type),v._bottom=Ok(v,a,!1,i.type)}}function s0(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function E6(e,t){return zo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function C6(e,t,n){return zo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function mc(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n]}}}const o0=e=>e==="reset"||e==="none",Fk=(e,t)=>t?e:Object.assign({},e),T6=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:g2(n,!0),values:null};class vr{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Nk(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&mc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(y,v,b,k)=>y==="x"?v:y==="r"?k:b,o=n.xAxisID=Vt(i.xAxisID,s0(t,"x")),a=n.yAxisID=Vt(i.yAxisID,s0(t,"y")),u=n.rAxisID=Vt(i.rAxisID,s0(t,"r")),c=n.indexAxis,p=n.iAxisID=r(c,o,a,u),g=n.vAxisID=r(c,a,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&hk(this._data,this),t._stacked&&mc(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(Xt(n))this._data=w6(n);else if(i!==n){if(i){hk(i,this);const r=this._cachedMeta;mc(r),r._parsed=[]}n&&Object.isExtensible(n)&&K8(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=n._stacked;n._stacked=Nk(n.vScale,n),n.stack!==i.stack&&(r=!0,mc(n),n.stack=i.stack),this._resyncElements(t),(r||o!==n._stacked)&&Rk(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:a}=i,u=o.axis;let c=t===0&&n===r.length?!0:i._sorted,p=t>0&&i._parsed[t-1],g,y,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{ke(r[t])?v=this.parseArrayData(i,r,t,n):Xt(r[t])?v=this.parseObjectData(i,r,t,n):v=this.parsePrimitiveData(i,r,t,n);const b=()=>y[u]===null||p&&y[u]<p[u];for(g=0;g<n;++g)i._parsed[g+t]=y=v[g],c&&(b()&&(c=!1),p=y);i._sorted=c}a&&Rk(this,v)}parsePrimitiveData(t,n,i,r){const{iScale:o,vScale:a}=t,u=o.axis,c=a.axis,p=o.getLabels(),g=o===a,y=new Array(r);let v,b,k;for(v=0,b=r;v<b;++v)k=v+i,y[v]={[u]:g||o.parse(p[k],k),[c]:a.parse(n[k],k)};return y}parseArrayData(t,n,i,r){const{xScale:o,yScale:a}=t,u=new Array(r);let c,p,g,y;for(c=0,p=r;c<p;++c)g=c+i,y=n[g],u[c]={x:o.parse(y[0],g),y:a.parse(y[1],g)};return u}parseObjectData(t,n,i,r){const{xScale:o,yScale:a}=t,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,p=new Array(r);let g,y,v,b;for(g=0,y=r;g<y;++g)v=g+i,b=n[v],p[g]={x:o.parse(Ao(b,u),v),y:a.parse(Ao(b,c),v)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,o=this._cachedMeta,a=n[t.axis],u={keys:g2(r,!0),values:n._stacks[t.axis]};return Lk(u,a,o.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const o=i[n.axis];let a=o===null?NaN:o;const u=r&&i._stacks[n.axis];r&&u&&(r.values=u,a=Lk(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,a=r.length,u=this._getOtherScale(t),c=T6(n,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=S6(u);let v,b;function k(){b=r[v];const T=b[u.axis];return!Ze(b[t.axis])||g>T||y<T}for(v=0;v<a&&!(!k()&&(this.updateRangeFromParsed(p,t,b,c),o));++v);if(o){for(v=a-1;v>=0;--v)if(!k()){this.updateRangeFromParsed(p,t,b,c);break}}return p}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,o,a;for(r=0,o=n.length;r<o;++r)a=n[r][t.axis],Ze(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=b6(Vt(this.options.clip,_6(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],o=n.chartArea,a=[],u=this._drawStart||0,c=this._drawCount||r.length-u,p=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,o,u,c),g=u;g<u+c;++g){const y=r[g];y.hidden||(y.active&&p?a.push(y):y.draw(t,o))}for(g=0;g<a.length;++g)a[g].draw(t,o)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];o=a.$context||(a.$context=C6(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=E6(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",o=this._cachedDataOpts,a=t+"-"+n,u=o[a],c=this.enableOptionSharing&&Ki(i);if(u)return Fk(u,c);const p=this.chart.config,g=p.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],v=p.getOptionScopes(this.getDataset(),g),b=Object.keys(Zt.elements[t]),k=()=>this.getContext(i,r),T=p.resolveNamedOptions(v,b,k,y);return T.$shared&&(T.$shared=c,o[a]=Object.freeze(Fk(T,c))),T}_resolveAnimations(t,n,i){const r=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,u=o[a];if(u)return u;let c;if(r.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,n),v=g.getOptionScopes(this.getDataset(),y);c=g.createResolver(v,this.getContext(t,i,n))}const p=new p2(r,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||o0(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(n,o)||o!==r;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:a}}updateElement(t,n,i,r){o0(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!o0(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const o=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[u,c,p]of this._syncList)this[u](c,p);this._syncList=[];const r=i.length,o=n.length,a=Math.min(o,r);a&&this.parse(0,a),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,n,i=!0){const r=this._cachedMeta,o=r.data,a=t+n;let u;const c=p=>{for(p.length+=n,u=p.length-1;u>=a;u--)p[u]=p[u-n]};for(c(o),u=t;u<a;++u)o[u]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(t,n),i&&this.updateElements(o,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&mc(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}vr.defaults={};vr.prototype.datasetElementType=null;vr.prototype.dataElementType=null;function M6(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=n.length;r<o;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=$I(i.sort((r,o)=>r-o))}return e._cache.$bar}function I6(e){const t=e.iScale,n=M6(t,e.type);let i=t._length,r,o,a,u;const c=()=>{a===32767||a===-32768||(Ki(u)&&(i=Math.min(i,Math.abs(a-u)||i)),u=a)};for(r=0,o=n.length;r<o;++r)a=t.getPixelForValue(n[r]),c();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)a=t.getPixelForTick(r),c();return i}function A6(e,t,n,i){const r=n.barThickness;let o,a;return ee(r)?(o=t.min*n.categoryPercentage,a=n.barPercentage):(o=r*i,a=1),{chunk:o/i,ratio:a,start:t.pixels[e]-o/2}}function D6(e,t,n,i){const r=t.pixels,o=r[e];let a=e>0?r[e-1]:null,u=e<r.length-1?r[e+1]:null;const c=n.categoryPercentage;a===null&&(a=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-a);const p=o-(o-Math.min(a,u))/2*c;return{chunk:Math.abs(u-a)/2*c/i,ratio:n.barPercentage,start:p}}function L6(e,t,n,i){const r=n.parse(e[0],i),o=n.parse(e[1],i),a=Math.min(r,o),u=Math.max(r,o);let c=a,p=u;Math.abs(a)>Math.abs(u)&&(c=u,p=a),t[n.axis]=p,t._custom={barStart:c,barEnd:p,start:r,end:o,min:a,max:u}}function m2(e,t,n,i){return ke(e)?L6(e,t,n,i):t[n.axis]=n.parse(e,i),t}function Pk(e,t,n,i){const r=e.iScale,o=e.vScale,a=r.getLabels(),u=r===o,c=[];let p,g,y,v;for(p=n,g=n+i;p<g;++p)v=t[p],y={},y[r.axis]=u||r.parse(a[p],p),c.push(m2(v,y,o,p));return c}function a0(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function N6(e,t,n){return e!==0?Vr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function O6(e){let t,n,i,r,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:t,top:r,bottom:o}}function R6(e,t,n,i){let r=t.borderSkipped;const o={};if(!r){e.borderSkipped=o;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:u,reverse:c,top:p,bottom:g}=O6(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=p:(n._bottom||0)===i?r=g:(o[Bk(g,a,u,c)]=!0,r=p)),o[Bk(r,a,u,c)]=!0,e.borderSkipped=o}function Bk(e,t,n,i){return i?(e=F6(e,t,n),e=zk(e,n,t)):e=zk(e,t,n),e}function F6(e,t,n){return e===t?n:e===n?t:e}function zk(e,t,n){return e==="start"?t:e==="end"?n:e}function P6(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Xg extends vr{parsePrimitiveData(t,n,i,r){return Pk(t,n,i,r)}parseArrayData(t,n,i,r){return Pk(t,n,i,r)}parseObjectData(t,n,i,r){const{iScale:o,vScale:a}=t,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,p=o.axis==="x"?u:c,g=a.axis==="x"?u:c,y=[];let v,b,k,T;for(v=i,b=i+r;v<b;++v)T=n[v],k={},k[o.axis]=o.parse(Ao(T,p),v),y.push(m2(Ao(T,g),k,a,v));return y}updateRangeFromParsed(t,n,i,r){super.updateRangeFromParsed(t,n,i,r);const o=i._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:r}=n,o=this.getParsed(t),a=o._custom,u=a0(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,r){const o=r==="reset",{index:a,_cachedMeta:{vScale:u}}=this,c=u.getBasePixel(),p=u.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(n,r);for(let b=n;b<n+i;b++){const k=this.getParsed(b),T=o||ee(k[u.axis])?{base:c,head:c}:this._calculateBarValuePixels(b),D=this._calculateBarIndexPixels(b,g),w=(k._stacks||{})[u.axis],S={horizontal:p,base:T.base,enableBorderRadius:!w||a0(k._custom)||a===w._top||a===w._bottom,x:p?T.head:D.center,y:p?D.center:T.head,height:p?D.size:Math.abs(T.size),width:p?Math.abs(T.size):D.size};v&&(S.options=y||this.resolveDataElementOptions(b,t[b].active?"active":r));const C=S.options||t[b].options;R6(S,C,w,a),P6(S,C,g.ratio),this.updateElement(t[b],b,S,r)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),o=i.options.stacked,a=[],u=c=>{const p=c.controller.getParsed(n),g=p&&p[c.vScale.axis];if(ee(g)||isNaN(g))return!0};for(const c of r)if(!(n!==void 0&&u(c))&&((o===!1||a.indexOf(c.stack)===-1||o===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const r=this._getStacks(t,i),o=n!==void 0?r.indexOf(n):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,r=[];let o,a;for(o=0,a=n.data.length;o<a;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||I6(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i},options:{base:r,minBarLength:o}}=this,a=r||0,u=this.getParsed(t),c=u._custom,p=a0(c);let g=u[n.axis],y=0,v=i?this.applyStack(n,u,i):g,b,k;v!==g&&(y=v-g,v=g),p&&(g=c.barStart,v=c.barEnd-c.barStart,g!==0&&Vr(g)!==Vr(c.barEnd)&&(y=0),y+=g);const T=!ee(r)&&!p?r:y;let D=n.getPixelForValue(T);if(this.chart.getDataVisibility(t)?b=n.getPixelForValue(y+v):b=D,k=b-D,Math.abs(k)<o){k=N6(k,n,a)*o,g===a&&(D-=k/2);const w=n.getPixelForDecimal(0),S=n.getPixelForDecimal(1),C=Math.min(w,S),I=Math.max(w,S);D=Math.max(Math.min(D,I),C),b=D+k}if(D===n.getPixelForValue(a)){const w=Vr(k)*n.getLineWidthForValue(a)/2;D+=w,k-=w}return{size:k,base:D,head:b,center:b+k/2}}_calculateBarIndexPixels(t,n){const i=n.scale,r=this.options,o=r.skipNull,a=Vt(r.maxBarThickness,1/0);let u,c;if(n.grouped){const p=o?this._getStackCount(t):n.stackCount,g=r.barThickness==="flex"?D6(t,n,r,p):A6(t,n,r,p),y=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);u=g.start+g.chunk*y+g.chunk/2,c=Math.min(a,g.chunk*g.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(a,n.min*n.ratio);return{base:u-c/2,head:u+c/2,center:u,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[n.axis]!==null&&i[o].draw(this._ctx)}}Xg.id="bar";Xg.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Xg.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Qg extends vr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,r){const o=super.parsePrimitiveData(t,n,i,r);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}parseArrayData(t,n,i,r){const o=super.parseArrayData(t,n,i,r);for(let a=0;a<o.length;a++){const u=n[i+a];o[a]._custom=Vt(u[2],this.resolveDataElementOptions(a+i).radius)}return o}parseObjectData(t,n,i,r){const o=super.parseObjectData(t,n,i,r);for(let a=0;a<o.length;a++){const u=n[i+a];o[a]._custom=Vt(u&&u.r&&+u.r,this.resolveDataElementOptions(a+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,{xScale:i,yScale:r}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),u=r.getLabelForValue(o.y),c=o._custom;return{label:n.label,value:"("+a+", "+u+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,r){const o=r==="reset",{iScale:a,vScale:u}=this._cachedMeta,{sharedOptions:c,includeOptions:p}=this._getSharedOptions(n,r),g=a.axis,y=u.axis;for(let v=n;v<n+i;v++){const b=t[v],k=!o&&this.getParsed(v),T={},D=T[g]=o?a.getPixelForDecimal(.5):a.getPixelForValue(k[g]),w=T[y]=o?u.getBasePixel():u.getPixelForValue(k[y]);T.skip=isNaN(D)||isNaN(w),p&&(T.options=c||this.resolveDataElementOptions(v,b.active?"active":r),o&&(T.options.radius=0)),this.updateElement(b,v,T,r)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return n!=="active"&&(r.radius=0),r.radius+=Vt(i&&i._custom,o),r}}Qg.id="bubble";Qg.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Qg.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function B6(e,t,n){let i=1,r=1,o=0,a=0;if(t<ye){const u=e,c=u+t,p=Math.cos(u),g=Math.sin(u),y=Math.cos(c),v=Math.sin(c),b=(C,I,L)=>Mf(C,u,c,!0)?1:Math.max(I,I*n,L,L*n),k=(C,I,L)=>Mf(C,u,c,!0)?-1:Math.min(I,I*n,L,L*n),T=b(0,p,y),D=b(qe,g,v),w=k(Oe,p,y),S=k(Oe+qe,g,v);i=(T-w)/2,r=(D-S)/2,o=-(T+w)/2,a=-(D+S)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:a}}class gu extends vr{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=c=>+i[c];if(Xt(i[t])){const{key:c="value"}=this._parsing;o=p=>+Ao(i[p],c)}let a,u;for(a=t,u=t+n;a<u;++a)r._parsed[a]=o(a)}}_getRotation(){return fr(this.options.rotation-90)}_getCircumference(){return fr(this.options.circumference)}_getRotationExtents(){let t=ye,n=-ye;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),a=r._getCircumference();t=Math.min(t,o),n=Math.max(n,o+a)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,o=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(O8(this.options.cutout,u),1),p=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:b,offsetX:k,offsetY:T}=B6(y,g,c),D=(i.width-a)/v,w=(i.height-a)/b,S=Math.max(Math.min(D,w)/2,0),C=zI(this.options.radius,S),I=Math.max(C*c,0),L=(C-I)/this._getVisibleDatasetWeightTotal();this.offsetX=k*C,this.offsetY=T*C,r.total=this.calculateTotal(),this.outerRadius=C-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*p,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ye)}updateElements(t,n,i,r){const o=r==="reset",a=this.chart,u=a.chartArea,p=a.options.animation,g=(u.left+u.right)/2,y=(u.top+u.bottom)/2,v=o&&p.animateScale,b=v?0:this.innerRadius,k=v?0:this.outerRadius,{sharedOptions:T,includeOptions:D}=this._getSharedOptions(n,r);let w=this._getRotation(),S;for(S=0;S<n;++S)w+=this._circumference(S,o);for(S=n;S<n+i;++S){const C=this._circumference(S,o),I=t[S],L={x:g+this.offsetX,y:y+this.offsetY,startAngle:w,endAngle:w+C,circumference:C,outerRadius:k,innerRadius:b};D&&(L.options=T||this.resolveDataElementOptions(S,I.active?"active":r)),w+=C,this.updateElement(I,S,L,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,r;for(r=0;r<n.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ye*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=qf(n._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const i=this.chart;let r,o,a,u,c;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),t=a.data,u=a.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)c=u.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Vt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}gu.id="doughnut";gu.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};gu.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"};gu.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((i,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label;const n=": "+e.formattedValue;return ke(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class Zg extends vr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=n,a=this.chart._animationsDisabled;let{start:u,count:c}=qI(n,r,a);this._drawStart=u,this._drawCount=c,KI(n)&&(u=0,c=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:p},t),this.updateElements(r,u,c,t)}updateElements(t,n,i,r){const o=r==="reset",{iScale:a,vScale:u,_stacked:c,_dataset:p}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(n,r),v=a.axis,b=u.axis,{spanGaps:k,segment:T}=this.options,D=ru(k)?k:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||r==="none";let S=n>0&&this.getParsed(n-1);for(let C=n;C<n+i;++C){const I=t[C],L=this.getParsed(C),R=w?I:{},F=ee(L[b]),V=R[v]=a.getPixelForValue(L[v],C),j=R[b]=o||F?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,L,c):L[b],C);R.skip=isNaN(V)||isNaN(j)||F,R.stop=C>0&&Math.abs(L[v]-S[v])>D,T&&(R.parsed=L,R.raw=p.data[C]),y&&(R.options=g||this.resolveDataElementOptions(C,I.active?"active":r)),w||this.updateElement(I,C,R,r),S=L}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Zg.id="line";Zg.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};Zg.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Jg extends vr{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=qf(n._parsed[t].r,i.options.locale);return{label:r[t]||"",value:o}}parseObjectData(t,n,i,r){return o2.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(r/2,0),a=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,n,i,r){const o=r==="reset",a=this.chart,c=a.options.animation,p=this._cachedMeta.rScale,g=p.xCenter,y=p.yCenter,v=p.getIndexAngle(0)-.5*Oe;let b=v,k;const T=360/this.countVisibleElements();for(k=0;k<n;++k)b+=this._computeAngle(k,r,T);for(k=n;k<n+i;k++){const D=t[k];let w=b,S=b+this._computeAngle(k,r,T),C=a.getDataVisibility(k)?p.getDistanceFromCenterForValue(this.getParsed(k).r):0;b=S,o&&(c.animateScale&&(C=0),c.animateRotate&&(w=S=v));const I={x:g,y,innerRadius:0,outerRadius:C,startAngle:w,endAngle:S,options:this.resolveDataElementOptions(k,D.active?"active":r)};this.updateElement(D,k,I,r)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?fr(this.resolveDataElementOptions(t,n).angle||i):0}}Jg.id="polarArea";Jg.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Jg.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((i,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Db extends gu{}Db.id="pie";Db.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class tm extends vr{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,r){return o2.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta,i=n.dataset,r=n.data||[],o=n.iScale.getLabels();if(i.points=r,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===r.length,options:a};this.updateElement(i,void 0,u,t)}this.updateElements(r,0,r.length,t)}updateElements(t,n,i,r){const o=this._cachedMeta.rScale,a=r==="reset";for(let u=n;u<n+i;u++){const c=t[u],p=this.resolveDataElementOptions(u,c.active?"active":r),g=o.getPointPositionForValue(u,this.getParsed(u).r),y=a?o.xCenter:g.x,v=a?o.yCenter:g.y,b={x:y,y:v,angle:g.angle,skip:isNaN(y)||isNaN(v),options:p};this.updateElement(c,u,b,r)}}}tm.id="radar";tm.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};tm.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class _r{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return ru(this.x)&&ru(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}_r.defaults={};_r.defaultRoutes=void 0;const y2={values(e){return ke(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,o=e;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),o=z6(e,n)}const a=Hi(Math.abs(o)),u=Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),qf(e,i,c)},logarithmic(e,t,n){if(e===0)return"0";const i=e/Math.pow(10,Math.floor(Hi(e)));return i===1||i===2||i===5?y2.numeric.call(this,e,t,n):""}};function z6(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var em={formatters:y2};Zt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:em.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});Zt.route("scale.ticks","color","","color");Zt.route("scale.grid","color","","borderColor");Zt.route("scale.grid","borderColor","","borderColor");Zt.route("scale.title","color","","color");Zt.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"});Zt.describe("scales",{_fallback:"scale"});Zt.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"});function U6(e,t){const n=e.options.ticks,i=n.maxTicksLimit||H6(e),r=n.major.enabled?V6(t):[],o=r.length,a=r[0],u=r[o-1],c=[];if(o>i)return $6(t,c,r,o/i),c;const p=W6(r,t,i);if(o>0){let g,y;const v=o>1?Math.round((u-a)/(o-1)):null;for(mh(t,c,p,ee(v)?0:a-v,a),g=0,y=o-1;g<y;g++)mh(t,c,p,r[g],r[g+1]);return mh(t,c,p,u,ee(v)?t.length:u+v),c}return mh(t,c,p),c}function H6(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function W6(e,t,n){const i=j6(e),r=t.length/n;if(!i)return Math.max(r,1);const o=W8(i);for(let a=0,u=o.length-1;a<u;a++){const c=o[a];if(c>r)return c}return Math.max(r,1)}function V6(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function $6(e,t,n,i){let r=0,o=n[0],a;for(i=Math.ceil(i),a=0;a<e.length;a++)a===o&&(t.push(e[a]),r++,o=n[r*i])}function mh(e,t,n,i,r){const o=Vt(i,0),a=Math.min(Vt(r,e.length),e.length);let u=0,c,p,g;for(n=Math.ceil(n),r&&(c=r-i,n=c/Math.floor(c/n)),g=o;g<0;)u++,g=Math.round(o+u*n);for(p=Math.max(o,0);p<a;p++)p===g&&(t.push(e[p]),u++,g=Math.round(o+u*n))}function j6(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const Y6=e=>e==="left"?"right":e==="right"?"left":e,Uk=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n;function Hk(e,t){const n=[],i=e.length/t,r=e.length;let o=0;for(;o<r;o+=i)n.push(e[Math.floor(o)]);return n}function q6(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),o=e._startPixel,a=e._endPixel,u=1e-6;let c=e.getPixelForTick(r),p;if(!(n&&(i===1?p=Math.max(c-o,a-c):t===0?p=(e.getPixelForTick(1)-c)/2:p=(c-e.getPixelForTick(r-1))/2,c+=r<t?p:-p,c<o-u||c>a+u)))return c}function K6(e,t){he(e,n=>{const i=n.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete n.data[i[o]];i.splice(0,r)}})}function yc(e){return e.drawTicks?e.tickLength:0}function Wk(e,t){if(!e.display)return 0;const n=hn(e.font,t),i=zn(e.padding);return(ke(e.text)?e.text.length:1)*n.lineHeight+i.height}function G6(e,t){return zo(e,{scale:t,type:"scale"})}function X6(e,t,n){return zo(e,{tick:n,index:t,type:"tick"})}function Q6(e,t,n){let i=xb(e);return(n&&t!=="right"||!n&&t==="right")&&(i=Y6(i)),i}function Z6(e,t,n,i){const{top:r,left:o,bottom:a,right:u,chart:c}=e,{chartArea:p,scales:g}=c;let y=0,v,b,k;const T=a-r,D=u-o;if(e.isHorizontal()){if(b=On(i,o,u),Xt(n)){const w=Object.keys(n)[0],S=n[w];k=g[w].getPixelForValue(S)+T-t}else n==="center"?k=(p.bottom+p.top)/2+T-t:k=Uk(e,n,t);v=u-o}else{if(Xt(n)){const w=Object.keys(n)[0],S=n[w];b=g[w].getPixelForValue(S)-D+t}else n==="center"?b=(p.left+p.right)/2-D+t:b=Uk(e,n,t);k=On(i,a,r),y=n==="left"?-qe:qe}return{titleX:b,titleY:k,maxWidth:v,rotation:y}}class Na extends _r{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=Oi(t,Number.POSITIVE_INFINITY),n=Oi(n,Number.NEGATIVE_INFINITY),i=Oi(i,Number.POSITIVE_INFINITY),r=Oi(r,Number.NEGATIVE_INFINITY),{min:Oi(t,i),max:Oi(n,r),minDefined:Ze(t),maxDefined:Ze(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),a;if(r&&o)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let c=0,p=u.length;c<p;++c)a=u[c].controller.getMinMax(this,t),r||(n=Math.min(n,a.min)),o||(i=Math.max(i,a.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:Oi(n,Oi(i,n)),max:Oi(i,Oi(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:o,ticks:a}=this.options,u=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=AU(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=u<this.ticks.length;this._convertTicksToLabels(c?Hk(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=U6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),xe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=xe(n.callback,[o.value,i,t],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=this.ticks.length,r=n.minRotation||0,o=n.maxRotation;let a=r,u,c,p;if(!this._isVisible()||!n.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const g=this._getLabelSizes(),y=g.widest.width,v=g.highest.height,b=vn(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/i:b/(i-1),y+6>u&&(u=b/(i-(t.offset?.5:1)),c=this.maxHeight-yc(t.grid)-n.padding-Wk(t.title,this.chart.options.font),p=Math.sqrt(y*y+v*v),a=bb(Math.min(Math.asin(vn((g.highest.height+6)/u,-1,1)),Math.asin(vn(c/p,-1,1))-Math.asin(vn(v/p,-1,1)))),a=Math.max(r,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:o}}=this,a=this._isVisible(),u=this.isHorizontal();if(a){const c=Wk(r,n.options.font);if(u?(t.width=this.maxWidth,t.height=yc(o)+c):(t.height=this.maxHeight,t.width=yc(o)+c),i.display&&this.ticks.length){const{first:p,last:g,widest:y,highest:v}=this._getLabelSizes(),b=i.padding*2,k=fr(this.labelRotation),T=Math.cos(k),D=Math.sin(k);if(u){const w=i.mirror?0:D*y.width+T*v.height;t.height=Math.min(this.maxHeight,t.height+w+b)}else{const w=i.mirror?0:T*y.width+D*v.height;t.width=Math.min(this.maxWidth,t.width+w+b)}this._calculatePadding(p,g,D,T)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:o,padding:a},position:u}=this.options,c=this.labelRotation!==0,p=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;c?p?(v=r*t.width,b=i*n.height):(v=i*t.height,b=r*n.width):o==="start"?b=n.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,b=n.width/2),this.paddingLeft=Math.max((v-g+a)*this.width/(this.width-g),0),this.paddingRight=Math.max((b-y+a)*this.width/(this.width-y),0)}else{let g=n.height/2,y=t.height/2;o==="start"?(g=0,y=t.height):o==="end"&&(g=n.height,y=0),this.paddingTop=g+a,this.paddingBottom=y+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)ee(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Hk(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,n){const{ctx:i,_longestTextCache:r}=this,o=[],a=[];let u=0,c=0,p,g,y,v,b,k,T,D,w,S,C;for(p=0;p<n;++p){if(v=t[p].label,b=this._resolveTickFontOptions(p),i.font=k=b.string,T=r[k]=r[k]||{data:{},gc:[]},D=b.lineHeight,w=S=0,!ee(v)&&!ke(v))w=Bp(i,T.data,T.gc,w,v),S=D;else if(ke(v))for(g=0,y=v.length;g<y;++g)C=v[g],!ee(C)&&!ke(C)&&(w=Bp(i,T.data,T.gc,w,C),S+=D);o.push(w),a.push(S),u=Math.max(w,u),c=Math.max(S,c)}K6(r,n);const I=o.indexOf(u),L=a.indexOf(c),R=F=>({width:o[F]||0,height:a[F]||0});return{first:R(0),last:R(n-1),widest:R(I),highest:R(L),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return j8(this._alignToPixels?Jo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=X6(this.getContext(),t,i))}return this.$context||(this.$context=G6(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=fr(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=this._getLabelSizes(),a=t.autoSkipPadding||0,u=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*i>u*r?u/i:c/r:c*r<u*i?c/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:o,position:a}=r,u=o.offset,c=this.isHorizontal(),g=this.ticks.length+(u?1:0),y=yc(o),v=[],b=o.setContext(this.getContext()),k=b.drawBorder?b.borderWidth:0,T=k/2,D=function(O){return Jo(i,O,k)};let w,S,C,I,L,R,F,V,j,U,$,B;if(a==="top")w=D(this.bottom),R=this.bottom-y,V=w-T,U=D(t.top)+T,B=t.bottom;else if(a==="bottom")w=D(this.top),U=t.top,B=D(t.bottom)-T,R=w+T,V=this.top+y;else if(a==="left")w=D(this.right),L=this.right-y,F=w-T,j=D(t.left)+T,$=t.right;else if(a==="right")w=D(this.left),j=t.left,$=D(t.right)-T,L=w+T,F=this.left+y;else if(n==="x"){if(a==="center")w=D((t.top+t.bottom)/2+.5);else if(Xt(a)){const O=Object.keys(a)[0],H=a[O];w=D(this.chart.scales[O].getPixelForValue(H))}U=t.top,B=t.bottom,R=w+T,V=R+y}else if(n==="y"){if(a==="center")w=D((t.left+t.right)/2);else if(Xt(a)){const O=Object.keys(a)[0],H=a[O];w=D(this.chart.scales[O].getPixelForValue(H))}L=w-T,F=L-y,j=t.left,$=t.right}const G=Vt(r.ticks.maxTicksLimit,g),A=Math.max(1,Math.ceil(g/G));for(S=0;S<g;S+=A){const O=o.setContext(this.getContext(S)),H=O.lineWidth,Q=O.color,q=O.borderDash||[],z=O.borderDashOffset,X=O.tickWidth,J=O.tickColor,tt=O.tickBorderDash||[],at=O.tickBorderDashOffset;C=q6(this,S,u),C!==void 0&&(I=Jo(i,C,H),c?L=F=j=$=I:R=V=U=B=I,v.push({tx1:L,ty1:R,tx2:F,ty2:V,x1:j,y1:U,x2:$,y2:B,width:H,color:Q,borderDash:q,borderDashOffset:z,tickWidth:X,tickColor:J,tickBorderDash:tt,tickBorderDashOffset:at}))}return this._ticksLength=g,this._borderValue=w,v}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:o}=i,a=this.isHorizontal(),u=this.ticks,{align:c,crossAlign:p,padding:g,mirror:y}=o,v=yc(i.grid),b=v+g,k=y?-g:b,T=-fr(this.labelRotation),D=[];let w,S,C,I,L,R,F,V,j,U,$,B,G="middle";if(r==="top")R=this.bottom-k,F=this._getXAxisLabelAlignment();else if(r==="bottom")R=this.top+k,F=this._getXAxisLabelAlignment();else if(r==="left"){const O=this._getYAxisLabelAlignment(v);F=O.textAlign,L=O.x}else if(r==="right"){const O=this._getYAxisLabelAlignment(v);F=O.textAlign,L=O.x}else if(n==="x"){if(r==="center")R=(t.top+t.bottom)/2+b;else if(Xt(r)){const O=Object.keys(r)[0],H=r[O];R=this.chart.scales[O].getPixelForValue(H)+b}F=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")L=(t.left+t.right)/2-b;else if(Xt(r)){const O=Object.keys(r)[0],H=r[O];L=this.chart.scales[O].getPixelForValue(H)}F=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(c==="start"?G="top":c==="end"&&(G="bottom"));const A=this._getLabelSizes();for(w=0,S=u.length;w<S;++w){C=u[w],I=C.label;const O=o.setContext(this.getContext(w));V=this.getPixelForTick(w)+o.labelOffset,j=this._resolveTickFontOptions(w),U=j.lineHeight,$=ke(I)?I.length:1;const H=$/2,Q=O.color,q=O.textStrokeColor,z=O.textStrokeWidth;let X=F;a?(L=V,F==="inner"&&(w===S-1?X=this.options.reverse?"left":"right":w===0?X=this.options.reverse?"right":"left":X="center"),r==="top"?p==="near"||T!==0?B=-$*U+U/2:p==="center"?B=-A.highest.height/2-H*U+U:B=-A.highest.height+U/2:p==="near"||T!==0?B=U/2:p==="center"?B=A.highest.height/2-H*U:B=A.highest.height-$*U,y&&(B*=-1)):(R=V,B=(1-$)*U/2);let J;if(O.showLabelBackdrop){const tt=zn(O.backdropPadding),at=A.heights[w],rt=A.widths[w];let dt=R+B-tt.top,mt=L-tt.left;switch(G){case"middle":dt-=at/2;break;case"bottom":dt-=at;break}switch(F){case"center":mt-=rt/2;break;case"right":mt-=rt;break}J={left:mt,top:dt,width:rt+tt.width,height:at+tt.height,color:O.backdropColor}}D.push({rotation:T,label:I,font:j,color:Q,strokeColor:q,strokeWidth:z,textOffset:B,textAlign:X,textBaseline:G,translation:[L,R],backdrop:J})}return D}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-fr(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,a=this._getLabelSizes(),u=t+o,c=a.widest.width;let p,g;return n==="left"?r?(g=this.right+o,i==="near"?p="left":i==="center"?(p="center",g+=c/2):(p="right",g+=c)):(g=this.right-u,i==="near"?p="right":i==="center"?(p="center",g-=c/2):(p="left",g=this.left)):n==="right"?r?(g=this.left+o,i==="near"?p="right":i==="center"?(p="center",g-=c/2):(p="left",g-=c)):(g=this.left+u,i==="near"?p="left":i==="center"?(p="center",g+=c/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:o,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,o,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,a;const u=(c,p,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(n.display)for(o=0,a=r.length;o<a;++o){const c=r[o];n.drawOnChartArea&&u({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&u({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{grid:i}}=this,r=i.setContext(this.getContext()),o=i.drawBorder?r.borderWidth:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let c,p,g,y;this.isHorizontal()?(c=Jo(t,this.left,o)-o/2,p=Jo(t,this.right,a)+a/2,g=y=u):(g=Jo(t,this.top,o)-o/2,y=Jo(t,this.bottom,a)+a/2,c=p=u),n.save(),n.lineWidth=r.borderWidth,n.strokeStyle=r.borderColor,n.beginPath(),n.moveTo(c,g),n.lineTo(p,y),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&qg(i,r);const o=this._labelItems||(this._labelItems=this._computeLabelItems(t));let a,u;for(a=0,u=o.length;a<u;++a){const c=o[a],p=c.font,g=c.label;c.backdrop&&(i.fillStyle=c.backdrop.color,i.fillRect(c.backdrop.left,c.backdrop.top,c.backdrop.width,c.backdrop.height));let y=c.textOffset;Ma(i,g,0,y,p,c)}r&&Kg(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const o=hn(i.font),a=zn(i.padding),u=i.align;let c=o.lineHeight/2;n==="bottom"||n==="center"||Xt(n)?(c+=a.bottom,ke(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:p,titleY:g,maxWidth:y,rotation:v}=Z6(this,c,n,u);Ma(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:v,textAlign:Q6(u,n,r),textBaseline:"middle",translation:[p,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Vt(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Na.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,a;for(o=0,a=n.length;o<a;++o){const u=n[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return hn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class yh{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;e5(n)&&(i=this.register(n));const r=this.items,o=t.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,J6(t,a,i),this.override&&Zt.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in Zt[r]&&(delete Zt[r][i],this.override&&delete Ta[i])}}function J6(e,t,n){const i=Tf(Object.create(null),[n?Zt.get(n):{},Zt.get(t),e.defaults]);Zt.set(t,i),e.defaultRoutes&&t5(t,e.defaultRoutes),e.descriptors&&Zt.describe(t,e.descriptors)}function t5(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),o=[e].concat(i).join("."),a=t[n].split("."),u=a.pop(),c=a.join(".");Zt.route(o,r,c,u)})}function e5(e){return"id"in e&&"defaults"in e}class n5{constructor(){this.controllers=new yh(vr,"datasets",!0),this.elements=new yh(_r,"elements"),this.plugins=new yh(Object,"plugins"),this.scales=new yh(Na,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):he(r,a=>{const u=i||this._getRegistryForType(a);this._exec(t,u,a)})})}_exec(t,n,i){const r=_b(t);xe(i["before"+r],[],i),n[t](i),xe(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Pr=new n5;class nm extends vr{update(t){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:o,count:a}=qI(n,i,r);if(this._drawStart=o,this._drawCount=a,KI(n)&&(o=0,a=i.length),this.options.showLine){const{dataset:u,_dataset:c}=n;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!c._decimated,u.points=i;const p=this.resolveDatasetElementOptions(t);p.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:p},t)}this.updateElements(i,o,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=Pr.getElement("line")),super.addElements()}updateElements(t,n,i,r){const o=r==="reset",{iScale:a,vScale:u,_stacked:c,_dataset:p}=this._cachedMeta,g=this.resolveDataElementOptions(n,r),y=this.getSharedOptions(g),v=this.includeOptions(r,y),b=a.axis,k=u.axis,{spanGaps:T,segment:D}=this.options,w=ru(T)?T:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||o||r==="none";let C=n>0&&this.getParsed(n-1);for(let I=n;I<n+i;++I){const L=t[I],R=this.getParsed(I),F=S?L:{},V=ee(R[k]),j=F[b]=a.getPixelForValue(R[b],I),U=F[k]=o||V?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,R,c):R[k],I);F.skip=isNaN(j)||isNaN(U)||V,F.stop=I>0&&Math.abs(R[b]-C[b])>w,D&&(F.parsed=R,F.raw=p.data[I]),v&&(F.options=y||this.resolveDataElementOptions(I,L.active?"active":r)),S||this.updateElement(L,I,F,r),C=R}this.updateSharedOptions(y,r,g)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let u=0;for(let c=n.length-1;c>=0;--c)u=Math.max(u,n[c].size(this.resolveDataElementOptions(c))/2);return u>0&&u}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const o=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,o,a)/2}}nm.id="scatter";nm.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};nm.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var i5=Object.freeze({__proto__:null,BarController:Xg,BubbleController:Qg,DoughnutController:gu,LineController:Zg,PolarAreaController:Jg,PieController:Db,RadarController:tm,ScatterController:nm});function ta(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Bv{constructor(t){this.options=t||{}}init(t){}formats(){return ta()}parse(t,n){return ta()}format(t,n){return ta()}add(t,n,i){return ta()}diff(t,n,i){return ta()}startOf(t,n,i){return ta()}endOf(t,n){return ta()}}Bv.override=function(e){Object.assign(Bv.prototype,e)};var r5={_date:Bv};function s5(e,t,n,i){const{controller:r,data:o,_sorted:a}=e,u=r._cachedMeta.iScale;if(u&&t===u.axis&&t!=="r"&&a&&o.length){const c=u._reversePixels?Y8:ks;if(i){if(r._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const y=c(o,t,n-g),v=c(o,t,n+g);return{lo:y.lo,hi:v.hi}}}}else return c(o,t,n)}return{lo:0,hi:o.length-1}}function Kf(e,t,n,i,r){const o=e.getSortedVisibleDatasetMetas(),a=n[t];for(let u=0,c=o.length;u<c;++u){const{index:p,data:g}=o[u],{lo:y,hi:v}=s5(o[u],t,a,r);for(let b=y;b<=v;++b){const k=g[b];k.skip||i(k,p,b)}}}function o5(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,a=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function l0(e,t,n,i,r){const o=[];return!r&&!e.isPointInArea(t)||Kf(e,n,t,function(u,c,p){!r&&!If(u,e.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:c,index:p})},!0),o}function a5(e,t,n,i){let r=[];function o(a,u,c){const{startAngle:p,endAngle:g}=a.getProps(["startAngle","endAngle"],i),{angle:y}=WI(a,{x:t.x,y:t.y});Mf(y,p,g)&&r.push({element:a,datasetIndex:u,index:c})}return Kf(e,n,t,o),r}function l5(e,t,n,i,r,o){let a=[];const u=o5(n);let c=Number.POSITIVE_INFINITY;function p(g,y,v){const b=g.inRange(t.x,t.y,r);if(i&&!b)return;const k=g.getCenterPoint(r);if(!(!!o||e.isPointInArea(k))&&!b)return;const D=u(t,k);D<c?(a=[{element:g,datasetIndex:y,index:v}],c=D):D===c&&a.push({element:g,datasetIndex:y,index:v})}return Kf(e,n,t,p),a}function u0(e,t,n,i,r,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!i?a5(e,t,n,r):l5(e,t,n,i,r,o)}function Vk(e,t,n,i,r){const o=[],a=n==="x"?"inXRange":"inYRange";let u=!1;return Kf(e,n,t,(c,p,g)=>{c[a](t[n],r)&&(o.push({element:c,datasetIndex:p,index:g}),u=u||c.inRange(t.x,t.y,r))}),i&&!u?[]:o}var u5={evaluateInteractionItems:Kf,modes:{index(e,t,n,i){const r=sa(t,e),o=n.axis||"x",a=n.includeInvisible||!1,u=n.intersect?l0(e,r,o,i,a):u0(e,r,o,!1,i,a),c=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(p=>{const g=u[0].index,y=p.data[g];y&&!y.skip&&c.push({element:y,datasetIndex:p.index,index:g})}),c):[]},dataset(e,t,n,i){const r=sa(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;let u=n.intersect?l0(e,r,o,i,a):u0(e,r,o,!1,i,a);if(u.length>0){const c=u[0].datasetIndex,p=e.getDatasetMeta(c).data;u=[];for(let g=0;g<p.length;++g)u.push({element:p[g],datasetIndex:c,index:g})}return u},point(e,t,n,i){const r=sa(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;return l0(e,r,o,i,a)},nearest(e,t,n,i){const r=sa(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;return u0(e,r,o,n.intersect,i,a)},x(e,t,n,i){const r=sa(t,e);return Vk(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=sa(t,e);return Vk(e,r,"y",n.intersect,i)}}};const v2=["left","top","right","bottom"];function vc(e,t){return e.filter(n=>n.pos===t)}function $k(e,t){return e.filter(n=>v2.indexOf(n.pos)===-1&&n.box.axis===t)}function _c(e,t){return e.sort((n,i)=>{const r=t?i:n,o=t?n:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function c5(e){const t=[];let n,i,r,o,a,u;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:o,options:{stack:a,stackWeight:u=1}}=r,t.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&o+a,stackWeight:u});return t}function f5(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:o}=n;if(!i||!v2.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return t}function d5(e,t){const n=f5(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,a,u;for(o=0,a=e.length;o<a;++o){u=e[o];const{fullSize:c}=u.box,p=n[u.stack],g=p&&u.stackWeight/p.weight;u.horizontal?(u.width=g?g*i:c&&t.availableWidth,u.height=r):(u.width=i,u.height=g?g*r:c&&t.availableHeight)}return n}function h5(e){const t=c5(e),n=_c(t.filter(p=>p.box.fullSize),!0),i=_c(vc(t,"left"),!0),r=_c(vc(t,"right")),o=_c(vc(t,"top"),!0),a=_c(vc(t,"bottom")),u=$k(t,"x"),c=$k(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(c).concat(a).concat(u),chartArea:vc(t,"chartArea"),vertical:i.concat(r).concat(c),horizontal:o.concat(a).concat(u)}}function jk(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function _2(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function p5(e,t,n,i){const{pos:r,box:o}=n,a=e.maxPadding;if(!Xt(r)){n.size&&(e[r]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?o.height:o.width),n.size=y.size/y.count,e[r]+=n.size}o.getPadding&&_2(a,o.getPadding());const u=Math.max(0,t.outerWidth-jk(a,e,"left","right")),c=Math.max(0,t.outerHeight-jk(a,e,"top","bottom")),p=u!==e.w,g=c!==e.h;return e.w=u,e.h=c,n.horizontal?{same:p,other:g}:{same:g,other:p}}function g5(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function m5(e,t){const n=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{o[a]=Math.max(t[a],n[a])}),o}return i(e?["left","right"]:["top","bottom"])}function Dc(e,t,n,i){const r=[];let o,a,u,c,p,g;for(o=0,a=e.length,p=0;o<a;++o){u=e[o],c=u.box,c.update(u.width||t.w,u.height||t.h,m5(u.horizontal,t));const{same:y,other:v}=p5(t,n,u,i);p|=y&&r.length,g=g||v,c.fullSize||r.push(u)}return p&&Dc(r,t,n,i)||g}function vh(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function Yk(e,t,n,i){const r=n.padding;let{x:o,y:a}=t;for(const u of e){const c=u.box,p=i[u.stack]||{count:1,placed:0,weight:1},g=u.stackWeight/p.weight||1;if(u.horizontal){const y=t.w*g,v=p.size||c.height;Ki(p.start)&&(a=p.start),c.fullSize?vh(c,r.left,a,n.outerWidth-r.right-r.left,v):vh(c,t.left+p.placed,a,y,v),p.start=a,p.placed+=y,a=c.bottom}else{const y=t.h*g,v=p.size||c.width;Ki(p.start)&&(o=p.start),c.fullSize?vh(c,o,r.top,v,n.outerHeight-r.bottom-r.top):vh(c,o,t.top+p.placed,v,y),p.start=o,p.placed+=y,o=c.right}}t.x=o,t.y=a}Zt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Fn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=zn(e.options.layout.padding),o=Math.max(t-r.width,0),a=Math.max(n-r.height,0),u=h5(e.boxes),c=u.vertical,p=u.horizontal;he(e.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const g=c.reduce((T,D)=>D.box.options&&D.box.options.display===!1?T:T+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/g,hBoxMaxHeight:a/2}),v=Object.assign({},r);_2(v,zn(i));const b=Object.assign({maxPadding:v,w:o,h:a,x:r.left,y:r.top},r),k=d5(c.concat(p),y);Dc(u.fullSize,b,y,k),Dc(c,b,y,k),Dc(p,b,y,k)&&Dc(c,b,y,k),g5(b),Yk(u.leftAndTop,b,y,k),b.x+=b.w,b.y+=b.h,Yk(u.rightAndBottom,b,y,k),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},he(u.chartArea,T=>{const D=T.box;Object.assign(D,e.chartArea),D.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class b2{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class y5 extends b2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Wh="$chartjs",v5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qk=e=>e===null||e==="";function _5(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[Wh]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",qk(r)){const o=Ek(e,"width");o!==void 0&&(e.width=o)}if(qk(i))if(e.style.height==="")e.height=e.width/(t||2);else{const o=Ek(e,"height");o!==void 0&&(e.height=o)}return e}const w2=JU?{passive:!0}:!1;function b5(e,t,n){e.addEventListener(t,n,w2)}function w5(e,t,n){e.canvas.removeEventListener(t,n,w2)}function x5(e,t){const n=v5[e.type]||e.type,{x:i,y:r}=sa(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Up(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function S5(e,t,n){const i=e.canvas,r=new MutationObserver(o=>{let a=!1;for(const u of o)a=a||Up(u.addedNodes,i),a=a&&!Up(u.removedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function k5(e,t,n){const i=e.canvas,r=new MutationObserver(o=>{let a=!1;for(const u of o)a=a||Up(u.removedNodes,i),a=a&&!Up(u.addedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Df=new Map;let Kk=0;function x2(){const e=window.devicePixelRatio;e!==Kk&&(Kk=e,Df.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function E5(e,t){Df.size||window.addEventListener("resize",x2),Df.set(e,t)}function C5(e){Df.delete(e),Df.size||window.removeEventListener("resize",x2)}function T5(e,t,n){const i=e.canvas,r=i&&Ab(i);if(!r)return;const o=YI((u,c)=>{const p=r.clientWidth;n(u,c),p<r.clientWidth&&n()},window),a=new ResizeObserver(u=>{const c=u[0],p=c.contentRect.width,g=c.contentRect.height;p===0&&g===0||o(p,g)});return a.observe(r),E5(e,o),a}function c0(e,t,n){n&&n.disconnect(),t==="resize"&&C5(e)}function M5(e,t,n){const i=e.canvas,r=YI(o=>{e.ctx!==null&&n(x5(o,e))},e,o=>{const a=o[0];return[a,a.offsetX,a.offsetY]});return b5(i,t,r),r}class I5 extends b2{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(_5(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Wh])return!1;const i=n[Wh].initial;["height","width"].forEach(o=>{const a=i[o];ee(a)?n.removeAttribute(o):n.setAttribute(o,a)});const r=i.style||{};return Object.keys(r).forEach(o=>{n.style[o]=r[o]}),n.width=n.width,delete n[Wh],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),a={attach:S5,detach:k5,resize:T5}[n]||M5;r[n]=a(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:c0,detach:c0,resize:c0}[n]||w5)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return ZU(t,n,i,r)}isAttached(t){const n=Ab(t);return!!(n&&n.isConnected)}}function A5(e){return!l2()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?y5:I5}class D5{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(o,t,n,i);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,i,r){r=r||{};for(const o of t){const a=o.plugin,u=a[i],c=[n,r,o.options];if(xe(u,c,a)===!1&&r.cancelable)return!1}return!0}invalidate(){ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=Vt(i.options&&i.options.plugins,{}),o=L5(i);return r===!1&&!n?[]:O5(t,o,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(o,a)=>o.filter(u=>!a.some(c=>u.plugin.id===c.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function L5(e){const t={},n=[],i=Object.keys(Pr.plugins.items);for(let o=0;o<i.length;o++)n.push(Pr.getPlugin(i[o]));const r=e.plugins||[];for(let o=0;o<r.length;o++){const a=r[o];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function N5(e,t){return!t&&e===!1?null:e===!0?{}:e}function O5(e,{plugins:t,localIds:n},i,r){const o=[],a=e.getContext();for(const u of t){const c=u.id,p=N5(i[c],r);p!==null&&o.push({plugin:u,options:R5(e.config,{plugin:u,local:n[c]},p,a)})}return o}function R5(e,{plugin:t,local:n},i,r){const o=e.pluginScopeKeys(t),a=e.getOptionScopes(i,o);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zv(e,t){const n=Zt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function F5(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function P5(e,t){return e===t?"_index_":"_value_"}function B5(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Uv(e,t){return e==="x"||e==="y"?e:t.axis||B5(t.position)||e.charAt(0).toLowerCase()}function z5(e,t){const n=Ta[e.type]||{scales:{}},i=t.scales||{},r=zv(e.type,t),o=Object.create(null),a=Object.create(null);return Object.keys(i).forEach(u=>{const c=i[u];if(!Xt(c))return console.error(`Invalid scale configuration for scale: ${u}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const p=Uv(u,c),g=P5(p,r),y=n.scales||{};o[p]=o[p]||u,a[u]=Gc(Object.create(null),[{axis:p},c,y[p],y[g]])}),e.data.datasets.forEach(u=>{const c=u.type||e.type,p=u.indexAxis||zv(c,t),y=(Ta[c]||{}).scales||{};Object.keys(y).forEach(v=>{const b=F5(v,p),k=u[b+"AxisID"]||o[b]||b;a[k]=a[k]||Object.create(null),Gc(a[k],[{axis:b},i[k],y[v]])})}),Object.keys(a).forEach(u=>{const c=a[u];Gc(c,[Zt.scales[c.type],Zt.scale])}),a}function S2(e){const t=e.options||(e.options={});t.plugins=Vt(t.plugins,{}),t.scales=z5(e,t)}function k2(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function U5(e){return e=e||{},e.data=k2(e.data),S2(e),e}const Gk=new Map,E2=new Set;function _h(e,t){let n=Gk.get(e);return n||(n=t(),Gk.set(e,n),E2.add(n)),n}const bc=(e,t,n)=>{const i=Ao(t,n);i!==void 0&&e.add(i)};class H5{constructor(t){this._config=U5(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=k2(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),S2(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _h(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return _h(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return _h(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return _h(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:o}=this,a=this._cachedScopes(t,i),u=a.get(n);if(u)return u;const c=new Set;n.forEach(g=>{t&&(c.add(t),g.forEach(y=>bc(c,t,y))),g.forEach(y=>bc(c,r,y)),g.forEach(y=>bc(c,Ta[o]||{},y)),g.forEach(y=>bc(c,Zt,y)),g.forEach(y=>bc(c,Fv,y))});const p=Array.from(c);return p.length===0&&p.push(Object.create(null)),E2.has(n)&&a.set(n,p),p}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ta[n]||{},Zt.datasets[n]||{},{type:n},Zt,Fv]}resolveNamedOptions(t,n,i,r=[""]){const o={$shared:!0},{resolver:a,subPrefixes:u}=Xk(this._resolverCache,t,r);let c=a;if(V5(a,n)){o.$shared=!1,i=Do(i)?i():i;const p=this.createResolver(t,i,u);c=su(a,i,p)}for(const p of n)o[p]=c[p];return o}createResolver(t,n,i=[""],r){const{resolver:o}=Xk(this._resolverCache,t,i);return Xt(n)?su(o,n,void 0,r):o}}function Xk(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let o=i.get(r);return o||(o={resolver:Tb(t,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const W5=e=>Xt(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||Do(e[n]),!1);function V5(e,t){const{isScriptable:n,isIndexable:i}=n2(e);for(const r of t){const o=n(r),a=i(r),u=(a||o)&&e[r];if(o&&(Do(u)||W5(u))||a&&ke(u))return!0}return!1}var $5="3.9.1";const j5=["top","bottom","left","right","chartArea"];function Qk(e,t){return e==="top"||e==="bottom"||j5.indexOf(e)===-1&&t==="x"}function Zk(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Jk(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),xe(n&&n.onComplete,[e],t)}function Y5(e){const t=e.chart,n=t.options.animation;xe(n&&n.onProgress,[e],t)}function C2(e){return l2()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Hp={},T2=e=>{const t=C2(e);return Object.values(Hp).filter(n=>n.canvas===t).pop()};function q5(e,t,n){const i=Object.keys(e);for(const r of i){const o=+r;if(o>=t){const a=e[r];delete e[r],(n>0||o>t)&&(e[o+n]=a)}}}function K5(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class im{constructor(t,n){const i=this.config=new H5(n),r=C2(t),o=T2(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||A5(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,a.aspectRatio),c=u&&u.canvas,p=c&&c.height,g=c&&c.width;if(this.id=N8(),this.ctx=u,this.canvas=c,this.width=g,this.height=p,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new D5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=G8(y=>this.update(y),a.resizeDelay||0),this._dataChanges=[],Hp[this.id]=this,!u||!c){console.error("Failed to create chart: can't acquire context from the given item");return}us.listen(this,"complete",Jk),us.listen(this,"progress",Y5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:o}=this;return ee(t)?n&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():kk(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wk(this.canvas,this.ctx),this}stop(){return us.stop(this),this}resize(t,n){us.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,t,n,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,kk(this,u,!0)&&(this.notifyPlugins("resize",{size:a}),xe(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};he(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((a,u)=>(a[u]=!1,a),{});let o=[];n&&(o=o.concat(Object.keys(n).map(a=>{const u=n[a],c=Uv(a,u),p=c==="r",g=c==="x";return{options:u,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),he(o,a=>{const u=a.options,c=u.id,p=Uv(c,u),g=Vt(u.type,a.dtype);(u.position===void 0||Qk(u.position,p)!==Qk(a.dposition))&&(u.position=a.dposition),r[c]=!0;let y=null;if(c in i&&i[c].type===g)y=i[c];else{const v=Pr.getScale(g);y=new v({id:c,type:g,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,t)}),he(r,(a,u)=>{a||delete i[u]}),he(i,a=>{Fn.configure(this,a,a.options),Fn.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Zk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const o=n[i];let a=this.getDatasetMeta(i);const u=o.type||this.config.type;if(a.type&&a.type!==u&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=u,a.indexAxis=o.indexAxis||zv(u,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=Pr.getController(u),{datasetElementType:p,dataElementType:g}=Zt.datasets[u];Object.assign(c.prototype,{dataElementType:Pr.getElement(g),datasetElementType:p&&Pr.getElement(p)}),a.controller=new c(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){he(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let p=0,g=this.data.datasets.length;p<g;p++){const{controller:y}=this.getDatasetMeta(p),v=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(v),a=Math.max(+y.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||he(o,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Zk("z","_idx"));const{_active:u,_lastEvent:c}=this;c?this._eventHandler(c,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){he(this.scales,t=>{Fn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!uk(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of n){const a=i==="_removeElements"?-o:o;q5(t,r,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(t.filter(a=>a[0]===o).map((a,u)=>u+","+a.splice(1).join(","))),r=i(0);for(let o=1;o<n;o++)if(!uk(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Fn.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],he(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Do(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(us.has(this)?this.attached&&!us.running(this)&&us.start(this):(this.draw(),Jk({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,o=this.chartArea,a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&qg(n,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),t.controller.draw(),r&&Kg(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return If(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const o=u5.modes[n];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=zo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,r);Ki(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),us.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),wk(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Hp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(o,a)=>{n.addEventListener(this,o,a),t[o]=a},r=(o,a,u)=>{o.offsetX=a,o.offsetY=u,this._eventHandler(o)};he(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(c,p)=>{n.addEventListener(this,c,p),t[c]=p},r=(c,p)=>{t[c]&&(n.removeEventListener(this,c,p),delete t[c])},o=(c,p)=>{this.canvas&&this.resize(c,p)};let a;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():a()}unbindEvents(){he(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},he(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let o,a,u,c;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,c=t.length;u<c;++u){a=t[u];const p=a&&this.getDatasetMeta(a.datasetIndex).controller;p&&p[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:o,index:a})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[a],index:a}});!Op(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}_updateHoverStyles(t,n,i){const r=this.options.hover,o=(c,p)=>c.filter(g=>!p.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),a=o(n,t),u=i?t:o(t,n);a.length&&this.updateHoverStyle(a,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:o}=this,a=n,u=this._getActiveElements(t,r,i,a),c=z8(t),p=K5(t,this._lastEvent,i,c);i&&(this._lastEvent=null,xe(o.onHover,[t,u,this],this),c&&xe(o.onClick,[t,u,this],this));const g=!Op(u,r);return(g||n)&&(this._active=u,this._updateHoverStyles(u,r,n)),this._lastEvent=p,g}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}}const tE=()=>he(im.instances,e=>e._plugins.invalidate()),to=!0;Object.defineProperties(im,{defaults:{enumerable:to,value:Zt},instances:{enumerable:to,value:Hp},overrides:{enumerable:to,value:Ta},registry:{enumerable:to,value:Pr},version:{enumerable:to,value:$5},getChart:{enumerable:to,value:T2},register:{enumerable:to,value:(...e)=>{Pr.add(...e),tE()}},unregister:{enumerable:to,value:(...e)=>{Pr.remove(...e),tE()}}});function M2(e,t,n){const{startAngle:i,pixelMargin:r,x:o,y:a,outerRadius:u,innerRadius:c}=t;let p=r/u;e.beginPath(),e.arc(o,a,u,i-p,n+p),c>r?(p=r/c,e.arc(o,a,c,n+p,i-p,!0)):e.arc(o,a,r,n+qe,i-qe),e.closePath(),e.clip()}function G5(e){return Cb(e,["outerStart","outerEnd","innerStart","innerEnd"])}function X5(e,t,n,i){const r=G5(e.options.borderRadius),o=(n-t)/2,a=Math.min(o,i*t/2),u=c=>{const p=(n-Math.min(o,c))*i/2;return vn(c,0,Math.min(o,p))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:vn(r.innerStart,0,a),innerEnd:vn(r.innerEnd,0,a)}}function al(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Hv(e,t,n,i,r,o){const{x:a,y:u,startAngle:c,pixelMargin:p,innerRadius:g}=t,y=Math.max(t.outerRadius+i+n-p,0),v=g>0?g+i+n+p:0;let b=0;const k=r-c;if(i){const O=g>0?g-i:0,H=y>0?y-i:0,Q=(O+H)/2,q=Q!==0?k*Q/(Q+i):k;b=(k-q)/2}const T=Math.max(.001,k*y-n/Oe)/y,D=(k-T)/2,w=c+D+b,S=r-D-b,{outerStart:C,outerEnd:I,innerStart:L,innerEnd:R}=X5(t,v,y,S-w),F=y-C,V=y-I,j=w+C/F,U=S-I/V,$=v+L,B=v+R,G=w+L/$,A=S-R/B;if(e.beginPath(),o){if(e.arc(a,u,y,j,U),I>0){const Q=al(V,U,a,u);e.arc(Q.x,Q.y,I,U,S+qe)}const O=al(B,S,a,u);if(e.lineTo(O.x,O.y),R>0){const Q=al(B,A,a,u);e.arc(Q.x,Q.y,R,S+qe,A+Math.PI)}if(e.arc(a,u,v,S-R/v,w+L/v,!0),L>0){const Q=al($,G,a,u);e.arc(Q.x,Q.y,L,G+Math.PI,w-qe)}const H=al(F,w,a,u);if(e.lineTo(H.x,H.y),C>0){const Q=al(F,j,a,u);e.arc(Q.x,Q.y,C,w-qe,j)}}else{e.moveTo(a,u);const O=Math.cos(j)*y+a,H=Math.sin(j)*y+u;e.lineTo(O,H);const Q=Math.cos(U)*y+a,q=Math.sin(U)*y+u;e.lineTo(Q,q)}e.closePath()}function Q5(e,t,n,i,r){const{fullCircles:o,startAngle:a,circumference:u}=t;let c=t.endAngle;if(o){Hv(e,t,n,i,a+ye,r);for(let p=0;p<o;++p)e.fill();isNaN(u)||(c=a+u%ye,u%ye===0&&(c+=ye))}return Hv(e,t,n,i,c,r),e.fill(),c}function Z5(e,t,n){const{x:i,y:r,startAngle:o,pixelMargin:a,fullCircles:u}=t,c=Math.max(t.outerRadius-a,0),p=t.innerRadius+a;let g;for(n&&M2(e,t,o+ye),e.beginPath(),e.arc(i,r,p,o+ye,o,!0),g=0;g<u;++g)e.stroke();for(e.beginPath(),e.arc(i,r,c,o,o+ye),g=0;g<u;++g)e.stroke()}function J5(e,t,n,i,r,o){const{options:a}=t,{borderWidth:u,borderJoinStyle:c}=a,p=a.borderAlign==="inner";u&&(p?(e.lineWidth=u*2,e.lineJoin=c||"round"):(e.lineWidth=u,e.lineJoin=c||"bevel"),t.fullCircles&&Z5(e,t,p),p&&M2(e,t,r),Hv(e,t,n,i,r,o),e.stroke())}class rm extends _r{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=WI(r,{x:t,y:n}),{startAngle:u,endAngle:c,innerRadius:p,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=this.options.spacing/2,k=Vt(y,c-u)>=ye||Mf(o,u,c),T=Ss(a,p+v,g+v);return k&&T}getCenterPoint(t){const{x:n,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:c,spacing:p}=this.options,g=(r+o)/2,y=(a+u+p+c)/2;return{x:n+Math.cos(g)*y,y:i+Math.sin(g)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,r=(n.offset||0)/2,o=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>ye?Math.floor(i/ye):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let u=0;if(r){u=r/2;const p=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(p)*u,Math.sin(p)*u),this.circumference>=Oe&&(u=r)}t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor;const c=Q5(t,this,u,o,a);J5(t,this,u,o,c,a),t.restore()}}rm.id="arc";rm.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};rm.defaultRoutes={backgroundColor:"backgroundColor"};function I2(e,t,n=t){e.lineCap=Vt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Vt(n.borderDash,t.borderDash)),e.lineDashOffset=Vt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Vt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Vt(n.borderWidth,t.borderWidth),e.strokeStyle=Vt(n.borderColor,t.borderColor)}function tH(e,t,n){e.lineTo(n.x,n.y)}function eH(e){return e.stepped?xU:e.tension||e.cubicInterpolationMode==="monotone"?SU:tH}function A2(e,t,n={}){const i=e.length,{start:r=0,end:o=i-1}=n,{start:a,end:u}=t,c=Math.max(r,a),p=Math.min(o,u),g=r<a&&o<a||r>u&&o>u;return{count:i,start:c,loop:t.loop,ilen:p<c&&!g?i+p-c:p-c}}function nH(e,t,n,i){const{points:r,options:o}=t,{count:a,start:u,loop:c,ilen:p}=A2(r,n,i),g=eH(o);let{move:y=!0,reverse:v}=i||{},b,k,T;for(b=0;b<=p;++b)k=r[(u+(v?p-b:b))%a],!k.skip&&(y?(e.moveTo(k.x,k.y),y=!1):g(e,T,k,v,o.stepped),T=k);return c&&(k=r[(u+(v?p:0))%a],g(e,T,k,v,o.stepped)),!!c}function iH(e,t,n,i){const r=t.points,{count:o,start:a,ilen:u}=A2(r,n,i),{move:c=!0,reverse:p}=i||{};let g=0,y=0,v,b,k,T,D,w;const S=I=>(a+(p?u-I:I))%o,C=()=>{T!==D&&(e.lineTo(g,D),e.lineTo(g,T),e.lineTo(g,w))};for(c&&(b=r[S(0)],e.moveTo(b.x,b.y)),v=0;v<=u;++v){if(b=r[S(v)],b.skip)continue;const I=b.x,L=b.y,R=I|0;R===k?(L<T?T=L:L>D&&(D=L),g=(y*g+I)/++y):(C(),e.lineTo(I,L),k=R,y=0,T=D=L),w=L}C()}function Wv(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?iH:nH}function rH(e){return e.stepped?t6:e.tension||e.cubicInterpolationMode==="monotone"?e6:oa}function sH(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),I2(e,t.options),e.stroke(r)}function oH(e,t,n,i){const{segments:r,options:o}=t,a=Wv(t);for(const u of r)I2(e,o,u.style),e.beginPath(),a(e,t,u,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const aH=typeof Path2D=="function";function lH(e,t,n,i){aH&&!t.options.segment?sH(e,t,n,i):oH(e,t,n,i)}class Uo extends _r{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;YU(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=l6(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],o=this.points,a=h2(this,{property:n,start:r,end:r});if(!a.length)return;const u=[],c=rH(i);let p,g;for(p=0,g=a.length;p<g;++p){const{start:y,end:v}=a[p],b=o[y],k=o[v];if(b===k){u.push(b);continue}const T=Math.abs((r-b[n])/(k[n]-b[n])),D=c(b,k,T,i.stepped);D[n]=t[n],u.push(D)}return u.length===1?u[0]:u}pathSegment(t,n,i){return Wv(this)(t,this,n,i)}path(t,n,i){const r=this.segments,o=Wv(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const u of r)a&=o(t,this,u,{start:n,end:n+i-1});return!!a}draw(t,n,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),lH(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Uo.id="line";Uo.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Uo.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Uo.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};function eE(e,t,n,i){const r=e.options,{[n]:o}=e.getProps([n],i);return Math.abs(t-o)<r.radius+r.hitRadius}class sm extends _r{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,n){return eE(this,t,"x",n)}inYRange(t,n){return eE(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!If(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Pv(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}sm.id="point";sm.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};sm.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function D2(e,t){const{x:n,y:i,base:r,width:o,height:a}=e.getProps(["x","y","base","width","height"],t);let u,c,p,g,y;return e.horizontal?(y=a/2,u=Math.min(n,r),c=Math.max(n,r),p=i-y,g=i+y):(y=o/2,u=n-y,c=n+y,p=Math.min(i,r),g=Math.max(i,r)),{left:u,top:p,right:c,bottom:g}}function mo(e,t,n,i){return e?0:vn(t,n,i)}function uH(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,o=e2(i);return{t:mo(r.top,o.top,0,n),r:mo(r.right,o.right,0,t),b:mo(r.bottom,o.bottom,0,n),l:mo(r.left,o.left,0,t)}}function cH(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,o=ya(r),a=Math.min(t,n),u=e.borderSkipped,c=i||Xt(r);return{topLeft:mo(!c||u.top||u.left,o.topLeft,0,a),topRight:mo(!c||u.top||u.right,o.topRight,0,a),bottomLeft:mo(!c||u.bottom||u.left,o.bottomLeft,0,a),bottomRight:mo(!c||u.bottom||u.right,o.bottomRight,0,a)}}function fH(e){const t=D2(e),n=t.right-t.left,i=t.bottom-t.top,r=uH(e,n/2,i/2),o=cH(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function f0(e,t,n,i){const r=t===null,o=n===null,u=e&&!(r&&o)&&D2(e,i);return u&&(r||Ss(t,u.left,u.right))&&(o||Ss(n,u.top,u.bottom))}function dH(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function hH(e,t){e.rect(t.x,t.y,t.w,t.h)}function d0(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+o,h:e.h+a,radius:e.radius}}class om extends _r{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:a}=fH(this),u=dH(a.radius)?Af:hH;t.save(),(a.w!==o.w||a.h!==o.h)&&(t.beginPath(),u(t,d0(a,n,o)),t.clip(),u(t,d0(o,-n,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,d0(o,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return f0(this,t,n,i)}inXRange(t,n){return f0(this,t,null,n)}inYRange(t,n){return f0(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+r)/2:n,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}om.id="bar";om.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};om.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var pH=Object.freeze({__proto__:null,ArcElement:rm,LineElement:Uo,PointElement:sm,BarElement:om});function gH(e,t,n,i,r){const o=r.samples||i;if(o>=n)return e.slice(t,t+n);const a=[],u=(n-2)/(o-2);let c=0;const p=t+n-1;let g=t,y,v,b,k,T;for(a[c++]=e[g],y=0;y<o-2;y++){let D=0,w=0,S;const C=Math.floor((y+1)*u)+1+t,I=Math.min(Math.floor((y+2)*u)+1,n)+t,L=I-C;for(S=C;S<I;S++)D+=e[S].x,w+=e[S].y;D/=L,w/=L;const R=Math.floor(y*u)+1+t,F=Math.min(Math.floor((y+1)*u)+1,n)+t,{x:V,y:j}=e[g];for(b=k=-1,S=R;S<F;S++)k=.5*Math.abs((V-D)*(e[S].y-j)-(V-e[S].x)*(w-j)),k>b&&(b=k,v=e[S],T=S);a[c++]=v,g=T}return a[c++]=e[p],a}function mH(e,t,n,i){let r=0,o=0,a,u,c,p,g,y,v,b,k,T;const D=[],w=t+n-1,S=e[t].x,I=e[w].x-S;for(a=t;a<t+n;++a){u=e[a],c=(u.x-S)/I*i,p=u.y;const L=c|0;if(L===g)p<k?(k=p,y=a):p>T&&(T=p,v=a),r=(o*r+u.x)/++o;else{const R=a-1;if(!ee(y)&&!ee(v)){const F=Math.min(y,v),V=Math.max(y,v);F!==b&&F!==R&&D.push({...e[F],x:r}),V!==b&&V!==R&&D.push({...e[V],x:r})}a>0&&R!==b&&D.push(e[R]),D.push(u),g=L,o=0,k=T=p,y=v=b=a}}return D}function L2(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function nE(e){e.data.datasets.forEach(t=>{L2(t)})}function yH(e,t){const n=t.length;let i=0,r;const{iScale:o}=e,{min:a,max:u,minDefined:c,maxDefined:p}=o.getUserBounds();return c&&(i=vn(ks(t,o.axis,a).lo,0,n-1)),p?r=vn(ks(t,o.axis,u).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var vH={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){nE(e);return}const i=e.width;e.data.datasets.forEach((r,o)=>{const{_data:a,indexAxis:u}=r,c=e.getDatasetMeta(o),p=a||r.data;if(Ac([u,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const g=e.scales[c.xAxisID];if(g.type!=="linear"&&g.type!=="time"||e.options.parsing)return;let{start:y,count:v}=yH(c,p);const b=n.threshold||4*i;if(v<=b){L2(r);return}ee(a)&&(r._data=p,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(T){this._data=T}}));let k;switch(n.algorithm){case"lttb":k=gH(p,y,v,i,n);break;case"min-max":k=mH(p,y,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=k})},destroy(e){nE(e)}};function _H(e,t,n){const i=e.segments,r=e.points,o=t.points,a=[];for(const u of i){let{start:c,end:p}=u;p=Lb(c,p,r);const g=Vv(n,r[c],r[p],u.loop);if(!t.segments){a.push({source:u,target:g,start:r[c],end:r[p]});continue}const y=h2(t,g);for(const v of y){const b=Vv(n,o[v.start],o[v.end],v.loop),k=d2(u,r,b);for(const T of k)a.push({source:T,target:v,start:{[n]:iE(g,b,"start",Math.max)},end:{[n]:iE(g,b,"end",Math.min)}})}}return a}function Vv(e,t,n,i){if(i)return;let r=t[e],o=n[e];return e==="angle"&&(r=bi(r),o=bi(o)),{property:e,start:r,end:o}}function bH(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,o=[];return t.segments.forEach(({start:a,end:u})=>{u=Lb(a,u,r);const c=r[a],p=r[u];i!==null?(o.push({x:c.x,y:i}),o.push({x:p.x,y:i})):n!==null&&(o.push({x:n,y:c.y}),o.push({x:n,y:p.y}))}),o}function Lb(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function iE(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function N2(e,t){let n=[],i=!1;return ke(e)?(i=!0,n=e):n=bH(e,t),n.length?new Uo({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function rE(e){return e&&e.fill!==!1}function wH(e,t,n){let r=e[t].fill;const o=[t];let a;if(!n)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Ze(r))return r;if(a=e[r],!a)return!1;if(a.visible)return r;o.push(r),r=a.fill}return!1}function xH(e,t,n){const i=CH(e);if(Xt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Ze(r)&&Math.floor(r)===r?SH(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function SH(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function kH(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Xt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function EH(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:Xt(e)?i=e.value:i=t.getBaseValue(),i}function CH(e){const t=e.options,n=t.fill;let i=Vt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function TH(e){const{scale:t,index:n,line:i}=e,r=[],o=i.segments,a=i.points,u=MH(t,n);u.push(N2({x:null,y:t.bottom},i));for(let c=0;c<o.length;c++){const p=o[c];for(let g=p.start;g<=p.end;g++)IH(r,a[g],u)}return new Uo({points:r,options:{}})}function MH(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}function IH(e,t,n){const i=[];for(let r=0;r<n.length;r++){const o=n[r],{first:a,last:u,point:c}=AH(o,t,"x");if(!(!c||a&&u)){if(a)i.unshift(c);else if(e.push(c),!u)break}}e.push(...i)}function AH(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],o=e.segments,a=e.points;let u=!1,c=!1;for(let p=0;p<o.length;p++){const g=o[p],y=a[g.start][n],v=a[g.end][n];if(Ss(r,y,v)){u=r===y,c=r===v;break}}return{first:u,last:c,point:i}}class O2{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:r,y:o,radius:a}=this;return n=n||{start:0,end:ye},t.arc(r,o,a,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:r}=this,o=t.angle;return{x:n+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function DH(e){const{chart:t,fill:n,line:i}=e;if(Ze(n))return LH(t,n);if(n==="stack")return TH(e);if(n==="shape")return!0;const r=NH(e);return r instanceof O2?r:N2(r,i)}function LH(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function NH(e){return(e.scale||{}).getPointPositionForValue?RH(e):OH(e)}function OH(e){const{scale:t={},fill:n}=e,i=kH(n,t);if(Ze(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function RH(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,a=EH(n,t,o),u=[];if(i.grid.circular){const c=t.getPointPositionForValue(0,o);return new O2({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(a)})}for(let c=0;c<r;++c)u.push(t.getPointPositionForValue(c,a));return u}function h0(e,t,n){const i=DH(t),{line:r,scale:o,axis:a}=t,u=r.options,c=u.fill,p=u.backgroundColor,{above:g=p,below:y=p}=c||{};i&&r.points.length&&(qg(e,n),FH(e,{line:r,target:i,above:g,below:y,area:n,scale:o,axis:a}),Kg(e))}function FH(e,t){const{line:n,target:i,above:r,below:o,area:a,scale:u}=t,c=n._loop?"angle":t.axis;e.save(),c==="x"&&o!==r&&(sE(e,i,a.top),oE(e,{line:n,target:i,color:r,scale:u,property:c}),e.restore(),e.save(),sE(e,i,a.bottom)),oE(e,{line:n,target:i,color:o,scale:u,property:c}),e.restore()}function sE(e,t,n){const{segments:i,points:r}=t;let o=!0,a=!1;e.beginPath();for(const u of i){const{start:c,end:p}=u,g=r[c],y=r[Lb(c,p,r)];o?(e.moveTo(g.x,g.y),o=!1):(e.lineTo(g.x,n),e.lineTo(g.x,g.y)),a=!!t.pathSegment(e,u,{move:a}),a?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function oE(e,t){const{line:n,target:i,property:r,color:o,scale:a}=t,u=_H(n,i,r);for(const{source:c,target:p,start:g,end:y}of u){const{style:{backgroundColor:v=o}={}}=c,b=i!==!0;e.save(),e.fillStyle=v,PH(e,a,b&&Vv(r,g,y)),e.beginPath();const k=!!n.pathSegment(e,c);let T;if(b){k?e.closePath():aE(e,i,y,r);const D=!!i.pathSegment(e,p,{move:k,reverse:!0});T=k&&D,T||aE(e,i,g,r)}e.closePath(),e.fill(T?"evenodd":"nonzero"),e.restore()}}function PH(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:o,start:a,end:u}=n||{};o==="x"&&(e.beginPath(),e.rect(a,i,u-a,r-i),e.clip())}function aE(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var BH={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let o,a,u,c;for(a=0;a<i;++a)o=e.getDatasetMeta(a),u=o.dataset,c=null,u&&u.options&&u instanceof Uo&&(c={visible:e.isDatasetVisible(a),index:a,fill:xH(u,a,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=c,r.push(c);for(a=0;a<i;++a)c=r[a],!(!c||c.fill===!1)&&(c.fill=wH(r,a,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let a=r.length-1;a>=0;--a){const u=r[a].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&h0(e.ctx,u,o))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;rE(o)&&h0(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!rE(i)||n.drawTime!=="beforeDatasetDraw"||h0(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const lE=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},zH=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class uE extends _r{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=xe(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=hn(i.font),o=r.size,a=this._computeTitleHeight(),{boxWidth:u,itemHeight:c}=lE(i,o);let p,g;n.font=r.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(a,o,u,c)+10):(g=this.maxHeight,p=this._fitCols(a,o,u,c)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:o,maxWidth:a,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],p=this.lineWidths=[0],g=r+u;let y=t;o.textAlign="left",o.textBaseline="middle";let v=-1,b=-g;return this.legendItems.forEach((k,T)=>{const D=i+n/2+o.measureText(k.text).width;(T===0||p[p.length-1]+D+2*u>a)&&(y+=g,p[p.length-(T>0?0:1)]=0,b+=g,v++),c[T]={left:0,top:b,row:v,width:D,height:r},p[p.length-1]+=D+u}),y}_fitCols(t,n,i,r){const{ctx:o,maxHeight:a,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],p=this.columnSizes=[],g=a-t;let y=u,v=0,b=0,k=0,T=0;return this.legendItems.forEach((D,w)=>{const S=i+n/2+o.measureText(D.text).width;w>0&&b+r+2*u>g&&(y+=v+u,p.push({width:v,height:b}),k+=v+u,T++,v=b=0),c[w]={left:k,top:b,col:T,width:S,height:r},v=Math.max(v,S),b+=r+u}),y+=v,p.push({width:v,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:o}}=this,a=Wl(o,this.left,this.width);if(this.isHorizontal()){let u=0,c=On(i,this.left+r,this.right-this.lineWidths[u]);for(const p of n)u!==p.row&&(u=p.row,c=On(i,this.left+r,this.right-this.lineWidths[u])),p.top+=this.top+t+r,p.left=a.leftForLtr(a.x(c),p.width),c+=p.width+r}else{let u=0,c=On(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const p of n)p.col!==u&&(u=p.col,c=On(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),p.top=c,p.left+=this.left+r,p.left=a.leftForLtr(a.x(p.left),p.width),c+=p.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;qg(t,this),this._draw(),Kg(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:o,labels:a}=t,u=Zt.color,c=Wl(t.rtl,this.left,this.width),p=hn(a.font),{color:g,padding:y}=a,v=p.size,b=v/2;let k;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;const{boxWidth:T,boxHeight:D,itemHeight:w}=lE(a,v),S=function(F,V,j){if(isNaN(T)||T<=0||isNaN(D)||D<0)return;r.save();const U=Vt(j.lineWidth,1);if(r.fillStyle=Vt(j.fillStyle,u),r.lineCap=Vt(j.lineCap,"butt"),r.lineDashOffset=Vt(j.lineDashOffset,0),r.lineJoin=Vt(j.lineJoin,"miter"),r.lineWidth=U,r.strokeStyle=Vt(j.strokeStyle,u),r.setLineDash(Vt(j.lineDash,[])),a.usePointStyle){const $={radius:D*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:U},B=c.xPlus(F,T/2),G=V+b;t2(r,$,B,G,a.pointStyleWidth&&T)}else{const $=V+Math.max((v-D)/2,0),B=c.leftForLtr(F,T),G=ya(j.borderRadius);r.beginPath(),Object.values(G).some(A=>A!==0)?Af(r,{x:B,y:$,w:T,h:D,radius:G}):r.rect(B,$,T,D),r.fill(),U!==0&&r.stroke()}r.restore()},C=function(F,V,j){Ma(r,j.text,F,V+w/2,p,{strikethrough:j.hidden,textAlign:c.textAlign(j.textAlign)})},I=this.isHorizontal(),L=this._computeTitleHeight();I?k={x:On(o,this.left+y,this.right-i[0]),y:this.top+y+L,line:0}:k={x:this.left+y,y:On(o,this.top+L+y,this.bottom-n[0].height),line:0},u2(this.ctx,t.textDirection);const R=w+y;this.legendItems.forEach((F,V)=>{r.strokeStyle=F.fontColor||g,r.fillStyle=F.fontColor||g;const j=r.measureText(F.text).width,U=c.textAlign(F.textAlign||(F.textAlign=a.textAlign)),$=T+b+j;let B=k.x,G=k.y;c.setWidth(this.width),I?V>0&&B+$+y>this.right&&(G=k.y+=R,k.line++,B=k.x=On(o,this.left+y,this.right-i[k.line])):V>0&&G+R>this.bottom&&(B=k.x=B+n[k.line].width+y,k.line++,G=k.y=On(o,this.top+L+y,this.bottom-n[k.line].height));const A=c.x(B);S(A,G,F),B=X8(U,B+T+b,I?B+$:this.right,t.rtl),C(c.x(B),G,F),I?k.x+=$+y:k.y+=R}),c2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=hn(n.font),r=zn(n.padding);if(!n.display)return;const o=Wl(t.rtl,this.left,this.width),a=this.ctx,u=n.position,c=i.size/2,p=r.top+c;let g,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+p,y=On(t.align,y,this.right-v);else{const k=this.columnSizes.reduce((T,D)=>Math.max(T,D.height),0);g=p+On(t.align,this.top,this.bottom-k-t.labels.padding-this._computeTitleHeight())}const b=On(u,y,y+v);a.textAlign=o.textAlign(xb(u)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,Ma(a,n.text,b,g,i)}_computeTitleHeight(){const t=this.options.title,n=hn(t.font),i=zn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,o;if(Ss(t,this.left,this.right)&&Ss(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Ss(t,r.left,r.left+r.width)&&Ss(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!UH(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=zH(r,i);r&&!o&&xe(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&xe(n.onHover,[t,i,this],this)}else i&&xe(n.onClick,[t,i,this],this)}}function UH(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var HH={id:"legend",_element:uE,start(e,t,n){const i=e.legend=new uE({ctx:e.ctx,options:n,chart:e});Fn.configure(e,i,n),Fn.addBox(e,i)},stop(e){Fn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Fn.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o}}=e.legend.options;return e._getSortedDatasetMetas().map(a=>{const u=a.controller.getStyle(n?0:void 0),c=zn(u.borderWidth);return{text:t[a.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!a.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Nb extends _r{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=ke(i.text)?i.text.length:1;this._padding=zn(i.padding);const o=r*hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:o,options:a}=this,u=a.align;let c=0,p,g,y;return this.isHorizontal()?(g=On(u,i,o),y=n+t,p=o-i):(a.position==="left"?(g=i+t,y=On(u,r,n),c=Oe*-.5):(g=o-t,y=On(u,n,r),c=Oe*.5),p=r-n),{titleX:g,titleY:y,maxWidth:p,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=hn(n.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:u,maxWidth:c,rotation:p}=this._drawArgs(o);Ma(t,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:p,textAlign:xb(n.align),textBaseline:"middle",translation:[a,u]})}}function WH(e,t){const n=new Nb({ctx:e.ctx,options:t,chart:e});Fn.configure(e,n,t),Fn.addBox(e,n),e.titleBlock=n}var VH={id:"title",_element:Nb,start(e,t,n){WH(e,n)},stop(e){const t=e.titleBlock;Fn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Fn.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bh=new WeakMap;var $H={id:"subtitle",start(e,t,n){const i=new Nb({ctx:e.ctx,options:n,chart:e});Fn.configure(e,i,n),Fn.addBox(e,i),bh.set(e,i)},stop(e){Fn.removeBox(e,bh.get(e)),bh.delete(e)},beforeUpdate(e,t,n){const i=bh.get(e);Fn.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jc={average(e){if(!e.length)return!1;let t,n,i=0,r=0,o=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const u=a.tooltipPosition();i+=u.x,r+=u.y,++o}}return{x:i/o,y:r/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,a,u;for(o=0,a=e.length;o<a;++o){const c=e[o].element;if(c&&c.hasValue()){const p=c.getCenterPoint(),g=Ov(t,p);g<r&&(r=g,u=c)}}if(u){const c=u.tooltipPosition();n=c.x,i=c.y}return{x:n,y:i}}};function Mr(e,t){return t&&(ke(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function cs(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function jH(e,t){const{element:n,datasetIndex:i,index:r}=t,o=e.getDatasetMeta(i).controller,{label:a,value:u}=o.getLabelAndValue(r);return{chart:e,label:a,parsed:o.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function cE(e,t){const n=e.chart.ctx,{body:i,footer:r,title:o}=e,{boxWidth:a,boxHeight:u}=t,c=hn(t.bodyFont),p=hn(t.titleFont),g=hn(t.footerFont),y=o.length,v=r.length,b=i.length,k=zn(t.padding);let T=k.height,D=0,w=i.reduce((I,L)=>I+L.before.length+L.lines.length+L.after.length,0);if(w+=e.beforeBody.length+e.afterBody.length,y&&(T+=y*p.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),w){const I=t.displayColors?Math.max(u,c.lineHeight):c.lineHeight;T+=b*I+(w-b)*c.lineHeight+(w-1)*t.bodySpacing}v&&(T+=t.footerMarginTop+v*g.lineHeight+(v-1)*t.footerSpacing);let S=0;const C=function(I){D=Math.max(D,n.measureText(I).width+S)};return n.save(),n.font=p.string,he(e.title,C),n.font=c.string,he(e.beforeBody.concat(e.afterBody),C),S=t.displayColors?a+2+t.boxPadding:0,he(i,I=>{he(I.before,C),he(I.lines,C),he(I.after,C)}),S=0,n.font=g.string,he(e.footer,C),n.restore(),D+=k.width,{width:D,height:T}}function YH(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function qH(e,t,n,i){const{x:r,width:o}=i,a=n.caretSize+n.caretPadding;if(e==="left"&&r+o+a>t.width||e==="right"&&r-o-a<0)return!0}function KH(e,t,n,i){const{x:r,width:o}=n,{width:a,chartArea:{left:u,right:c}}=e;let p="center";return i==="center"?p=r<=(u+c)/2?"left":"right":r<=o/2?p="left":r>=a-o/2&&(p="right"),qH(p,e,t,n)&&(p="center"),p}function fE(e,t,n){const i=n.yAlign||t.yAlign||YH(e,n);return{xAlign:n.xAlign||t.xAlign||KH(e,t,n,i),yAlign:i}}function GH(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function XH(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function dE(e,t,n,i){const{caretSize:r,caretPadding:o,cornerRadius:a}=e,{xAlign:u,yAlign:c}=n,p=r+o,{topLeft:g,topRight:y,bottomLeft:v,bottomRight:b}=ya(a);let k=GH(t,u);const T=XH(t,c,p);return c==="center"?u==="left"?k+=p:u==="right"&&(k-=p):u==="left"?k-=Math.max(g,v)+r:u==="right"&&(k+=Math.max(y,b)+r),{x:vn(k,0,i.width-t.width),y:vn(T,0,i.height-t.height)}}function wh(e,t,n){const i=zn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function hE(e){return Mr([],cs(e))}function QH(e,t,n){return zo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function pE(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class $v extends _r{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,o=new p2(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=QH(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=i.beforeTitle.apply(this,[t]),o=i.title.apply(this,[t]),a=i.afterTitle.apply(this,[t]);let u=[];return u=Mr(u,cs(r)),u=Mr(u,cs(o)),u=Mr(u,cs(a)),u}getBeforeBody(t,n){return hE(n.callbacks.beforeBody.apply(this,[t]))}getBody(t,n){const{callbacks:i}=n,r=[];return he(t,o=>{const a={before:[],lines:[],after:[]},u=pE(i,o);Mr(a.before,cs(u.beforeLabel.call(this,o))),Mr(a.lines,u.label.call(this,o)),Mr(a.after,cs(u.afterLabel.call(this,o))),r.push(a)}),r}getAfterBody(t,n){return hE(n.callbacks.afterBody.apply(this,[t]))}getFooter(t,n){const{callbacks:i}=n,r=i.beforeFooter.apply(this,[t]),o=i.footer.apply(this,[t]),a=i.afterFooter.apply(this,[t]);let u=[];return u=Mr(u,cs(r)),u=Mr(u,cs(o)),u=Mr(u,cs(a)),u}_createItems(t){const n=this._active,i=this.chart.data,r=[],o=[],a=[];let u=[],c,p;for(c=0,p=n.length;c<p;++c)u.push(jH(this.chart,n[c]));return t.filter&&(u=u.filter((g,y,v)=>t.filter(g,y,v,i))),t.itemSort&&(u=u.sort((g,y)=>t.itemSort(g,y,i))),he(u,g=>{const y=pE(t.callbacks,g);r.push(y.labelColor.call(this,g)),o.push(y.labelPointStyle.call(this,g)),a.push(y.labelTextColor.call(this,g))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=u,u}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let o,a=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=Jc[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=cE(this,i),p=Object.assign({},u,c),g=fE(this.chart,i,p),y=dE(i,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:y.x,y:y.y,width:c.width,height:c.height,caretX:u.x,caretY:u.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const o=this.getCaretPosition(t,i,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:o}=this,{caretSize:a,cornerRadius:u}=i,{topLeft:c,topRight:p,bottomLeft:g,bottomRight:y}=ya(u),{x:v,y:b}=t,{width:k,height:T}=n;let D,w,S,C,I,L;return o==="center"?(I=b+T/2,r==="left"?(D=v,w=D-a,C=I+a,L=I-a):(D=v+k,w=D+a,C=I-a,L=I+a),S=D):(r==="left"?w=v+Math.max(c,g)+a:r==="right"?w=v+k-Math.max(p,y)-a:w=this.caretX,o==="top"?(C=b,I=C-a,D=w-a,S=w+a):(C=b+T,I=C+a,D=w+a,S=w-a),L=C),{x1:D,x2:w,x3:S,y1:C,y2:I,y3:L}}drawTitle(t,n,i){const r=this.title,o=r.length;let a,u,c;if(o){const p=Wl(i.rtl,this.x,this.width);for(t.x=wh(this,i.titleAlign,i),n.textAlign=p.textAlign(i.titleAlign),n.textBaseline="middle",a=hn(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,c=0;c<o;++c)n.fillText(r[c],p.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+u,c+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,n,i,r,o){const a=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:c,boxWidth:p,boxPadding:g}=o,y=hn(o.bodyFont),v=wh(this,"left",o),b=r.x(v),k=c<y.lineHeight?(y.lineHeight-c)/2:0,T=n.y+k;if(o.usePointStyle){const D={radius:Math.min(p,c)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},w=r.leftForLtr(b,p)+p/2,S=T+c/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Pv(t,D,w,S),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Pv(t,D,w,S)}else{t.lineWidth=Xt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const D=r.leftForLtr(b,p-g),w=r.leftForLtr(r.xPlus(b,1),p-g-2),S=ya(a.borderRadius);Object.values(S).some(C=>C!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Af(t,{x:D,y:T,w:p,h:c,radius:S}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Af(t,{x:w,y:T+1,w:p-2,h:c-2,radius:S}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(D,T,p,c),t.strokeRect(D,T,p,c),t.fillStyle=a.backgroundColor,t.fillRect(w,T+1,p-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:o,bodyAlign:a,displayColors:u,boxHeight:c,boxWidth:p,boxPadding:g}=i,y=hn(i.bodyFont);let v=y.lineHeight,b=0;const k=Wl(i.rtl,this.x,this.width),T=function(V){n.fillText(V,k.x(t.x+b),t.y+v/2),t.y+=v+o},D=k.textAlign(a);let w,S,C,I,L,R,F;for(n.textAlign=a,n.textBaseline="middle",n.font=y.string,t.x=wh(this,D,i),n.fillStyle=i.bodyColor,he(this.beforeBody,T),b=u&&D!=="right"?a==="center"?p/2+g:p+2+g:0,I=0,R=r.length;I<R;++I){for(w=r[I],S=this.labelTextColors[I],n.fillStyle=S,he(w.before,T),C=w.lines,u&&C.length&&(this._drawColorBox(n,t,I,k,i),v=Math.max(y.lineHeight,c)),L=0,F=C.length;L<F;++L)T(C[L]),v=y.lineHeight;he(w.after,T)}b=0,v=y.lineHeight,he(this.afterBody,T),t.y-=o}drawFooter(t,n,i){const r=this.footer,o=r.length;let a,u;if(o){const c=Wl(i.rtl,this.x,this.width);for(t.x=wh(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=c.textAlign(i.footerAlign),n.textBaseline="middle",a=hn(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,u=0;u<o;++u)n.fillText(r[u],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:o,yAlign:a}=this,{x:u,y:c}=t,{width:p,height:g}=i,{topLeft:y,topRight:v,bottomLeft:b,bottomRight:k}=ya(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(u+y,c),a==="top"&&this.drawCaret(t,n,i,r),n.lineTo(u+p-v,c),n.quadraticCurveTo(u+p,c,u+p,c+v),a==="center"&&o==="right"&&this.drawCaret(t,n,i,r),n.lineTo(u+p,c+g-k),n.quadraticCurveTo(u+p,c+g,u+p-k,c+g),a==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(u+b,c+g),n.quadraticCurveTo(u,c+g,u,c+g-b),a==="center"&&o==="left"&&this.drawCaret(t,n,i,r),n.lineTo(u,c+y),n.quadraticCurveTo(u,c,u+y,c),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const a=Jc[t.position].call(this,this._active,this._eventPosition);if(!a)return;const u=this._size=cE(this,t),c=Object.assign({},a,this._size),p=fE(n,t,c),g=dE(t,c,p,n);(r._to!==g.x||o._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=u.width,this.height=u.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=zn(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,n),u2(t,n.textDirection),o.y+=a.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),c2(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:u,index:c})=>{const p=this.chart.getDatasetMeta(u);if(!p)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:p.data[c],index:c}}),o=!Op(i,r),a=this._positionChanged(r,n);(o||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],a=this._getActiveElements(t,o,n,i),u=this._positionChanged(a,t),c=n||!Op(a,o)||u;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return n;const a=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:i,caretY:r,options:o}=this,a=Jc[o.position].call(this,t,n);return a!==!1&&(i!==a.x||r!==a.y)}}$v.positioners=Jc;var ZH={id:"tooltip",_element:$v,positioners:Jc,afterInit(e,t,n){n&&(e.tooltip=new $v({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",n)===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:ls,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:ls,beforeBody:ls,beforeLabel:ls,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ee(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ls,afterBody:ls,beforeFooter:ls,footer:ls,afterFooter:ls}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},JH=Object.freeze({__proto__:null,Decimation:vH,Filler:BH,Legend:HH,SubTitle:$H,Title:VH,Tooltip:ZH});const tW=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function eW(e,t,n,i){const r=e.indexOf(t);if(r===-1)return tW(e,t,n,i);const o=e.lastIndexOf(t);return r!==o?n:r}const nW=(e,t)=>e===null?null:vn(Math.round(e),0,t);class Wp extends Na{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:o}of n)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ee(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:eW(i,t,Vt(n,t),this._addedLabels),nW(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=n;a++)r.push({value:a});return r}getLabelForValue(t){const n=this.getLabels();return t>=0&&t<n.length?n[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Wp.id="category";Wp.defaults={ticks:{callback:Wp.prototype.getLabelForValue}};function iW(e,t){const n=[],{bounds:r,step:o,min:a,max:u,precision:c,count:p,maxTicks:g,maxDigits:y,includeBounds:v}=e,b=o||1,k=g-1,{min:T,max:D}=t,w=!ee(a),S=!ee(u),C=!ee(p),I=(D-T)/(y+1);let L=fk((D-T)/k/b)*b,R,F,V,j;if(L<1e-14&&!w&&!S)return[{value:T},{value:D}];j=Math.ceil(D/L)-Math.floor(T/L),j>k&&(L=fk(j*L/k/b)*b),ee(c)||(R=Math.pow(10,c),L=Math.ceil(L*R)/R),r==="ticks"?(F=Math.floor(T/L)*L,V=Math.ceil(D/L)*L):(F=T,V=D),w&&S&&o&&V8((u-a)/o,L/1e3)?(j=Math.round(Math.min((u-a)/L,g)),L=(u-a)/j,F=a,V=u):C?(F=w?a:F,V=S?u:V,j=p-1,L=(V-F)/j):(j=(V-F)/L,Xc(j,Math.round(j),L/1e3)?j=Math.round(j):j=Math.ceil(j));const U=Math.max(dk(L),dk(F));R=Math.pow(10,ee(c)?U:c),F=Math.round(F*R)/R,V=Math.round(V*R)/R;let $=0;for(w&&(v&&F!==a?(n.push({value:a}),F<a&&$++,Xc(Math.round((F+$*L)*R)/R,a,gE(a,I,e))&&$++):F<a&&$++);$<j;++$)n.push({value:Math.round((F+$*L)*R)/R});return S&&v&&V!==u?n.length&&Xc(n[n.length-1].value,u,gE(u,I,e))?n[n.length-1].value=u:n.push({value:u}):(!S||V===u)&&n.push({value:V}),n}function gE(e,t,{horizontal:n,minRotation:i}){const r=fr(i),o=(n?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}class Vp extends Na{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ee(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const a=c=>r=n?r:c,u=c=>o=i?o:c;if(t){const c=Vr(r),p=Vr(o);c<0&&p<0?u(0):c>0&&p>0&&a(0)}if(r===o){let c=1;(o>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(c=Math.abs(o*.05)),u(o+c),t||a(r-c)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,a=iW(r,o);return t.bounds==="ticks"&&HI(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return qf(t,this.chart.options.locale,this.options.ticks.format)}}class Ob extends Vp{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ze(t)?t:0,this.max=Ze(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=fr(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ob.id="linear";Ob.defaults={ticks:{callback:em.formatters.numeric}};function mE(e){return e/Math.pow(10,Math.floor(Hi(e)))===1}function rW(e,t){const n=Math.floor(Hi(t.max)),i=Math.ceil(t.max/Math.pow(10,n)),r=[];let o=Oi(e.min,Math.pow(10,Math.floor(Hi(t.min)))),a=Math.floor(Hi(o)),u=Math.floor(o/Math.pow(10,a)),c=a<0?Math.pow(10,Math.abs(a)):1;do r.push({value:o,major:mE(o)}),++u,u===10&&(u=1,++a,c=a>=0?1:c),o=Math.round(u*Math.pow(10,a)*c)/c;while(a<n||a===n&&u<i);const p=Oi(e.max,o);return r.push({value:p,major:mE(o)}),r}class Rb extends Na{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Vp.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Ze(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ze(t)?Math.max(0,t):null,this.max=Ze(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const o=c=>i=t?i:c,a=c=>r=n?r:c,u=(c,p)=>Math.pow(10,Math.floor(Hi(c))+p);i===r&&(i<=0?(o(1),a(10)):(o(u(i,-1)),a(u(r,1)))),i<=0&&o(u(r,-1)),r<=0&&a(u(i,1)),this._zero&&this.min!==this._suggestedMin&&i===u(this.min,0)&&o(u(i,-1)),this.min=i,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=rW(n,this);return t.bounds==="ticks"&&HI(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":qf(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Hi(t),this._valueRange=Hi(this.max)-Hi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Hi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Rb.id="logarithmic";Rb.defaults={ticks:{callback:em.formatters.logarithmic,major:{enabled:!0}}};function jv(e){const t=e.ticks;if(t.display&&e.display){const n=zn(t.backdropPadding);return Vt(t.font&&t.font.size,Zt.font.size)+n.height}return 0}function sW(e,t,n){return n=ke(n)?n:[n],{w:wU(e,t.string,n),h:n.length*t.lineHeight}}function yE(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function oW(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],o=e._pointLabels.length,a=e.options.pointLabels,u=a.centerPointLabels?Oe/o:0;for(let c=0;c<o;c++){const p=a.setContext(e.getPointLabelContext(c));r[c]=p.padding;const g=e.getPointPosition(c,e.drawingArea+r[c],u),y=hn(p.font),v=sW(e.ctx,y,e._pointLabels[c]);i[c]=v;const b=bi(e.getIndexAngle(c)+u),k=Math.round(bb(b)),T=yE(k,g.x,v.w,0,180),D=yE(k,g.y,v.h,90,270);aW(n,t,b,T,D)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=lW(e,i,r)}function aW(e,t,n,i,r){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let u=0,c=0;i.start<t.l?(u=(t.l-i.start)/o,e.l=Math.min(e.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/o,e.r=Math.max(e.r,t.r+u)),r.start<t.t?(c=(t.t-r.start)/a,e.t=Math.min(e.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/a,e.b=Math.max(e.b,t.b+c))}function lW(e,t,n){const i=[],r=e._pointLabels.length,o=e.options,a=jv(o)/2,u=e.drawingArea,c=o.pointLabels.centerPointLabels?Oe/r:0;for(let p=0;p<r;p++){const g=e.getPointPosition(p,u+a+n[p],c),y=Math.round(bb(bi(g.angle+qe))),v=t[p],b=fW(g.y,v.h,y),k=uW(y),T=cW(g.x,v.w,k);i.push({x:g.x,y:b,textAlign:k,left:T,top:b,right:T+v.w,bottom:b+v.h})}return i}function uW(e){return e===0||e===180?"center":e<180?"left":"right"}function cW(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function fW(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function dW(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const o=i.setContext(e.getPointLabelContext(r)),a=hn(o.font),{x:u,y:c,textAlign:p,left:g,top:y,right:v,bottom:b}=e._pointLabelItems[r],{backdropColor:k}=o;if(!ee(k)){const T=ya(o.borderRadius),D=zn(o.backdropPadding);n.fillStyle=k;const w=g-D.left,S=y-D.top,C=v-g+D.width,I=b-y+D.height;Object.values(T).some(L=>L!==0)?(n.beginPath(),Af(n,{x:w,y:S,w:C,h:I,radius:T}),n.fill()):n.fillRect(w,S,C,I)}Ma(n,e._pointLabels[r],u,c+a.lineHeight/2,a,{color:o.color,textAlign:p,textBaseline:"middle"})}}function R2(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,ye);else{let o=e.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let a=1;a<i;a++)o=e.getPointPosition(a,t),r.lineTo(o.x,o.y)}}function hW(e,t,n,i){const r=e.ctx,o=t.circular,{color:a,lineWidth:u}=t;!o&&!i||!a||!u||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=u,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),R2(e,n,o,i),r.closePath(),r.stroke(),r.restore())}function pW(e,t,n){return zo(e,{label:n,index:t,type:"pointLabel"})}class Gf extends Vp{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=zn(jv(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Ze(t)&&!isNaN(t)?t:0,this.max=Ze(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/jv(this.options))}generateTickLabels(t){Vp.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const r=xe(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?oW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,r))}getIndexAngle(t){const n=ye/(this._pointLabels.length||1),i=this.options.startAngle||0;return bi(t*n+fr(i))}getDistanceFromCenterForValue(t){if(ee(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(ee(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return pW(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const r=this.getIndexAngle(t)-qe+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:n,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),R2(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:r}=n,o=this._pointLabels.length;let a,u,c;if(n.pointLabels.display&&dW(this,o),r.display&&this.ticks.forEach((p,g)=>{if(g!==0){u=this.getDistanceFromCenterForValue(p.value);const y=r.setContext(this.getContext(g-1));hW(this,y,u,o)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const p=i.setContext(this.getPointLabelContext(a)),{color:g,lineWidth:y}=p;!y||!g||(t.lineWidth=y,t.strokeStyle=g,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,u=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,c)=>{if(c===0&&!n.reverse)return;const p=i.setContext(this.getContext(c)),g=hn(p.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),p.showLabelBackdrop){t.font=g.string,a=t.measureText(u.label).width,t.fillStyle=p.backdropColor;const y=zn(p.backdropPadding);t.fillRect(-a/2-y.left,-o-g.size/2-y.top,a+y.width,g.size+y.height)}Ma(t,u.label,0,-o,g,{color:p.color})}),t.restore()}drawTitle(){}}Gf.id="radialLinear";Gf.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:em.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};Gf.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Gf.descriptors={angleLines:{_fallback:"grid"}};const am={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ai=Object.keys(am);function gW(e,t){return e-t}function vE(e,t){if(ee(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:o}=e._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),Ze(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(ru(o)||o===!0)?n.startOf(a,"isoWeek",o):n.startOf(a,r)),+a)}function _E(e,t,n,i){const r=ai.length;for(let o=ai.indexOf(e);o<r-1;++o){const a=am[ai[o]],u=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(u*a.size))<=i)return ai[o]}return ai[r-1]}function mW(e,t,n,i,r){for(let o=ai.length-1;o>=ai.indexOf(n);o--){const a=ai[o];if(am[a].common&&e._adapter.diff(r,i,a)>=t-1)return a}return ai[n?ai.indexOf(n):0]}function yW(e){for(let t=ai.indexOf(e)+1,n=ai.length;t<n;++t)if(am[ai[t]].common)return ai[t]}function bE(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=wb(n,t),o=n[i]>=t?n[i]:n[r];e[o]=!0}}function vW(e,t,n,i){const r=e._adapter,o=+r.startOf(t[0].value,i),a=t[t.length-1].value;let u,c;for(u=o;u<=a;u=+r.add(u,1,i))c=n[u],c>=0&&(t[c].major=!0);return t}function wE(e,t,n){const i=[],r={},o=t.length;let a,u;for(a=0;a<o;++a)u=t[a],r[u]=a,i.push({value:u,major:!1});return o===0||!n?i:vW(e,i,r,n)}class Xf extends Na{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n){const i=t.time||(t.time={}),r=this._adapter=new r5._date(t.adapters.date);r.init(n),Gc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:vE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:a,maxDefined:u}=this.getUserBounds();function c(p){!a&&!isNaN(p.min)&&(r=Math.min(r,p.min)),!u&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!a||!u)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Ze(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),o=Ze(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,a=this.max,u=q8(r,o,a);return this._unit=n.unit||(i.autoSkip?_E(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):mW(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:yW(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),wE(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let n=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=vn(n,0,a),i=vn(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,o=r.time,a=o.unit||_E(o.minUnit,n,i,this._getLabelCapacity(n)),u=Vt(o.stepSize,1),c=a==="week"?o.isoWeekday:!1,p=ru(c)||c===!0,g={};let y=n,v,b;if(p&&(y=+t.startOf(y,"isoWeek",c)),y=+t.startOf(y,p?"day":a),t.diff(i,n,a)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+a);const k=r.ticks.source==="data"&&this.getDataTimestamps();for(v=y,b=0;v<i;v=+t.add(v,u,a),b++)bE(g,v,k);return(v===i||r.bounds==="ticks"||b===1)&&bE(g,v,k),Object.keys(g).sort((T,D)=>T-D).map(T=>+T)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}_tickFormatFunction(t,n,i,r){const o=this.options,a=o.time.displayFormats,u=this._unit,c=this._majorUnit,p=u&&a[u],g=c&&a[c],y=i[n],v=c&&g&&y&&y.major,b=this._adapter.format(t,r||(v?g:p)),k=o.ticks.callback;return k?xe(k,[b,n,i],this):b}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=fr(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),a=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*a,h:i*a+u*o}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,o=this._tickFormatFunction(t,0,wE(this,[t],this._majorUnit),r),a=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(vE(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $I(t.sort(gW))}}Xf.id="time";Xf.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function xh(e,t,n){let i=0,r=e.length-1,o,a,u,c;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=ks(e,"pos",t)),{pos:o,time:u}=e[i],{pos:a,time:c}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=ks(e,"time",t)),{time:o,pos:u}=e[i],{time:a,pos:c}=e[r]);const p=a-o;return p?u+(c-u)*(t-o)/p:u}class Fb extends Xf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=xh(n,this.min),this._tableRange=xh(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],o=[];let a,u,c,p,g;for(a=0,u=t.length;a<u;++a)p=t[a],p>=n&&p<=i&&r.push(p);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,u=r.length;a<u;++a)g=r[a+1],c=r[a-1],p=r[a],Math.round((g+c)/2)!==p&&o.push({time:p,pos:a/(u-1)});return o}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(xh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return xh(this._table,i*this._tableRange+this._minPos,!0)}}Fb.id="timeseries";Fb.defaults=Xf.defaults;var _W=Object.freeze({__proto__:null,CategoryScale:Wp,LinearScale:Ob,LogarithmicScale:Rb,RadialLinearScale:Gf,TimeScale:Xf,TimeSeriesScale:Fb});const bW=[i5,pH,JH,_W];im.register(...bW);const wW=({data:e})=>{const t=Z.useRef(null),n=Z.useRef(null);return Z.useEffect(()=>{if(e.chartData&&t.current){n.current&&n.current.destroy();const i=t.current.getContext("2d");n.current=new im(i,{type:"bar",data:e.chartData,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Query Result Chart"}}}})}},[e.chartData]),xg("div",{style:{padding:"10px",border:"1px solid #ddd",borderRadius:"5px",background:"white"},children:[yn(Io,{type:"target",position:"top",id:"a"}),yn("div",{children:e.label}),yn("canvas",{ref:t,style:{width:"100%",height:"250px"}})]})};function Pt(e,t,n,i){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(g){try{p(i.next(g))}catch(y){a(y)}}function c(g){try{p(i.throw(g))}catch(y){a(y)}}function p(g){g.done?o(g.value):r(g.value).then(u,c)}p((i=i.apply(e,t||[])).next())})}function xE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wt(e){return this instanceof Wt?(this.v=e,this):new Wt(e)}function Br(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(b){return function(k){return Promise.resolve(k).then(b,y)}}function u(b,k){i[b]&&(r[b]=function(T){return new Promise(function(D,w){o.push([b,T,D,w])>1||c(b,T)})},k&&(r[b]=k(r[b])))}function c(b,k){try{p(i[b](k))}catch(T){v(o[0][3],T)}}function p(b){b.value instanceof Wt?Promise.resolve(b.value.v).then(g,y):v(o[0][2],b)}function g(b){c("next",b)}function y(b){c("throw",b)}function v(b,k){b(k),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Vh(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,o){t[r]=e[r]?function(a){return(n=!n)?{value:Wt(e[r](a)),done:!1}:o?o(a):a}:o}}function _a(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof xE=="function"?xE(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(a){return new Promise(function(u,c){a=e[o](a),r(u,c,a.done,a.value)})}}function r(o,a,u,c){Promise.resolve(c).then(function(p){o({value:p,done:u})},a)}}const xW=new TextDecoder("utf-8"),Yv=e=>xW.decode(e),SW=new TextEncoder,Pb=e=>SW.encode(e),kW=e=>typeof e=="number",F2=e=>typeof e=="boolean",cn=e=>typeof e=="function",hi=e=>e!=null&&Object(e)===e,Ia=e=>hi(e)&&cn(e.then),Qf=e=>hi(e)&&cn(e[Symbol.iterator]),mu=e=>hi(e)&&cn(e[Symbol.asyncIterator]),qv=e=>hi(e)&&hi(e.schema),P2=e=>hi(e)&&"done"in e&&"value"in e,B2=e=>hi(e)&&cn(e.stat)&&kW(e.fd),z2=e=>hi(e)&&Bb(e.body),lm=e=>"_getDOMStream"in e&&"_getNodeStream"in e,EW=e=>hi(e)&&cn(e.abort)&&cn(e.getWriter)&&!lm(e),Bb=e=>hi(e)&&cn(e.cancel)&&cn(e.getReader)&&!lm(e),CW=e=>hi(e)&&cn(e.end)&&cn(e.write)&&F2(e.writable)&&!lm(e),U2=e=>hi(e)&&cn(e.read)&&cn(e.pipe)&&F2(e.readable)&&!lm(e),TW=e=>hi(e)&&cn(e.clear)&&cn(e.bytes)&&cn(e.position)&&cn(e.setPosition)&&cn(e.capacity)&&cn(e.getBufferIdentifier)&&cn(e.createLong),zb=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function MW(e){const t=e[0]?[e[0]]:[];let n,i,r,o;for(let a,u,c=0,p=0,g=e.length;++c<g;){if(a=t[p],u=e[c],!a||!u||a.buffer!==u.buffer||u.byteOffset<a.byteOffset){u&&(t[++p]=u);continue}if({byteOffset:n,byteLength:r}=a,{byteOffset:i,byteLength:o}=u,n+r<i||i+o<n){u&&(t[++p]=u);continue}t[p]=new Uint8Array(a.buffer,n,i-n+o)}return t}function SE(e,t,n=0,i=t.byteLength){const r=e.byteLength,o=new Uint8Array(e.buffer,e.byteOffset,r),a=new Uint8Array(t.buffer,t.byteOffset,Math.min(i,r));return o.set(a,n),e}function $r(e,t){const n=MW(e),i=n.reduce((g,y)=>g+y.byteLength,0);let r,o,a,u=0,c=-1;const p=Math.min(t||Number.POSITIVE_INFINITY,i);for(const g=n.length;++c<g;){if(r=n[c],o=r.subarray(0,Math.min(r.length,p-u)),p<=u+o.length){o.length<r.length?n[c]=r.subarray(o.length):o.length===r.length&&c++,a?SE(a,o,u):a=o;break}SE(a||(a=new Uint8Array(p)),o,u),u+=o.length}return[a||new Uint8Array(0),n.slice(c),i-(a?a.byteLength:0)]}function de(e,t){let n=P2(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=Pb(n)),n instanceof ArrayBuffer?new e(n):n instanceof zb?new e(n):TW(n)?de(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const wc=e=>de(Int32Array,e),kE=e=>de(BigInt64Array,e),Qt=e=>de(Uint8Array,e),Kv=e=>(e.next(),e);function*IW(e,t){const n=function*(r){yield r},i=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof zb?n(t):Qf(t)?t:n(t);return yield*Kv(function*(r){let o=null;do o=r.next(yield de(e,o));while(!o.done)}(i[Symbol.iterator]())),new e}const AW=e=>IW(Uint8Array,e);function H2(e,t){return Br(this,arguments,function*(){if(Ia(t))return yield Wt(yield Wt(yield*Vh(_a(H2(e,yield Wt(t))))));const i=function(a){return Br(this,arguments,function*(){yield yield Wt(yield Wt(a))})},r=function(a){return Br(this,arguments,function*(){yield Wt(yield*Vh(_a(Kv(function*(u){let c=null;do c=u.next(yield c==null?void 0:c.value);while(!c.done)}(a[Symbol.iterator]())))))})},o=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof zb?i(t):Qf(t)?r(t):mu(t)?t:i(t);return yield Wt(yield*Vh(_a(Kv(function(a){return Br(this,arguments,function*(){let u=null;do u=yield Wt(a.next(yield yield Wt(de(e,u))));while(!u.done)})}(o[Symbol.asyncIterator]()))))),yield Wt(new e)})}const DW=e=>H2(Uint8Array,e);function W2(e,t,n){if(e!==0){n=n.slice(0,t);for(let i=-1,r=n.length;++i<r;)n[i]+=e}return n.subarray(0,t)}function LW(e,t){let n=0;const i=e.length;if(i!==t.length)return!1;if(i>0)do if(e[n]!==t[n])return!1;while(++n<i);return!0}const Ri={fromIterable(e){return Sh(NW(e))},fromAsyncIterable(e){return Sh(OW(e))},fromDOMStream(e){return Sh(RW(e))},fromNodeStream(e){return Sh(PW(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},Sh=e=>(e.next(),e);function*NW(e){let t,n=!1,i=[],r,o,a,u=0;function c(){return o==="peek"?$r(i,a)[0]:([r,i,u]=$r(i,a),r)}({cmd:o,size:a}=(yield(()=>null)())||{cmd:"read",size:0});const p=AW(e)[Symbol.iterator]();try{do if({done:t,value:r}=Number.isNaN(a-u)?p.next():p.next(a-u),!t&&r.byteLength>0&&(i.push(r),u+=r.byteLength),t||a<=u)do({cmd:o,size:a}=yield c());while(a<u);while(!t)}catch(g){(n=!0)&&typeof p.throw=="function"&&p.throw(g)}finally{n===!1&&typeof p.return=="function"&&p.return(null)}return null}function OW(e){return Br(this,arguments,function*(){let n,i=!1,r=[],o,a,u,c=0;function p(){return a==="peek"?$r(r,u)[0]:([o,r,c]=$r(r,u),o)}({cmd:a,size:u}=(yield yield Wt((()=>null)()))||{cmd:"read",size:0});const g=DW(e)[Symbol.asyncIterator]();try{do if({done:n,value:o}=Number.isNaN(u-c)?yield Wt(g.next()):yield Wt(g.next(u-c)),!n&&o.byteLength>0&&(r.push(o),c+=o.byteLength),n||u<=c)do({cmd:a,size:u}=yield yield Wt(p()));while(u<c);while(!n)}catch(y){(i=!0)&&typeof g.throw=="function"&&(yield Wt(g.throw(y)))}finally{i===!1&&typeof g.return=="function"&&(yield Wt(g.return(new Uint8Array(0))))}return yield Wt(null)})}function RW(e){return Br(this,arguments,function*(){let n=!1,i=!1,r=[],o,a,u,c=0;function p(){return a==="peek"?$r(r,u)[0]:([o,r,c]=$r(r,u),o)}({cmd:a,size:u}=(yield yield Wt((()=>null)()))||{cmd:"read",size:0});const g=new FW(e);try{do if({done:n,value:o}=Number.isNaN(u-c)?yield Wt(g.read()):yield Wt(g.read(u-c)),!n&&o.byteLength>0&&(r.push(Qt(o)),c+=o.byteLength),n||u<=c)do({cmd:a,size:u}=yield yield Wt(p()));while(u<c);while(!n)}catch(y){(i=!0)&&(yield Wt(g.cancel(y)))}finally{i===!1?yield Wt(g.cancel()):e.locked&&g.releaseLock()}return yield Wt(null)})}class FW{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Pt(this,void 0,void 0,function*(){const{reader:n,source:i}=this;n&&(yield n.cancel(t).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(t){return Pt(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Qt(n)),n})}}const p0=(e,t)=>{const n=r=>i([t,r]);let i;return[t,n,new Promise(r=>(i=r)&&e.once(t,n))]};function PW(e){return Br(this,arguments,function*(){const n=[];let i="error",r=!1,o=null,a,u,c=0,p=[],g;function y(){return a==="peek"?$r(p,u)[0]:([g,p,c]=$r(p,u),g)}if({cmd:a,size:u}=(yield yield Wt((()=>null)()))||{cmd:"read",size:0},e.isTTY)return yield yield Wt(new Uint8Array(0)),yield Wt(null);try{n[0]=p0(e,"end"),n[1]=p0(e,"error");do{if(n[2]=p0(e,"readable"),[i,o]=yield Wt(Promise.race(n.map(b=>b[2]))),i==="error")break;if((r=i==="end")||(Number.isFinite(u-c)?(g=Qt(e.read(u-c)),g.byteLength<u-c&&(g=Qt(e.read()))):g=Qt(e.read()),g.byteLength>0&&(p.push(g),c+=g.byteLength)),r||u<=c)do({cmd:a,size:u}=yield yield Wt(y()));while(u<c)}while(!r)}finally{yield Wt(v(n,i==="error"?o:null))}return yield Wt(null);function v(b,k){return g=p=null,new Promise((T,D)=>{for(const[w,S]of b)e.off(w,S);try{const w=e.destroy;w&&w.call(e,k),k=void 0}catch(w){k=w||k}finally{k!=null?D(k):T()}})}})}var Qe;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Qe||(Qe={}));var Un;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Un||(Un={}));var Pn;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Pn||(Pn={}));var Gi;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Gi||(Gi={}));var It;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(It||(It={}));var jr;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(jr||(jr={}));const g0=2,Or=4,vs=4,ue=4,ao=new Int32Array(2),EE=new Float32Array(ao.buffer),CE=new Float64Array(ao.buffer),kh=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Gv;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(Gv||(Gv={}));let au=class V2{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new V2(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return ao[0]=this.readInt32(t),EE[0]}readFloat64(t){return ao[kh?0:1]=this.readInt32(t),ao[kh?1:0]=this.readInt32(t+4),CE[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){EE[0]=n,this.writeInt32(t,ao[0])}writeFloat64(t,n){CE[0]=n,this.writeInt32(t,ao[kh?0:1]),this.writeInt32(t+4,ao[kh?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Or+vs)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<vs;n++)t+=String.fromCharCode(this.readInt8(this.position_+Or+n));return t}__offset(t,n){const i=t-this.readInt32(t);return n<this.readInt16(i)?this.readInt16(i+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const i=this.readInt32(t);t+=Or;const r=this.bytes_.subarray(t,t+i);return n===Gv.UTF8_BYTES?r:this.text_decoder_.decode(r)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Or}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=vs)throw new Error("FlatBuffers: file identifier must be length "+vs);for(let n=0;n<vs;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Or+n))return!1;return!0}createScalarList(t,n){const i=[];for(let r=0;r<n;++r){const o=t(r);o!==null&&i.push(o)}return i}createObjList(t,n){const i=[];for(let r=0;r<n;++r){const o=t(r);o!==null&&i.push(o.unpack())}return i}},$2=class j2{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=au.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const i=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<i+t+n;){const r=this.bb.capacity();this.bb=j2.growByteBuffer(this.bb),this.space+=this.bb.capacity()-r}this.pad(i)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,i){(this.force_defaults||n!=i)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,i){(this.force_defaults||n!=i)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,i){(this.force_defaults||n!=i)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,i){(this.force_defaults||n!==i)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,i){(this.force_defaults||n!=i)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,i){(this.force_defaults||n!=i)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,i){(this.force_defaults||n!=i)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,i){n!=i&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=n<<1,r=au.allocate(i);return r.setPosition(i-n),r.bytes().set(t.bytes(),i-n),r}addOffset(t){this.prep(Or,0),this.writeInt32(this.offset()-t+Or)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const i=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const r=2;this.addInt16(t-this.object_start);const o=(i+r)*g0;this.addInt16(o);let a=0;const u=this.space;t:for(n=0;n<this.vtables.length;n++){const c=this.bb.capacity()-this.vtables[n];if(o==this.bb.readInt16(c)){for(let p=g0;p<o;p+=g0)if(this.bb.readInt16(u+p)!=this.bb.readInt16(c+p))continue t;a=this.vtables[n];break}}return a?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,a-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,i){const r=i?ue:0;if(n){const o=n;if(this.prep(this.minalign,Or+vs+r),o.length!=vs)throw new TypeError("FlatBuffers: file identifier must be length "+vs);for(let a=vs-1;a>=0;a--)this.writeInt8(o.charCodeAt(a))}this.prep(this.minalign,Or+r),this.addOffset(t),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const i=this.bb.capacity()-t,r=i-this.bb.readInt32(i);if(!(n<this.bb.readInt16(r)&&this.bb.readInt16(r+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,i){this.notNested(),this.vector_num_elems=n,this.prep(Or,t*n),this.prep(i,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;return t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(t){return t==null?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let i=0;i<t.length;++i){const r=t[i];if(r!==null)n.push(this.createObjectOffset(r));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};var $p;(function(e){e[e.BUFFER=0]="BUFFER"})($p||($p={}));var jp;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(jp||(jp={}));class lo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new lo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+ue),(n||new lo).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):jp.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):$p.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,jp.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,$p.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,i){return lo.startBodyCompression(t),lo.addCodec(t,n),lo.addMethod(t,i),lo.endBodyCompression(t)}}class Y2{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,i){return t.prep(8,16),t.writeInt64(BigInt(i??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let q2=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,i){return t.prep(8,16),t.writeInt64(BigInt(i??0)),t.writeInt64(BigInt(n??0)),t.offset()}},hs=class Xv{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new Xv).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+ue),(n||new Xv).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new q2).__init(this.bb.__vector(this.bb_pos+i)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new Y2).__init(this.bb.__vector(this.bb_pos+i)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new lo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},ul=class Qv{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new Qv).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+ue),(n||new Qv).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new hs).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var lu;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(lu||(lu={}));var Yp;(function(e){e[e.DenseArray=0]="DenseArray"})(Yp||(Yp={}));class wi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new wi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+ue),(n||new wi).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,i){return wi.startInt(t),wi.addBitWidth(t,n),wi.addIsSigned(t,i),wi.endInt(t)}}class _s{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new _s).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+ue),(n||new _s).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new wi).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Yp.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,Yp.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class fn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new fn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+ue),(n||new fn).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,i){return fn.startKeyValue(t),fn.addKey(t,n),fn.addValue(t,i),fn.endKeyValue(t)}}let TE=class Lc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Lc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+ue),(n||new Lc).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Lc.startBinary(t),Lc.endBinary(t)}},ME=class Nc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new Nc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+ue),(n||new Nc).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Nc.startBool(t),Nc.endBool(t)}},$h=class cl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new cl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+ue),(n||new cl).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Gi.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Gi.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return cl.startDate(t),cl.addUnit(t,n),cl.endDate(t)}},fl=class no{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new no).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+ue),(n||new no).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,i,r){return no.startDecimal(t),no.addPrecision(t,n),no.addScale(t,i),no.addBitWidth(t,r),no.endDecimal(t)}},jh=class dl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new dl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+ue),(n||new dl).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):It.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,It.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return dl.startDuration(t),dl.addUnit(t,n),dl.endDuration(t)}},Yh=class hl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new hl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+ue),(n||new hl).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return hl.startFixedSizeBinary(t),hl.addByteWidth(t,n),hl.endFixedSizeBinary(t)}},qh=class pl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new pl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+ue),(n||new pl).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return pl.startFixedSizeList(t),pl.addListSize(t,n),pl.endFixedSizeList(t)}};class Rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+ue),(n||new Rr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Pn.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Pn.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Rr.startFloatingPoint(t),Rr.addPrecision(t,n),Rr.endFloatingPoint(t)}}class Fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+ue),(n||new Fr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):jr.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,jr.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Fr.startInterval(t),Fr.addUnit(t,n),Fr.endInterval(t)}}let IE=class Oc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeBinary(t,n){return(n||new Oc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeBinary(t,n){return t.setPosition(t.position()+ue),(n||new Oc).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return Oc.startLargeBinary(t),Oc.endLargeBinary(t)}},AE=class Rc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeUtf8(t,n){return(n||new Rc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeUtf8(t,n){return t.setPosition(t.position()+ue),(n||new Rc).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return Rc.startLargeUtf8(t),Rc.endLargeUtf8(t)}},DE=class Fc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new Fc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+ue),(n||new Fc).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Fc.startList(t),Fc.endList(t)}},Kh=class gl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new gl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+ue),(n||new gl).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return gl.startMap(t),gl.addKeysSorted(t,n),gl.endMap(t)}},LE=class Pc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Pc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+ue),(n||new Pc).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Pc.startNull(t),Pc.endNull(t)}};class da{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new da).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+ue),(n||new da).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return da.startStruct_(t),da.endStruct_(t)}}class Bi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new Bi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+ue),(n||new Bi).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):It.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,It.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,i){return Bi.startTime(t),Bi.addUnit(t,n),Bi.addBitWidth(t,i),Bi.endTime(t)}}class zi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new zi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+ue),(n||new zi).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):It.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,It.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,i){return zi.startTimestamp(t),zi.addUnit(t,n),zi.addTimezone(t,i),zi.endTimestamp(t)}}class si{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new si).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+ue),(n||new si).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Un.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Un.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addInt32(n[i]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,i){return si.startUnion(t),si.addMode(t,n),si.addTypeIds(t,i),si.endUnion(t)}}let NE=class Bc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new Bc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+ue),(n||new Bc).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Bc.startUtf8(t),Bc.endUtf8(t)}};var we;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(we||(we={}));let Ni=class Gh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Gh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+ue),(n||new Gh).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):we.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new _s).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const i=this.bb.__offset(this.bb_pos,14);return i?(n||new Gh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,16);return i?(n||new fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,we.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},Dr=class fs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new fs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+ue),(n||new fs).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):lu.Little}fields(t,n){const i=this.bb.__offset(this.bb_pos,6);return i?(n||new Ni).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,lu.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let i=n.length-1;i>=0;i--)t.addInt64(n[i]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,i,r,o){return fs.startSchema(t),fs.addEndianness(t,n),fs.addFields(t,i),fs.addCustomMetadata(t,r),fs.addFeatures(t,o),fs.endSchema(t)}};var se;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(se||(se={}));var W;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(W||(W={}));var ps;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(ps||(ps={}));const BW=void 0;function Lf(e){if(e===null)return"null";if(e===BW)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>Lf(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}function _e(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}function K2(e,t){return _e(e/t)+_e(e%t)/_e(t)}const zW=Symbol.for("isArrowBigNum");function br(e,...t){return t.length===0?Object.setPrototypeOf(de(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}br.prototype[zW]=!0;br.prototype.toJSON=function(){return`"${Of(this)}"`};br.prototype.valueOf=function(e){return G2(this,e)};br.prototype.toString=function(){return Of(this)};br.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return G2(this);case"string":return Of(this);case"default":return WW(this)}return Of(this)};function Vl(...e){return br.apply(this,e)}function $l(...e){return br.apply(this,e)}function Nf(...e){return br.apply(this,e)}Object.setPrototypeOf(Vl.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf($l.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Nf.prototype,Object.create(Uint32Array.prototype));Object.assign(Vl.prototype,br.prototype,{constructor:Vl,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign($l.prototype,br.prototype,{constructor:$l,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(Nf.prototype,br.prototype,{constructor:Nf,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const UW=BigInt(4294967296)*BigInt(4294967296),HW=UW-BigInt(1);function G2(e,t){const{buffer:n,byteOffset:i,byteLength:r,signed:o}=e,a=new BigUint64Array(n,i,r/8),u=o&&a.at(-1)&BigInt(1)<<BigInt(63);let c=BigInt(0),p=0;if(u){for(const g of a)c|=(g^HW)*(BigInt(1)<<BigInt(64*p++));c*=BigInt(-1),c-=BigInt(1)}else for(const g of a)c|=g*(BigInt(1)<<BigInt(64*p++));if(typeof t=="number"){const g=BigInt(Math.pow(10,t)),y=c/g,v=c%g;return _e(y)+_e(v)/_e(g)}return _e(c)}function Of(e){if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return m0(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return m0(e);t=t.slice();let i=1;for(let o=0;o<t.length;o++){const a=t[o],u=~a+i;t[o]=u,i&=a===0?1:0}return`-${m0(t)}`}function WW(e){return e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:Of(e)}function m0(e){let t="";const n=new Uint32Array(2);let i=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const r=new Uint32Array((i=new Uint16Array(i).reverse()).buffer);let o=-1;const a=i.length-1;do{for(n[0]=i[o=0];o<a;)i[o++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+i[o];i[o]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(r[0]||r[1]||r[2]||r[3]);return t??"0"}class Ub{static new(t,n){switch(n){case!0:return new Vl(t);case!1:return new $l(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Vl(t)}return t.byteLength===16?new Nf(t):new $l(t)}static signed(t){return new Vl(t)}static unsigned(t){return new $l(t)}static decimal(t){return new Nf(t)}constructor(t,n){return Ub.new(t,n)}}var X2,Q2,Z2,J2,tA,eA,nA,iA,rA,sA,oA,aA,lA,uA,cA,fA,dA,hA,pA,gA,mA,yA;class bt{static isNull(t){return(t==null?void 0:t.typeId)===W.Null}static isInt(t){return(t==null?void 0:t.typeId)===W.Int}static isFloat(t){return(t==null?void 0:t.typeId)===W.Float}static isBinary(t){return(t==null?void 0:t.typeId)===W.Binary}static isLargeBinary(t){return(t==null?void 0:t.typeId)===W.LargeBinary}static isUtf8(t){return(t==null?void 0:t.typeId)===W.Utf8}static isLargeUtf8(t){return(t==null?void 0:t.typeId)===W.LargeUtf8}static isBool(t){return(t==null?void 0:t.typeId)===W.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===W.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===W.Date}static isTime(t){return(t==null?void 0:t.typeId)===W.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===W.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===W.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===W.Duration}static isList(t){return(t==null?void 0:t.typeId)===W.List}static isStruct(t){return(t==null?void 0:t.typeId)===W.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===W.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===W.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===W.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===W.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===W.Dictionary}static isDenseUnion(t){return bt.isUnion(t)&&t.mode===Un.Dense}static isSparseUnion(t){return bt.isUnion(t)&&t.mode===Un.Sparse}constructor(t){this.typeId=t}}X2=Symbol.toStringTag;bt[X2]=(e=>(e.children=null,e.ArrayType=Array,e.OffsetArrayType=Int32Array,e[Symbol.toStringTag]="DataType"))(bt.prototype);class Lo extends bt{constructor(){super(W.Null)}toString(){return"Null"}}Q2=Symbol.toStringTag;Lo[Q2]=(e=>e[Symbol.toStringTag]="Null")(Lo.prototype);class Aa extends bt{constructor(t,n){super(W.Int),this.isSigned=t,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Z2=Symbol.toStringTag;Aa[Z2]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Aa.prototype);class Rf extends Aa{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Rf.prototype,"ArrayType",{value:Int32Array});class qp extends bt{constructor(t){super(W.Float),this.precision=t}get ArrayType(){switch(this.precision){case Pn.HALF:return Uint16Array;case Pn.SINGLE:return Float32Array;case Pn.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}J2=Symbol.toStringTag;qp[J2]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(qp.prototype);class Kp extends bt{constructor(){super(W.Binary)}toString(){return"Binary"}}tA=Symbol.toStringTag;Kp[tA]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(Kp.prototype);class Gp extends bt{constructor(){super(W.LargeBinary)}toString(){return"LargeBinary"}}eA=Symbol.toStringTag;Gp[eA]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeBinary"))(Gp.prototype);class Xp extends bt{constructor(){super(W.Utf8)}toString(){return"Utf8"}}nA=Symbol.toStringTag;Xp[nA]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(Xp.prototype);class Qp extends bt{constructor(){super(W.LargeUtf8)}toString(){return"LargeUtf8"}}iA=Symbol.toStringTag;Qp[iA]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeUtf8"))(Qp.prototype);class Zp extends bt{constructor(){super(W.Bool)}toString(){return"Bool"}}rA=Symbol.toStringTag;Zp[rA]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(Zp.prototype);class Jp extends bt{constructor(t,n,i=128){super(W.Decimal),this.scale=t,this.precision=n,this.bitWidth=i}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}sA=Symbol.toStringTag;Jp[sA]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(Jp.prototype);class tg extends bt{constructor(t){super(W.Date),this.unit=t}toString(){return`Date${(this.unit+1)*32}<${Gi[this.unit]}>`}get ArrayType(){return this.unit===Gi.DAY?Int32Array:BigInt64Array}}oA=Symbol.toStringTag;tg[oA]=(e=>(e.unit=null,e[Symbol.toStringTag]="Date"))(tg.prototype);class eg extends bt{constructor(t,n){super(W.Time),this.unit=t,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${It[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}aA=Symbol.toStringTag;eg[aA]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(eg.prototype);class ng extends bt{constructor(t,n){super(W.Timestamp),this.unit=t,this.timezone=n}toString(){return`Timestamp<${It[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}lA=Symbol.toStringTag;ng[lA]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Timestamp"))(ng.prototype);class ig extends bt{constructor(t){super(W.Interval),this.unit=t}toString(){return`Interval<${jr[this.unit]}>`}}uA=Symbol.toStringTag;ig[uA]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(ig.prototype);class rg extends bt{constructor(t){super(W.Duration),this.unit=t}toString(){return`Duration<${It[this.unit]}>`}}cA=Symbol.toStringTag;rg[cA]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(rg.prototype);class sg extends bt{constructor(t){super(W.List),this.children=[t]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}fA=Symbol.toStringTag;sg[fA]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(sg.prototype);class Kn extends bt{constructor(t){super(W.Struct),this.children=t}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}dA=Symbol.toStringTag;Kn[dA]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Kn.prototype);class og extends bt{constructor(t,n,i){super(W.Union),this.mode=t,this.children=i,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((r,o,a)=>(r[o]=a)&&r||r,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}hA=Symbol.toStringTag;og[hA]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(og.prototype);class ag extends bt{constructor(t){super(W.FixedSizeBinary),this.byteWidth=t}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}pA=Symbol.toStringTag;ag[pA]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(ag.prototype);class lg extends bt{constructor(t,n){super(W.FixedSizeList),this.listSize=t,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}gA=Symbol.toStringTag;lg[gA]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(lg.prototype);class ug extends bt{constructor(t,n=!1){var i,r,o;if(super(W.Map),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((i=t==null?void 0:t.type)===null||i===void 0)&&i.children)){const a=(r=t==null?void 0:t.type)===null||r===void 0?void 0:r.children[0];a&&(a.name="key");const u=(o=t==null?void 0:t.type)===null||o===void 0?void 0:o.children[1];u&&(u.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}mA=Symbol.toStringTag;ug[mA]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(ug.prototype);const VW=(e=>()=>++e)(-1);class uu extends bt{constructor(t,n,i,r){super(W.Dictionary),this.indices=n,this.dictionary=t,this.isOrdered=r||!1,this.id=i==null?VW():_e(i)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}yA=Symbol.toStringTag;uu[yA]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(uu.prototype);function gs(e){const t=e;switch(e.typeId){case W.Decimal:return e.bitWidth/32;case W.Interval:return 1+t.unit;case W.FixedSizeList:return t.listSize;case W.FixedSizeBinary:return t.byteWidth;default:return 1}}class Yt{visitMany(t,...n){return t.map((i,r)=>this.visit(i,...n.map(o=>o[r])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return $W(this,t,n)}getVisitFnByTypeId(t,n=!0){return ml(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitLargeUtf8(t,...n){return null}visitBinary(t,...n){return null}visitLargeBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function $W(e,t,n=!0){return typeof t=="number"?ml(e,t,n):typeof t=="string"&&t in W?ml(e,W[t],n):t&&t instanceof bt?ml(e,OE(t),n):t!=null&&t.type&&t.type instanceof bt?ml(e,OE(t.type),n):ml(e,W.NONE,n)}function ml(e,t,n=!0){let i=null;switch(t){case W.Null:i=e.visitNull;break;case W.Bool:i=e.visitBool;break;case W.Int:i=e.visitInt;break;case W.Int8:i=e.visitInt8||e.visitInt;break;case W.Int16:i=e.visitInt16||e.visitInt;break;case W.Int32:i=e.visitInt32||e.visitInt;break;case W.Int64:i=e.visitInt64||e.visitInt;break;case W.Uint8:i=e.visitUint8||e.visitInt;break;case W.Uint16:i=e.visitUint16||e.visitInt;break;case W.Uint32:i=e.visitUint32||e.visitInt;break;case W.Uint64:i=e.visitUint64||e.visitInt;break;case W.Float:i=e.visitFloat;break;case W.Float16:i=e.visitFloat16||e.visitFloat;break;case W.Float32:i=e.visitFloat32||e.visitFloat;break;case W.Float64:i=e.visitFloat64||e.visitFloat;break;case W.Utf8:i=e.visitUtf8;break;case W.LargeUtf8:i=e.visitLargeUtf8;break;case W.Binary:i=e.visitBinary;break;case W.LargeBinary:i=e.visitLargeBinary;break;case W.FixedSizeBinary:i=e.visitFixedSizeBinary;break;case W.Date:i=e.visitDate;break;case W.DateDay:i=e.visitDateDay||e.visitDate;break;case W.DateMillisecond:i=e.visitDateMillisecond||e.visitDate;break;case W.Timestamp:i=e.visitTimestamp;break;case W.TimestampSecond:i=e.visitTimestampSecond||e.visitTimestamp;break;case W.TimestampMillisecond:i=e.visitTimestampMillisecond||e.visitTimestamp;break;case W.TimestampMicrosecond:i=e.visitTimestampMicrosecond||e.visitTimestamp;break;case W.TimestampNanosecond:i=e.visitTimestampNanosecond||e.visitTimestamp;break;case W.Time:i=e.visitTime;break;case W.TimeSecond:i=e.visitTimeSecond||e.visitTime;break;case W.TimeMillisecond:i=e.visitTimeMillisecond||e.visitTime;break;case W.TimeMicrosecond:i=e.visitTimeMicrosecond||e.visitTime;break;case W.TimeNanosecond:i=e.visitTimeNanosecond||e.visitTime;break;case W.Decimal:i=e.visitDecimal;break;case W.List:i=e.visitList;break;case W.Struct:i=e.visitStruct;break;case W.Union:i=e.visitUnion;break;case W.DenseUnion:i=e.visitDenseUnion||e.visitUnion;break;case W.SparseUnion:i=e.visitSparseUnion||e.visitUnion;break;case W.Dictionary:i=e.visitDictionary;break;case W.Interval:i=e.visitInterval;break;case W.IntervalDayTime:i=e.visitIntervalDayTime||e.visitInterval;break;case W.IntervalYearMonth:i=e.visitIntervalYearMonth||e.visitInterval;break;case W.Duration:i=e.visitDuration;break;case W.DurationSecond:i=e.visitDurationSecond||e.visitDuration;break;case W.DurationMillisecond:i=e.visitDurationMillisecond||e.visitDuration;break;case W.DurationMicrosecond:i=e.visitDurationMicrosecond||e.visitDuration;break;case W.DurationNanosecond:i=e.visitDurationNanosecond||e.visitDuration;break;case W.FixedSizeList:i=e.visitFixedSizeList;break;case W.Map:i=e.visitMap;break}if(typeof i=="function")return i;if(!n)return()=>null;throw new Error(`Unrecognized type '${W[t]}'`)}function OE(e){switch(e.typeId){case W.Null:return W.Null;case W.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?W.Int8:W.Uint8;case 16:return n?W.Int16:W.Uint16;case 32:return n?W.Int32:W.Uint32;case 64:return n?W.Int64:W.Uint64}return W.Int}case W.Float:switch(e.precision){case Pn.HALF:return W.Float16;case Pn.SINGLE:return W.Float32;case Pn.DOUBLE:return W.Float64}return W.Float;case W.Binary:return W.Binary;case W.LargeBinary:return W.LargeBinary;case W.Utf8:return W.Utf8;case W.LargeUtf8:return W.LargeUtf8;case W.Bool:return W.Bool;case W.Decimal:return W.Decimal;case W.Time:switch(e.unit){case It.SECOND:return W.TimeSecond;case It.MILLISECOND:return W.TimeMillisecond;case It.MICROSECOND:return W.TimeMicrosecond;case It.NANOSECOND:return W.TimeNanosecond}return W.Time;case W.Timestamp:switch(e.unit){case It.SECOND:return W.TimestampSecond;case It.MILLISECOND:return W.TimestampMillisecond;case It.MICROSECOND:return W.TimestampMicrosecond;case It.NANOSECOND:return W.TimestampNanosecond}return W.Timestamp;case W.Date:switch(e.unit){case Gi.DAY:return W.DateDay;case Gi.MILLISECOND:return W.DateMillisecond}return W.Date;case W.Interval:switch(e.unit){case jr.DAY_TIME:return W.IntervalDayTime;case jr.YEAR_MONTH:return W.IntervalYearMonth}return W.Interval;case W.Duration:switch(e.unit){case It.SECOND:return W.DurationSecond;case It.MILLISECOND:return W.DurationMillisecond;case It.MICROSECOND:return W.DurationMicrosecond;case It.NANOSECOND:return W.DurationNanosecond}return W.Duration;case W.Map:return W.Map;case W.List:return W.List;case W.Struct:return W.Struct;case W.Union:switch(e.mode){case Un.Dense:return W.DenseUnion;case Un.Sparse:return W.SparseUnion}return W.Union;case W.FixedSizeBinary:return W.FixedSizeBinary;case W.FixedSizeList:return W.FixedSizeList;case W.Dictionary:return W.Dictionary}throw new Error(`Unrecognized type '${W[e.typeId]}'`)}Yt.prototype.visitInt8=null;Yt.prototype.visitInt16=null;Yt.prototype.visitInt32=null;Yt.prototype.visitInt64=null;Yt.prototype.visitUint8=null;Yt.prototype.visitUint16=null;Yt.prototype.visitUint32=null;Yt.prototype.visitUint64=null;Yt.prototype.visitFloat16=null;Yt.prototype.visitFloat32=null;Yt.prototype.visitFloat64=null;Yt.prototype.visitDateDay=null;Yt.prototype.visitDateMillisecond=null;Yt.prototype.visitTimestampSecond=null;Yt.prototype.visitTimestampMillisecond=null;Yt.prototype.visitTimestampMicrosecond=null;Yt.prototype.visitTimestampNanosecond=null;Yt.prototype.visitTimeSecond=null;Yt.prototype.visitTimeMillisecond=null;Yt.prototype.visitTimeMicrosecond=null;Yt.prototype.visitTimeNanosecond=null;Yt.prototype.visitDenseUnion=null;Yt.prototype.visitSparseUnion=null;Yt.prototype.visitIntervalDayTime=null;Yt.prototype.visitIntervalYearMonth=null;Yt.prototype.visitDuration=null;Yt.prototype.visitDurationSecond=null;Yt.prototype.visitDurationMillisecond=null;Yt.prototype.visitDurationMicrosecond=null;Yt.prototype.visitDurationNanosecond=null;const vA=new Float64Array(1),ll=new Uint32Array(vA.buffer);function _A(e){const t=(e&31744)>>10,n=(e&1023)/1024,i=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return i*(n?Number.NaN:1/0);case 0:return i*(n?6103515625e-14*n:0)}return i*Math.pow(2,t-15)*(1+n)}function jW(e){if(e!==e)return 32256;vA[0]=e;const t=(ll[1]&2147483648)>>16&65535;let n=ll[1]&2146435072,i=0;return n>=1089470464?ll[0]>0?n=31744:(n=(n&2080374784)>>16,i=(ll[1]&1048575)>>10):n<=1056964608?(i=1048576+(ll[1]&1048575),i=1048576+(i<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,i=(ll[1]&1048575)+512>>10),t|n|i&65535}class At extends Yt{}function Nt(e){return(t,n,i)=>{if(t.setValid(n,i!=null))return e(t,n,i)}}const YW=(e,t,n)=>{e[t]=Math.floor(n/864e5)},bA=(e,t,n,i)=>{if(n+1<t.length){const r=_e(t[n]),o=_e(t[n+1]);e.set(i.subarray(0,o-r),r)}},qW=({offset:e,values:t},n,i)=>{const r=e+n;i?t[r>>3]|=1<<r%8:t[r>>3]&=~(1<<r%8)},Os=({values:e},t,n)=>{e[t]=n},Hb=({values:e},t,n)=>{e[t]=n},wA=({values:e},t,n)=>{e[t]=jW(n)},KW=(e,t,n)=>{switch(e.type.precision){case Pn.HALF:return wA(e,t,n);case Pn.SINGLE:case Pn.DOUBLE:return Hb(e,t,n)}},xA=({values:e},t,n)=>{YW(e,t,n.valueOf())},SA=({values:e},t,n)=>{e[t]=BigInt(n)},GW=({stride:e,values:t},n,i)=>{t.set(i.subarray(0,e),e*n)},kA=({values:e,valueOffsets:t},n,i)=>bA(e,t,n,i),EA=({values:e,valueOffsets:t},n,i)=>bA(e,t,n,Pb(i)),XW=(e,t,n)=>{e.type.unit===Gi.DAY?xA(e,t,n):SA(e,t,n)},CA=({values:e},t,n)=>{e[t]=BigInt(n/1e3)},TA=({values:e},t,n)=>{e[t]=BigInt(n)},MA=({values:e},t,n)=>{e[t]=BigInt(n*1e3)},IA=({values:e},t,n)=>{e[t]=BigInt(n*1e6)},QW=(e,t,n)=>{switch(e.type.unit){case It.SECOND:return CA(e,t,n);case It.MILLISECOND:return TA(e,t,n);case It.MICROSECOND:return MA(e,t,n);case It.NANOSECOND:return IA(e,t,n)}},AA=({values:e},t,n)=>{e[t]=n},DA=({values:e},t,n)=>{e[t]=n},LA=({values:e},t,n)=>{e[t]=n},NA=({values:e},t,n)=>{e[t]=n},ZW=(e,t,n)=>{switch(e.type.unit){case It.SECOND:return AA(e,t,n);case It.MILLISECOND:return DA(e,t,n);case It.MICROSECOND:return LA(e,t,n);case It.NANOSECOND:return NA(e,t,n)}},JW=({values:e,stride:t},n,i)=>{e.set(i.subarray(0,t),t*n)},tV=(e,t,n)=>{const i=e.children[0],r=e.valueOffsets,o=Xi.getVisitFn(i);if(Array.isArray(n))for(let a=-1,u=r[t],c=r[t+1];u<c;)o(i,u++,n[++a]);else for(let a=-1,u=r[t],c=r[t+1];u<c;)o(i,u++,n.get(++a))},eV=(e,t,n)=>{const i=e.children[0],{valueOffsets:r}=e,o=Xi.getVisitFn(i);let{[t]:a,[t+1]:u}=r;const c=n instanceof Map?n.entries():Object.entries(n);for(const p of c)if(o(i,a,p),++a>=u)break},nV=(e,t)=>(n,i,r,o)=>i&&n(i,e,t[o]),iV=(e,t)=>(n,i,r,o)=>i&&n(i,e,t.get(o)),rV=(e,t)=>(n,i,r,o)=>i&&n(i,e,t.get(r.name)),sV=(e,t)=>(n,i,r,o)=>i&&n(i,e,t[r.name]),oV=(e,t,n)=>{const i=e.type.children.map(o=>Xi.getVisitFn(o.type)),r=n instanceof Map?rV(t,n):n instanceof ae?iV(t,n):Array.isArray(n)?nV(t,n):sV(t,n);e.type.children.forEach((o,a)=>r(i[a],e.children[a],o,a))},aV=(e,t,n)=>{e.type.mode===Un.Dense?OA(e,t,n):RA(e,t,n)},OA=(e,t,n)=>{const i=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[i];Xi.visit(r,e.valueOffsets[t],n)},RA=(e,t,n)=>{const i=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[i];Xi.visit(r,t,n)},lV=(e,t,n)=>{var i;(i=e.dictionary)===null||i===void 0||i.set(e.values[t],n)},uV=(e,t,n)=>{e.type.unit===jr.DAY_TIME?FA(e,t,n):PA(e,t,n)},FA=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},PA=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},BA=({values:e},t,n)=>{e[t]=n},zA=({values:e},t,n)=>{e[t]=n},UA=({values:e},t,n)=>{e[t]=n},HA=({values:e},t,n)=>{e[t]=n},cV=(e,t,n)=>{switch(e.type.unit){case It.SECOND:return BA(e,t,n);case It.MILLISECOND:return zA(e,t,n);case It.MICROSECOND:return UA(e,t,n);case It.NANOSECOND:return HA(e,t,n)}},fV=(e,t,n)=>{const{stride:i}=e,r=e.children[0],o=Xi.getVisitFn(r);if(Array.isArray(n))for(let a=-1,u=t*i;++a<i;)o(r,u+a,n[a]);else for(let a=-1,u=t*i;++a<i;)o(r,u+a,n.get(a))};At.prototype.visitBool=Nt(qW);At.prototype.visitInt=Nt(Os);At.prototype.visitInt8=Nt(Os);At.prototype.visitInt16=Nt(Os);At.prototype.visitInt32=Nt(Os);At.prototype.visitInt64=Nt(Os);At.prototype.visitUint8=Nt(Os);At.prototype.visitUint16=Nt(Os);At.prototype.visitUint32=Nt(Os);At.prototype.visitUint64=Nt(Os);At.prototype.visitFloat=Nt(KW);At.prototype.visitFloat16=Nt(wA);At.prototype.visitFloat32=Nt(Hb);At.prototype.visitFloat64=Nt(Hb);At.prototype.visitUtf8=Nt(EA);At.prototype.visitLargeUtf8=Nt(EA);At.prototype.visitBinary=Nt(kA);At.prototype.visitLargeBinary=Nt(kA);At.prototype.visitFixedSizeBinary=Nt(GW);At.prototype.visitDate=Nt(XW);At.prototype.visitDateDay=Nt(xA);At.prototype.visitDateMillisecond=Nt(SA);At.prototype.visitTimestamp=Nt(QW);At.prototype.visitTimestampSecond=Nt(CA);At.prototype.visitTimestampMillisecond=Nt(TA);At.prototype.visitTimestampMicrosecond=Nt(MA);At.prototype.visitTimestampNanosecond=Nt(IA);At.prototype.visitTime=Nt(ZW);At.prototype.visitTimeSecond=Nt(AA);At.prototype.visitTimeMillisecond=Nt(DA);At.prototype.visitTimeMicrosecond=Nt(LA);At.prototype.visitTimeNanosecond=Nt(NA);At.prototype.visitDecimal=Nt(JW);At.prototype.visitList=Nt(tV);At.prototype.visitStruct=Nt(oV);At.prototype.visitUnion=Nt(aV);At.prototype.visitDenseUnion=Nt(OA);At.prototype.visitSparseUnion=Nt(RA);At.prototype.visitDictionary=Nt(lV);At.prototype.visitInterval=Nt(uV);At.prototype.visitIntervalDayTime=Nt(FA);At.prototype.visitIntervalYearMonth=Nt(PA);At.prototype.visitDuration=Nt(cV);At.prototype.visitDurationSecond=Nt(BA);At.prototype.visitDurationMillisecond=Nt(zA);At.prototype.visitDurationMicrosecond=Nt(UA);At.prototype.visitDurationNanosecond=Nt(HA);At.prototype.visitFixedSizeList=Nt(fV);At.prototype.visitMap=Nt(eV);const Xi=new At,lr=Symbol.for("parent"),jl=Symbol.for("rowIndex");class Wb{constructor(t,n){return this[lr]=t,this[jl]=n,new Proxy(this,new hV)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[jl],n=this[lr],i=n.type.children,r={};for(let o=-1,a=i.length;++o<a;)r[i[o].name]=pi.visit(n.children[o],t);return r}toString(){return`{${[...this].map(([t,n])=>`${Lf(t)}: ${Lf(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new dV(this[lr],this[jl])}}class dV{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,pi.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Wb.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[lr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[jl]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class hV{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[lr].type.children.map(n=>n.name)}has(t,n){return t[lr].type.children.findIndex(i=>i.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[lr].type.children.findIndex(i=>i.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const i=t[lr].type.children.findIndex(r=>r.name===n);if(i!==-1){const r=pi.visit(t[lr].children[i],t[jl]);return Reflect.set(t,n,r),r}}set(t,n,i){const r=t[lr].type.children.findIndex(o=>o.name===n);return r!==-1?(Xi.visit(t[lr].children[r],t[jl],i),Reflect.set(t,n,i)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,i):!1}}class kt extends Yt{}function Dt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const pV=(e,t)=>864e5*e[t],gV=(e,t)=>null,WA=(e,t,n)=>{if(n+1>=t.length)return null;const i=_e(t[n]),r=_e(t[n+1]);return e.subarray(i,r)},mV=({offset:e,values:t},n)=>{const i=e+n;return(t[i>>3]&1<<i%8)!==0},VA=({values:e},t)=>pV(e,t),$A=({values:e},t)=>_e(e[t]),Ho=({stride:e,values:t},n)=>t[e*n],yV=({stride:e,values:t},n)=>_A(t[e*n]),jA=({values:e},t)=>e[t],vV=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),YA=({values:e,valueOffsets:t},n)=>WA(e,t,n),qA=({values:e,valueOffsets:t},n)=>{const i=WA(e,t,n);return i!==null?Yv(i):null},_V=({values:e},t)=>e[t],bV=({type:e,values:t},n)=>e.precision!==Pn.HALF?t[n]:_A(t[n]),wV=(e,t)=>e.type.unit===Gi.DAY?VA(e,t):$A(e,t),KA=({values:e},t)=>1e3*_e(e[t]),GA=({values:e},t)=>_e(e[t]),XA=({values:e},t)=>K2(e[t],BigInt(1e3)),QA=({values:e},t)=>K2(e[t],BigInt(1e6)),xV=(e,t)=>{switch(e.type.unit){case It.SECOND:return KA(e,t);case It.MILLISECOND:return GA(e,t);case It.MICROSECOND:return XA(e,t);case It.NANOSECOND:return QA(e,t)}},ZA=({values:e},t)=>e[t],JA=({values:e},t)=>e[t],tD=({values:e},t)=>e[t],eD=({values:e},t)=>e[t],SV=(e,t)=>{switch(e.type.unit){case It.SECOND:return ZA(e,t);case It.MILLISECOND:return JA(e,t);case It.MICROSECOND:return tD(e,t);case It.NANOSECOND:return eD(e,t)}},kV=({values:e,stride:t},n)=>Ub.decimal(e.subarray(t*n,t*(n+1))),EV=(e,t)=>{const{valueOffsets:n,stride:i,children:r}=e,{[t*i]:o,[t*i+1]:a}=n,c=r[0].slice(o,a-o);return new ae([c])},CV=(e,t)=>{const{valueOffsets:n,children:i}=e,{[t]:r,[t+1]:o}=n,a=i[0];return new Vb(a.slice(r,o-r))},TV=(e,t)=>new Wb(e,t),MV=(e,t)=>e.type.mode===Un.Dense?nD(e,t):iD(e,t),nD=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[n];return pi.visit(i,e.valueOffsets[t])},iD=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[n];return pi.visit(i,t)},IV=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},AV=(e,t)=>e.type.unit===jr.DAY_TIME?rD(e,t):sD(e,t),rD=({values:e},t)=>e.subarray(2*t,2*(t+1)),sD=({values:e},t)=>{const n=e[t],i=new Int32Array(2);return i[0]=Math.trunc(n/12),i[1]=Math.trunc(n%12),i},oD=({values:e},t)=>e[t],aD=({values:e},t)=>e[t],lD=({values:e},t)=>e[t],uD=({values:e},t)=>e[t],DV=(e,t)=>{switch(e.type.unit){case It.SECOND:return oD(e,t);case It.MILLISECOND:return aD(e,t);case It.MICROSECOND:return lD(e,t);case It.NANOSECOND:return uD(e,t)}},LV=(e,t)=>{const{stride:n,children:i}=e,o=i[0].slice(t*n,n);return new ae([o])};kt.prototype.visitNull=Dt(gV);kt.prototype.visitBool=Dt(mV);kt.prototype.visitInt=Dt(_V);kt.prototype.visitInt8=Dt(Ho);kt.prototype.visitInt16=Dt(Ho);kt.prototype.visitInt32=Dt(Ho);kt.prototype.visitInt64=Dt(jA);kt.prototype.visitUint8=Dt(Ho);kt.prototype.visitUint16=Dt(Ho);kt.prototype.visitUint32=Dt(Ho);kt.prototype.visitUint64=Dt(jA);kt.prototype.visitFloat=Dt(bV);kt.prototype.visitFloat16=Dt(yV);kt.prototype.visitFloat32=Dt(Ho);kt.prototype.visitFloat64=Dt(Ho);kt.prototype.visitUtf8=Dt(qA);kt.prototype.visitLargeUtf8=Dt(qA);kt.prototype.visitBinary=Dt(YA);kt.prototype.visitLargeBinary=Dt(YA);kt.prototype.visitFixedSizeBinary=Dt(vV);kt.prototype.visitDate=Dt(wV);kt.prototype.visitDateDay=Dt(VA);kt.prototype.visitDateMillisecond=Dt($A);kt.prototype.visitTimestamp=Dt(xV);kt.prototype.visitTimestampSecond=Dt(KA);kt.prototype.visitTimestampMillisecond=Dt(GA);kt.prototype.visitTimestampMicrosecond=Dt(XA);kt.prototype.visitTimestampNanosecond=Dt(QA);kt.prototype.visitTime=Dt(SV);kt.prototype.visitTimeSecond=Dt(ZA);kt.prototype.visitTimeMillisecond=Dt(JA);kt.prototype.visitTimeMicrosecond=Dt(tD);kt.prototype.visitTimeNanosecond=Dt(eD);kt.prototype.visitDecimal=Dt(kV);kt.prototype.visitList=Dt(EV);kt.prototype.visitStruct=Dt(TV);kt.prototype.visitUnion=Dt(MV);kt.prototype.visitDenseUnion=Dt(nD);kt.prototype.visitSparseUnion=Dt(iD);kt.prototype.visitDictionary=Dt(IV);kt.prototype.visitInterval=Dt(AV);kt.prototype.visitIntervalDayTime=Dt(rD);kt.prototype.visitIntervalYearMonth=Dt(sD);kt.prototype.visitDuration=Dt(DV);kt.prototype.visitDurationSecond=Dt(oD);kt.prototype.visitDurationMillisecond=Dt(aD);kt.prototype.visitDurationMicrosecond=Dt(lD);kt.prototype.visitDurationNanosecond=Dt(uD);kt.prototype.visitFixedSizeList=Dt(LV);kt.prototype.visitMap=Dt(CV);const pi=new kt,yl=Symbol.for("keys"),Yl=Symbol.for("vals"),vl=Symbol.for("kKeysAsStrings"),Zv=Symbol.for("_kKeysAsStrings");class Vb{constructor(t){return this[yl]=new ae([t.children[0]]).memoize(),this[Yl]=t.children[1],new Proxy(this,new OV)}get[vl](){return this[Zv]||(this[Zv]=Array.from(this[yl].toArray(),String))}[Symbol.iterator](){return new NV(this[yl],this[Yl])}get size(){return this[yl].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[yl],n=this[Yl],i={};for(let r=-1,o=t.length;++r<o;)i[t.get(r)]=pi.visit(n,r);return i}toString(){return`{${[...this].map(([t,n])=>`${Lf(t)}: ${Lf(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class NV{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),pi.visit(this.vals,t)]})}}class OV{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[vl]}has(t,n){return t[vl].includes(n)}getOwnPropertyDescriptor(t,n){if(t[vl].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const i=t[vl].indexOf(n);if(i!==-1){const r=pi.visit(Reflect.get(t,Yl),i);return Reflect.set(t,n,r),r}}set(t,n,i){const r=t[vl].indexOf(n);return r!==-1?(Xi.visit(Reflect.get(t,Yl),r,i),Reflect.set(t,n,i)):Reflect.has(t,n)?Reflect.set(t,n,i):!1}}Object.defineProperties(Vb.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[yl]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Yl]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Zv]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let RE;function cD(e,t,n,i){const{length:r=0}=e;let o=typeof t!="number"?0:t,a=typeof n!="number"?r:n;return o<0&&(o=(o%r+r)%r),a<0&&(a=(a%r+r)%r),a<o&&(RE=o,o=a,a=RE),a>r&&(a=r),i?i(e,o,a):[o,a]}const $b=(e,t)=>e<0?t+e:e,FE=e=>e!==e;function yu(e){if(typeof e!=="object"||e===null)return FE(e)?FE:n=>n===e;if(e instanceof Date){const n=e.valueOf();return i=>i instanceof Date?i.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?LW(e,n):!1:e instanceof Map?FV(e):Array.isArray(e)?RV(e):e instanceof ae?PV(e):BV(e,!0)}function RV(e){const t=[];for(let n=-1,i=e.length;++n<i;)t[n]=yu(e[n]);return um(t)}function FV(e){let t=-1;const n=[];for(const i of e.values())n[++t]=yu(i);return um(n)}function PV(e){const t=[];for(let n=-1,i=e.length;++n<i;)t[n]=yu(e.get(n));return um(t)}function BV(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const i=[];for(let r=-1,o=n.length;++r<o;)i[r]=yu(e[n[r]]);return um(i,n)}function um(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return zV(e,n);case Map:return PE(e,n,n.keys());case Vb:case Wb:case Object:case void 0:return PE(e,n,t||Object.keys(n))}return n instanceof ae?UV(e,n):!1}}function zV(e,t){const n=e.length;if(t.length!==n)return!1;for(let i=-1;++i<n;)if(!e[i](t[i]))return!1;return!0}function UV(e,t){const n=e.length;if(t.length!==n)return!1;for(let i=-1;++i<n;)if(!e[i](t.get(i)))return!1;return!0}function PE(e,t,n){const i=n[Symbol.iterator](),r=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),o=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let a=0;const u=e.length;let c=o.next(),p=i.next(),g=r.next();for(;a<u&&!p.done&&!g.done&&!c.done&&!(p.value!==g.value||!e[a](c.value));++a,p=i.next(),g=r.next(),c=o.next());return a===u&&p.done&&g.done&&c.done?!0:(i.return&&i.return(),r.return&&r.return(),o.return&&o.return(),!1)}function fD(e,t,n,i){return(n&1<<i)!==0}function HV(e,t,n,i){return(n&1<<i)>>i}function cg(e,t,n){const i=n.byteLength+7&-8;if(e>0||n.byteLength<i){const r=new Uint8Array(i);return r.set(e%8===0?n.subarray(e>>3):fg(new jb(n,e,t,null,fD)).subarray(0,i)),r}return n}function fg(e){const t=[];let n=0,i=0,r=0;for(const a of e)a&&(r|=1<<i),++i===8&&(t[n++]=r,r=i=0);(n===0||i>0)&&(t[n++]=r);const o=new Uint8Array(t.length+7&-8);return o.set(t),o}class jb{constructor(t,n,i,r,o){this.bytes=t,this.length=i,this.context=r,this.get=o,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Jv(e,t,n){if(n-t<=0)return 0;if(n-t<8){let o=0;for(const a of new jb(e,t,n-t,e,HV))o+=a;return o}const i=n>>3<<3,r=t+(t%8===0?0:8-t%8);return Jv(e,t,r)+Jv(e,i,n)+WV(e,r>>3,i-r>>3)}function WV(e,t,n){let i=0,r=Math.trunc(t);const o=new DataView(e.buffer,e.byteOffset,e.byteLength),a=n===void 0?e.byteLength:r+n;for(;a-r>=4;)i+=y0(o.getUint32(r)),r+=4;for(;a-r>=2;)i+=y0(o.getUint16(r)),r+=2;for(;a-r>=1;)i+=y0(o.getUint8(r)),r+=1;return i}function y0(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const VV=-1;class ce{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return bt.isSparseUnion(t)?this.children.some(n=>n.nullable):bt.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:i,nullBitmap:r,typeIds:o}=this;return n&&(t+=n.byteLength),i&&(t+=i.byteLength),r&&(t+=r.byteLength),o&&(t+=o.byteLength),this.children.reduce((a,u)=>a+u.byteLength,t)}get nullCount(){if(bt.isUnion(this.type))return this.children.reduce((i,r)=>i+r.nullCount,0);let t=this._nullCount,n;return t<=VV&&(n=this.nullBitmap)&&(this._nullCount=t=n.length===0?0:this.length-Jv(n,this.offset,this.offset+this.length)),t}constructor(t,n,i,r,o,a=[],u){this.type=t,this.children=a,this.dictionary=u,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(r||0,-1));let c;o instanceof ce?(this.stride=o.stride,this.values=o.values,this.typeIds=o.typeIds,this.nullBitmap=o.nullBitmap,this.valueOffsets=o.valueOffsets):(this.stride=gs(t),o&&((c=o[0])&&(this.valueOffsets=c),(c=o[1])&&(this.values=c),(c=o[2])&&(this.nullBitmap=c),(c=o[3])&&(this.typeIds=c)))}getValid(t){const{type:n}=this;if(bt.isUnion(n)){const i=n,r=this.children[i.typeIdToChildIndex[this.typeIds[t]]],o=i.mode===Un.Dense?this.valueOffsets[t]:t;return r.getValid(o)}if(this.nullable&&this.nullCount>0){const i=this.offset+t;return(this.nullBitmap[i>>3]&1<<i%8)!==0}return!0}setValid(t,n){let i;const{type:r}=this;if(bt.isUnion(r)){const o=r,a=this.children[o.typeIdToChildIndex[this.typeIds[t]]],u=o.mode===Un.Dense?this.valueOffsets[t]:t;i=a.getValid(u),a.setValid(u,n)}else{let{nullBitmap:o}=this;const{offset:a,length:u}=this,c=a+t,p=1<<c%8,g=c>>3;(!o||o.byteLength<=g)&&(o=new Uint8Array((a+u+63&-64)>>3).fill(255),this.nullCount>0?(o.set(cg(a,u,this.nullBitmap),0),Object.assign(this,{nullBitmap:o})):Object.assign(this,{nullBitmap:o,_nullCount:0}));const y=o[g];i=(y&p)!==0,o[g]=n?y|p:y&~p}return i!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,i=this.length,r=this._nullCount,o=this,a=this.children){return new ce(t,n,i,r,o,a,this.dictionary)}slice(t,n){const{stride:i,typeId:r,children:o}=this,a=+(this._nullCount===0)-1,u=r===16?i:1,c=this._sliceBuffers(t,n,i,r);return this.clone(this.type,this.offset+t,n,a,c,o.length===0||this.valueOffsets?o:this._sliceChildren(o,u*t,u*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===W.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:i}=this,r=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);r[n>>3]=(1<<n-(n&-8))-1,i>0&&r.set(cg(this.offset,n,this.nullBitmap),0);const o=this.buffers;return o[ps.VALIDITY]=r,this.clone(this.type,0,t,i+(t-n),o)}_sliceBuffers(t,n,i,r){let o;const{buffers:a}=this;return(o=a[ps.TYPE])&&(a[ps.TYPE]=o.subarray(t,t+n)),(o=a[ps.OFFSET])&&(a[ps.OFFSET]=o.subarray(t,t+n+1))||(o=a[ps.DATA])&&(a[ps.DATA]=r===6?o:o.subarray(i*t,i*(t+n))),a}_sliceChildren(t,n,i){return t.map(r=>r.slice(n,i))}}ce.prototype.children=Object.freeze([]);class tf extends Yt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:i=0,["length"]:r=0}=t;return new ce(n,i,r,r)}visitBool(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.nullBitmap),o=de(n.ArrayType,t.data),{["length"]:a=o.length>>3,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,o,r])}visitInt(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.nullBitmap),o=de(n.ArrayType,t.data),{["length"]:a=o.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,o,r])}visitFloat(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.nullBitmap),o=de(n.ArrayType,t.data),{["length"]:a=o.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,o,r])}visitUtf8(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.data),o=Qt(t.nullBitmap),a=wc(t.valueOffsets),{["length"]:u=a.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ce(n,i,u,c,[a,r,o])}visitLargeUtf8(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.data),o=Qt(t.nullBitmap),a=kE(t.valueOffsets),{["length"]:u=a.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ce(n,i,u,c,[a,r,o])}visitBinary(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.data),o=Qt(t.nullBitmap),a=wc(t.valueOffsets),{["length"]:u=a.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ce(n,i,u,c,[a,r,o])}visitLargeBinary(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.data),o=Qt(t.nullBitmap),a=kE(t.valueOffsets),{["length"]:u=a.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ce(n,i,u,c,[a,r,o])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.nullBitmap),o=de(n.ArrayType,t.data),{["length"]:a=o.length/gs(n),["nullCount"]:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,o,r])}visitDate(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.nullBitmap),o=de(n.ArrayType,t.data),{["length"]:a=o.length/gs(n),["nullCount"]:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,o,r])}visitTimestamp(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.nullBitmap),o=de(n.ArrayType,t.data),{["length"]:a=o.length/gs(n),["nullCount"]:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,o,r])}visitTime(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.nullBitmap),o=de(n.ArrayType,t.data),{["length"]:a=o.length/gs(n),["nullCount"]:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,o,r])}visitDecimal(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.nullBitmap),o=de(n.ArrayType,t.data),{["length"]:a=o.length/gs(n),["nullCount"]:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,o,r])}visitList(t){const{["type"]:n,["offset"]:i=0,["child"]:r}=t,o=Qt(t.nullBitmap),a=wc(t.valueOffsets),{["length"]:u=a.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ce(n,i,u,c,[a,void 0,o],[r])}visitStruct(t){const{["type"]:n,["offset"]:i=0,["children"]:r=[]}=t,o=Qt(t.nullBitmap),{length:a=r.reduce((c,{length:p})=>Math.max(c,p),0),nullCount:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,void 0,o],r)}visitUnion(t){const{["type"]:n,["offset"]:i=0,["children"]:r=[]}=t,o=de(n.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:u=-1}=t;if(bt.isSparseUnion(n))return new ce(n,i,a,u,[void 0,void 0,void 0,o],r);const c=wc(t.valueOffsets);return new ce(n,i,a,u,[c,void 0,void 0,o],r)}visitDictionary(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.nullBitmap),o=de(n.indices.ArrayType,t.data),{["dictionary"]:a=new ae([new tf().visit({type:n.dictionary})])}=t,{["length"]:u=o.length,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ce(n,i,u,c,[void 0,o,r],[],a)}visitInterval(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.nullBitmap),o=de(n.ArrayType,t.data),{["length"]:a=o.length/gs(n),["nullCount"]:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,o,r])}visitDuration(t){const{["type"]:n,["offset"]:i=0}=t,r=Qt(t.nullBitmap),o=de(n.ArrayType,t.data),{["length"]:a=o.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,o,r])}visitFixedSizeList(t){const{["type"]:n,["offset"]:i=0,["child"]:r=new tf().visit({type:n.valueType})}=t,o=Qt(t.nullBitmap),{["length"]:a=r.length/gs(n),["nullCount"]:u=t.nullBitmap?-1:0}=t;return new ce(n,i,a,u,[void 0,void 0,o],[r])}visitMap(t){const{["type"]:n,["offset"]:i=0,["child"]:r=new tf().visit({type:n.childType})}=t,o=Qt(t.nullBitmap),a=wc(t.valueOffsets),{["length"]:u=a.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new ce(n,i,u,c,[a,void 0,o],[r])}}const $V=new tf;function Kt(e){return $V.visit(e)}class BE{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function jV(e){return e.some(t=>t.nullable)}function dD(e){return e.reduce((t,n)=>t+n.nullCount,0)}function hD(e){return e.reduce((t,n,i)=>(t[i+1]=t[i]+n.length,t),new Uint32Array(e.length+1))}function pD(e,t,n,i){const r=[];for(let o=-1,a=e.length;++o<a;){const u=e[o],c=t[o],{length:p}=u;if(c>=i)break;if(n>=c+p)continue;if(c>=n&&c+p<=i){r.push(u);continue}const g=Math.max(0,n-c),y=Math.min(i-c,p);r.push(u.slice(g,y-g))}return r.length===0&&r.push(e[0].slice(0,0)),r}function Yb(e,t,n,i){let r=0,o=0,a=t.length-1;do{if(r>=a-1)return n<t[a]?i(e,r,n-t[r]):null;o=r+Math.trunc((a-r)*.5),n<t[o]?a=o:r=o}while(r<a)}function qb(e,t){return e.getValid(t)}function dg(e){function t(n,i,r){return e(n[i],r)}return function(n){const i=this.data;return Yb(i,this._offsets,n,t)}}function gD(e){let t;function n(i,r,o){return e(i[r],o,t)}return function(i,r){const o=this.data;t=r;const a=Yb(o,this._offsets,i,n);return t=void 0,a}}function mD(e){let t;function n(i,r,o){let a=o,u=0,c=0;for(let p=r-1,g=i.length;++p<g;){const y=i[p];if(~(u=e(y,t,a)))return c+u;a=0,c+=y.length}return-1}return function(i,r){t=i;const o=this.data,a=typeof r!="number"?n(o,0,0):Yb(o,this._offsets,r,n);return t=void 0,a}}class Et extends Yt{}function YV(e,t){return t===null&&e.length>0?0:-1}function qV(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let i=0;for(const r of new jb(n,e.offset+(t||0),e.length,n,fD)){if(!r)return i;++i}return-1}function Ft(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case W.Union:break;case W.Dictionary:break;default:return qV(e,n)}const i=pi.getVisitFn(e),r=yu(t);for(let o=(n||0)-1,a=e.length;++o<a;)if(r(i(e,o)))return o;return-1}function yD(e,t,n){const i=pi.getVisitFn(e),r=yu(t);for(let o=(n||0)-1,a=e.length;++o<a;)if(r(i(e,o)))return o;return-1}Et.prototype.visitNull=YV;Et.prototype.visitBool=Ft;Et.prototype.visitInt=Ft;Et.prototype.visitInt8=Ft;Et.prototype.visitInt16=Ft;Et.prototype.visitInt32=Ft;Et.prototype.visitInt64=Ft;Et.prototype.visitUint8=Ft;Et.prototype.visitUint16=Ft;Et.prototype.visitUint32=Ft;Et.prototype.visitUint64=Ft;Et.prototype.visitFloat=Ft;Et.prototype.visitFloat16=Ft;Et.prototype.visitFloat32=Ft;Et.prototype.visitFloat64=Ft;Et.prototype.visitUtf8=Ft;Et.prototype.visitLargeUtf8=Ft;Et.prototype.visitBinary=Ft;Et.prototype.visitLargeBinary=Ft;Et.prototype.visitFixedSizeBinary=Ft;Et.prototype.visitDate=Ft;Et.prototype.visitDateDay=Ft;Et.prototype.visitDateMillisecond=Ft;Et.prototype.visitTimestamp=Ft;Et.prototype.visitTimestampSecond=Ft;Et.prototype.visitTimestampMillisecond=Ft;Et.prototype.visitTimestampMicrosecond=Ft;Et.prototype.visitTimestampNanosecond=Ft;Et.prototype.visitTime=Ft;Et.prototype.visitTimeSecond=Ft;Et.prototype.visitTimeMillisecond=Ft;Et.prototype.visitTimeMicrosecond=Ft;Et.prototype.visitTimeNanosecond=Ft;Et.prototype.visitDecimal=Ft;Et.prototype.visitList=Ft;Et.prototype.visitStruct=Ft;Et.prototype.visitUnion=Ft;Et.prototype.visitDenseUnion=yD;Et.prototype.visitSparseUnion=yD;Et.prototype.visitDictionary=Ft;Et.prototype.visitInterval=Ft;Et.prototype.visitIntervalDayTime=Ft;Et.prototype.visitIntervalYearMonth=Ft;Et.prototype.visitDuration=Ft;Et.prototype.visitDurationSecond=Ft;Et.prototype.visitDurationMillisecond=Ft;Et.prototype.visitDurationMicrosecond=Ft;Et.prototype.visitDurationNanosecond=Ft;Et.prototype.visitFixedSizeList=Ft;Et.prototype.visitMap=Ft;const hg=new Et;class Ct extends Yt{}function Lt(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(bt.isInt(t)&&t.bitWidth!==64||bt.isTime(t)&&t.bitWidth!==64||bt.isFloat(t)&&t.precision!==Pn.HALF))return new BE(e.data.length,i=>{const r=e.data[i];return r.values.subarray(0,r.length)[Symbol.iterator]()});let n=0;return new BE(e.data.length,i=>{const o=e.data[i].length,a=e.slice(n,n+o);return n+=o,new KV(a)})}class KV{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Ct.prototype.visitNull=Lt;Ct.prototype.visitBool=Lt;Ct.prototype.visitInt=Lt;Ct.prototype.visitInt8=Lt;Ct.prototype.visitInt16=Lt;Ct.prototype.visitInt32=Lt;Ct.prototype.visitInt64=Lt;Ct.prototype.visitUint8=Lt;Ct.prototype.visitUint16=Lt;Ct.prototype.visitUint32=Lt;Ct.prototype.visitUint64=Lt;Ct.prototype.visitFloat=Lt;Ct.prototype.visitFloat16=Lt;Ct.prototype.visitFloat32=Lt;Ct.prototype.visitFloat64=Lt;Ct.prototype.visitUtf8=Lt;Ct.prototype.visitLargeUtf8=Lt;Ct.prototype.visitBinary=Lt;Ct.prototype.visitLargeBinary=Lt;Ct.prototype.visitFixedSizeBinary=Lt;Ct.prototype.visitDate=Lt;Ct.prototype.visitDateDay=Lt;Ct.prototype.visitDateMillisecond=Lt;Ct.prototype.visitTimestamp=Lt;Ct.prototype.visitTimestampSecond=Lt;Ct.prototype.visitTimestampMillisecond=Lt;Ct.prototype.visitTimestampMicrosecond=Lt;Ct.prototype.visitTimestampNanosecond=Lt;Ct.prototype.visitTime=Lt;Ct.prototype.visitTimeSecond=Lt;Ct.prototype.visitTimeMillisecond=Lt;Ct.prototype.visitTimeMicrosecond=Lt;Ct.prototype.visitTimeNanosecond=Lt;Ct.prototype.visitDecimal=Lt;Ct.prototype.visitList=Lt;Ct.prototype.visitStruct=Lt;Ct.prototype.visitUnion=Lt;Ct.prototype.visitDenseUnion=Lt;Ct.prototype.visitSparseUnion=Lt;Ct.prototype.visitDictionary=Lt;Ct.prototype.visitInterval=Lt;Ct.prototype.visitIntervalDayTime=Lt;Ct.prototype.visitIntervalYearMonth=Lt;Ct.prototype.visitDuration=Lt;Ct.prototype.visitDurationSecond=Lt;Ct.prototype.visitDurationMillisecond=Lt;Ct.prototype.visitDurationMicrosecond=Lt;Ct.prototype.visitDurationNanosecond=Lt;Ct.prototype.visitFixedSizeList=Lt;Ct.prototype.visitMap=Lt;const Kb=new Ct;var vD;const _D={},bD={};class ae{constructor(t){var n,i,r;const o=t[0]instanceof ae?t.flatMap(u=>u.data):t;if(o.length===0||o.some(u=>!(u instanceof ce)))throw new TypeError("Vector constructor expects an Array of Data instances.");const a=(n=o[0])===null||n===void 0?void 0:n.type;switch(o.length){case 0:this._offsets=[0];break;case 1:{const{get:u,set:c,indexOf:p}=_D[a.typeId],g=o[0];this.isValid=y=>qb(g,y),this.get=y=>u(g,y),this.set=(y,v)=>c(g,y,v),this.indexOf=y=>p(g,y),this._offsets=[0,g.length];break}default:Object.setPrototypeOf(this,bD[a.typeId]),this._offsets=hD(o);break}this.data=o,this.type=a,this.stride=gs(a),this.numChildren=(r=(i=a.children)===null||i===void 0?void 0:i.length)!==null&&r!==void 0?r:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullable(){return jV(this.data)}get nullCount(){return dD(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${W[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}at(t){return this.get($b(t,this.length))}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}[Symbol.iterator](){return Kb.visit(this)}concat(...t){return new ae(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new ae(cD(this,t,n,({data:i,_offsets:r},o,a)=>pD(i,r,o,a)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:i,stride:r,ArrayType:o}=this;switch(t.typeId){case W.Int:case W.Float:case W.Decimal:case W.Time:case W.Timestamp:switch(n.length){case 0:return new o;case 1:return n[0].values.subarray(0,i*r);default:return n.reduce((a,{values:u,length:c})=>(a.array.set(u.subarray(0,c*r),a.offset),a.offset+=c*r,a),{array:new o(i*r),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(i=>i.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new ae(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return bt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(bt.isDictionary(this.type)){const t=new pg(this.data[0].dictionary),n=this.data.map(i=>{const r=i.clone();return r.dictionary=t,r});return new ae(n)}return new pg(this)}unmemoize(){if(bt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(i=>{const r=i.clone();return r.dictionary=t,r});return new ae(n)}return this}}vD=Symbol.toStringTag;ae[vD]=(e=>{e.type=bt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(W).map(n=>W[n]).filter(n=>typeof n=="number"&&n!==W.NONE);for(const n of t){const i=pi.getVisitFnByTypeId(n),r=Xi.getVisitFnByTypeId(n),o=hg.getVisitFnByTypeId(n);_D[n]={get:i,set:r,indexOf:o},bD[n]=Object.create(e,{isValid:{value:dg(qb)},get:{value:dg(pi.getVisitFnByTypeId(n))},set:{value:gD(Xi.getVisitFnByTypeId(n))},indexOf:{value:mD(hg.getVisitFnByTypeId(n))}})}return"Vector"})(ae.prototype);class pg extends ae{constructor(t){super(t.data);const n=this.get,i=this.set,r=this.slice,o=new Array(this.length);Object.defineProperty(this,"get",{value(a){const u=o[a];if(u!==void 0)return u;const c=n.call(this,a);return o[a]=c,c}}),Object.defineProperty(this,"set",{value(a,u){i.call(this,a,u),o[a]=u}}),Object.defineProperty(this,"slice",{value:(a,u)=>new pg(r.call(this,a,u))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new ae(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class t_{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,i,r){return t.prep(8,24),t.writeInt64(BigInt(r??0)),t.pad(4),t.writeInt32(i),t.writeInt64(BigInt(n??0)),t.offset()}}class vi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new vi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+ue),(n||new vi).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Qe.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Dr).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const i=this.bb.__offset(this.bb_pos,8);return i?(n||new t_).__init(this.bb.__vector(this.bb_pos+i)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const i=this.bb.__offset(this.bb_pos,10);return i?(n||new t_).__init(this.bb.__vector(this.bb_pos+i)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Qe.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class le{constructor(t=[],n,i,r=Qe.V5){this.fields=t||[],this.metadata=n||new Map,i||(i=e_(this.fields)),this.dictionaries=i,this.metadataVersion=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),i=this.fields.filter(r=>n.has(r.name));return new le(i,this.metadata)}selectAt(t){const n=t.map(i=>this.fields[i]).filter(Boolean);return new le(n,this.metadata)}assign(...t){const n=t[0]instanceof le?t[0]:Array.isArray(t[0])?new le(t[0]):new le(t),i=[...this.fields],r=Eh(Eh(new Map,this.metadata),n.metadata),o=n.fields.filter(u=>{const c=i.findIndex(p=>p.name===u.name);return~c?(i[c]=u.clone({metadata:Eh(Eh(new Map,i[c].metadata),u.metadata)}))&&!1:!0}),a=e_(o,new Map);return new le([...i,...o],r,new Map([...this.dictionaries,...a]))}}le.prototype.fields=null;le.prototype.metadata=null;le.prototype.dictionaries=null;class Ae{static new(...t){let[n,i,r,o]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],i===void 0&&(i=t[0].type),r===void 0&&(r=t[0].nullable),o===void 0&&(o=t[0].metadata)),new Ae(`${n}`,i,r,o)}constructor(t,n,i=!1,r){this.name=t,this.type=n,this.nullable=i,this.metadata=r||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,i,r,o]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,i=this.type,r=this.nullable,o=this.metadata]=t:{name:n=this.name,type:i=this.type,nullable:r=this.nullable,metadata:o=this.metadata}=t[0],Ae.new(n,i,r,o)}}Ae.prototype.type=null;Ae.prototype.name=null;Ae.prototype.nullable=null;Ae.prototype.metadata=null;function Eh(e,t){return new Map([...e||new Map,...t||new Map])}function e_(e,t=new Map){for(let n=-1,i=e.length;++n<i;){const o=e[n].type;if(bt.isDictionary(o)){if(!t.has(o.id))t.set(o.id,o.dictionary);else if(t.get(o.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&e_(o.children,t)}return t}var GV=$2,XV=au;class Ff{static decode(t){t=new XV(Qt(t));const n=vi.getRootAsFooter(t),i=le.decode(n.schema(),new Map,n.version());return new QV(i,n)}static encode(t){const n=new GV,i=le.encode(n,t.schema);vi.startRecordBatchesVector(n,t.numRecordBatches);for(const a of[...t.recordBatches()].slice().reverse())No.encode(n,a);const r=n.endVector();vi.startDictionariesVector(n,t.numDictionaries);for(const a of[...t.dictionaryBatches()].slice().reverse())No.encode(n,a);const o=n.endVector();return vi.startFooter(n),vi.addSchema(n,i),vi.addVersion(n,Qe.V5),vi.addRecordBatches(n,r),vi.addDictionaries(n,o),vi.finishFooterBuffer(n,vi.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=Qe.V5,i,r){this.schema=t,this.version=n,i&&(this._recordBatches=i),r&&(this._dictionaryBatches=r)}*recordBatches(){for(let t,n=-1,i=this.numRecordBatches;++n<i;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,i=this.numDictionaries;++n<i;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class QV extends Ff{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return No.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return No.decode(n)}return null}}class No{static decode(t){return new No(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:i}=n,r=BigInt(n.offset),o=BigInt(n.bodyLength);return t_.createBlock(t,r,i,o)}constructor(t,n,i){this.metaDataLength=t,this.offset=_e(i),this.bodyLength=_e(n)}}const Be=Object.freeze({done:!0,value:void 0});class zE{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Gb{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class ZV extends Gb{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Pt(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Be);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Ri.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Ri.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Pt(this,void 0,void 0,function*(){return yield this.abort(t),Be})}return(t){return Pt(this,void 0,void 0,function*(){return yield this.close(),Be})}read(t){return Pt(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Pt(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,i)=>{this.resolvers.push({resolve:n,reject:i})}):Promise.resolve(Be)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Xh extends ZV{write(t){if((t=Qt(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Yv(this.toUint8Array(!0)):this.toUint8Array(!1).then(Yv)}toUint8Array(t=!1){return t?$r(this._values)[0]:(()=>Pt(this,void 0,void 0,function*(){var n,i,r,o;const a=[];let u=0;try{for(var c=!0,p=_a(this),g;g=yield p.next(),n=g.done,!n;c=!0){o=g.value,c=!1;const y=o;a.push(y),u+=y.byteLength}}catch(y){i={error:y}}finally{try{!c&&!n&&(r=p.return)&&(yield r.call(p))}finally{if(i)throw i.error}}return $r(a,u)[0]}))()}}class gg{constructor(t){t&&(this.source=new JV(Ri.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class cu{constructor(t){t instanceof cu?this.source=t.source:t instanceof Xh?this.source=new ea(Ri.fromAsyncIterable(t)):U2(t)?this.source=new ea(Ri.fromNodeStream(t)):Bb(t)?this.source=new ea(Ri.fromDOMStream(t)):z2(t)?this.source=new ea(Ri.fromDOMStream(t.body)):Qf(t)?this.source=new ea(Ri.fromIterable(t)):Ia(t)?this.source=new ea(Ri.fromAsyncIterable(t)):mu(t)&&(this.source=new ea(Ri.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class JV{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,n="read"){return this.source.next({cmd:n,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Be)}return(t){return Object.create(this.source.return&&this.source.return(t)||Be)}}class ea{constructor(t){this.source=t,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(t){return Pt(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return Pt(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Pt(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t){return Pt(this,arguments,void 0,function*(n,i="read"){return yield this.source.next({cmd:i,size:n})})}throw(t){return Pt(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(t))||Be;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(t){return Pt(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(t))||Be;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class UE extends gg{constructor(t,n){super(),this.position=0,this.buffer=Qt(t),this.size=n===void 0?this.buffer.byteLength:n}readInt32(t){const{buffer:n,byteOffset:i}=this.readAt(t,4);return new DataView(n,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:n,size:i,position:r}=this;return n&&r<i?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,r+Math.min(i-r,t)),n.subarray(r,this.position)):null}readAt(t,n){const i=this.buffer,r=Math.min(this.size,t+n);return i?i.subarray(t,r):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class mg extends cu{constructor(t,n){super(),this.position=0,this._handle=t,typeof n=="number"?this.size=n:this._pending=(()=>Pt(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending}))()}readInt32(t){return Pt(this,void 0,void 0,function*(){const{buffer:n,byteOffset:i}=yield this.readAt(t,4);return new DataView(n,i).getInt32(0,!0)})}seek(t){return Pt(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return Pt(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:i,position:r}=this;if(n&&r<i){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let o=r,a=0,u=0;const c=Math.min(i,o+Math.min(i-o,t)),p=new Uint8Array(Math.max(0,(this.position=c)-o));for(;(o+=u)<c&&(a+=u)<p.byteLength;)({bytesRead:u}=yield n.read(p,a,p.byteLength-a,o));return p}return null})}readAt(t,n){return Pt(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:i,size:r}=this;if(i&&t+n<r){const o=Math.min(r,t+n),a=new Uint8Array(o-t);return(yield i.read(a,0,n,t)).buffer}return new Uint8Array(n)})}close(){return Pt(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return Pt(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return Pt(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const t$=65536;function Ll(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}const fu=8,Xb=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class wD{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),i=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let r=n[3]*i[3];this.buffer[0]=r&65535;let o=r>>>16;return r=n[2]*i[3],o+=r,r=n[3]*i[2]>>>0,o+=r,this.buffer[0]+=o<<16,this.buffer[1]=o>>>0<r?t$:0,this.buffer[1]+=o>>>16,this.buffer[1]+=n[1]*i[3]+n[2]*i[2]+n[3]*i[1],this.buffer[1]+=n[0]*i[3]+n[1]*i[2]+n[2]*i[1]+n[3]*i[0]<<16,this}_plus(t){const n=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${Ll(this.buffer[1])} ${Ll(this.buffer[0])}`}}class fe extends wD{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,n=new Uint32Array(2)){return fe.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return fe.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const i=t.length,r=new fe(n);for(let o=0;o<i;){const a=fu<i-o?fu:i-o,u=new fe(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0])),c=new fe(new Uint32Array([Xb[a],0]));r.times(c),r.plus(u),o+=a}return r}static convertArray(t){const n=new Uint32Array(t.length*2);for(let i=-1,r=t.length;++i<r;)fe.from(t[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(t,n){return new fe(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new fe(new Uint32Array(t.buffer)).plus(n)}}class ii extends wD{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const n=this.buffer[1]<<0,i=t.buffer[1]<<0;return n<i||n===i&&this.buffer[0]<t.buffer[0]}static from(t,n=new Uint32Array(2)){return ii.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return ii.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const i=t.startsWith("-"),r=t.length,o=new ii(n);for(let a=i?1:0;a<r;){const u=fu<r-a?fu:r-a,c=new ii(new Uint32Array([Number.parseInt(t.slice(a,a+u),10),0])),p=new ii(new Uint32Array([Xb[u],0]));o.times(p),o.plus(c),a+=u}return i?o.negate():o}static convertArray(t){const n=new Uint32Array(t.length*2);for(let i=-1,r=t.length;++i<r;)ii.from(t[i],new Uint32Array(n.buffer,n.byteOffset+2*i*4,2));return n}static multiply(t,n){return new ii(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new ii(new Uint32Array(t.buffer)).plus(n)}}class Lr{constructor(t){this.buffer=t}high(){return new ii(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new ii(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const n=new fe(new Uint32Array([this.buffer[3],0])),i=new fe(new Uint32Array([this.buffer[2],0])),r=new fe(new Uint32Array([this.buffer[1],0])),o=new fe(new Uint32Array([this.buffer[0],0])),a=new fe(new Uint32Array([t.buffer[3],0])),u=new fe(new Uint32Array([t.buffer[2],0])),c=new fe(new Uint32Array([t.buffer[1],0])),p=new fe(new Uint32Array([t.buffer[0],0]));let g=fe.multiply(o,p);this.buffer[0]=g.low();const y=new fe(new Uint32Array([g.high(),0]));return g=fe.multiply(r,p),y.plus(g),g=fe.multiply(o,c),y.plus(g),this.buffer[1]=y.low(),this.buffer[3]=y.lessThan(g)?1:0,this.buffer[2]=y.high(),new fe(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(fe.multiply(i,p)).plus(fe.multiply(r,c)).plus(fe.multiply(o,u)),this.buffer[3]+=fe.multiply(n,p).plus(fe.multiply(i,c)).plus(fe.multiply(r,u)).plus(fe.multiply(o,a)).low(),this}plus(t){const n=new Uint32Array(4);return n[3]=this.buffer[3]+t.buffer[3]>>>0,n[2]=this.buffer[2]+t.buffer[2]>>>0,n[1]=this.buffer[1]+t.buffer[1]>>>0,n[0]=this.buffer[0]+t.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${Ll(this.buffer[3])} ${Ll(this.buffer[2])} ${Ll(this.buffer[1])} ${Ll(this.buffer[0])}`}static multiply(t,n){return new Lr(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new Lr(new Uint32Array(t.buffer)).plus(n)}static from(t,n=new Uint32Array(4)){return Lr.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(4)){return Lr.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(4)){const i=t.startsWith("-"),r=t.length,o=new Lr(n);for(let a=i?1:0;a<r;){const u=fu<r-a?fu:r-a,c=new Lr(new Uint32Array([Number.parseInt(t.slice(a,a+u),10),0,0,0])),p=new Lr(new Uint32Array([Xb[u],0,0,0]));o.times(p),o.plus(c),a+=u}return i?o.negate():o}static convertArray(t){const n=new Uint32Array(t.length*4);for(let i=-1,r=t.length;++i<r;)Lr.from(t[i],new Uint32Array(n.buffer,n.byteOffset+4*4*i,4));return n}}class xD extends Yt{constructor(t,n,i,r,o=Qe.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=n,this.buffers=i,this.dictionaries=r,this.metadataVersion=o}visit(t){return super.visit(t instanceof Ae?t.type:t)}visitNull(t,{length:n}=this.nextFieldNode()){return Kt({type:t,length:n})}visitBool(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeUtf8(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeBinary(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t,{length:n,nullCount:i}=this.nextFieldNode()){return this.metadataVersion<Qe.V5&&this.readNullBitmap(t,i),t.mode===Un.Sparse?this.visitSparseUnion(t,{length:n,nullCount:i}):this.visitDenseUnion(t,{length:n,nullCount:i})}visitDenseUnion(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDuration(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t,{length:n,nullCount:i}=this.nextFieldNode()){return Kt({type:t,length:n,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,n,i=this.nextBufferRange()){return n>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,n){return this.readData(t,n)}readTypeIds(t,n){return this.readData(t,n)}readData(t,{length:n,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+n)}readDictionary(t){return this.dictionaries.get(t.id)}}class e$ extends xD{constructor(t,n,i,r,o){super(new Uint8Array(0),n,i,r,o),this.sources=t}readNullBitmap(t,n,{offset:i}=this.nextBufferRange()){return n<=0?new Uint8Array(0):fg(this.sources[i])}readOffsets(t,{offset:n}=this.nextBufferRange()){return de(Uint8Array,de(t.OffsetArrayType,this.sources[n]))}readTypeIds(t,{offset:n}=this.nextBufferRange()){return de(Uint8Array,de(t.ArrayType,this.sources[n]))}readData(t,{offset:n}=this.nextBufferRange()){const{sources:i}=this;return bt.isTimestamp(t)||(bt.isInt(t)||bt.isTime(t))&&t.bitWidth===64||bt.isDuration(t)||bt.isDate(t)&&t.unit===Gi.MILLISECOND?de(Uint8Array,ii.convertArray(i[n])):bt.isDecimal(t)?de(Uint8Array,Lr.convertArray(i[n])):bt.isBinary(t)||bt.isLargeBinary(t)||bt.isFixedSizeBinary(t)?n$(i[n]):bt.isBool(t)?fg(i[n]):bt.isUtf8(t)||bt.isLargeUtf8(t)?Pb(i[n].join("")):de(Uint8Array,de(t.ArrayType,i[n].map(r=>+r)))}}function n$(e){const t=e.join(""),n=new Uint8Array(t.length/2);for(let i=0;i<t.length;i+=2)n[i>>1]=Number.parseInt(t.slice(i,i+2),16);return n}class Tt extends Yt{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((i,r)=>this.compareFields(i,n[r]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Jn(e,t){return t instanceof e.constructor}function Oa(e,t){return e===t||Jn(e,t)}function Rs(e,t){return e===t||Jn(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function cm(e,t){return e===t||Jn(e,t)&&e.precision===t.precision}function i$(e,t){return e===t||Jn(e,t)&&e.byteWidth===t.byteWidth}function Qb(e,t){return e===t||Jn(e,t)&&e.unit===t.unit}function Zf(e,t){return e===t||Jn(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function Jf(e,t){return e===t||Jn(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function r$(e,t){return e===t||Jn(e,t)&&e.children.length===t.children.length&&Oo.compareManyFields(e.children,t.children)}function s$(e,t){return e===t||Jn(e,t)&&e.children.length===t.children.length&&Oo.compareManyFields(e.children,t.children)}function Zb(e,t){return e===t||Jn(e,t)&&e.mode===t.mode&&e.typeIds.every((n,i)=>n===t.typeIds[i])&&Oo.compareManyFields(e.children,t.children)}function o$(e,t){return e===t||Jn(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Oo.visit(e.indices,t.indices)&&Oo.visit(e.dictionary,t.dictionary)}function Jb(e,t){return e===t||Jn(e,t)&&e.unit===t.unit}function td(e,t){return e===t||Jn(e,t)&&e.unit===t.unit}function a$(e,t){return e===t||Jn(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Oo.compareManyFields(e.children,t.children)}function l$(e,t){return e===t||Jn(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Oo.compareManyFields(e.children,t.children)}Tt.prototype.visitNull=Oa;Tt.prototype.visitBool=Oa;Tt.prototype.visitInt=Rs;Tt.prototype.visitInt8=Rs;Tt.prototype.visitInt16=Rs;Tt.prototype.visitInt32=Rs;Tt.prototype.visitInt64=Rs;Tt.prototype.visitUint8=Rs;Tt.prototype.visitUint16=Rs;Tt.prototype.visitUint32=Rs;Tt.prototype.visitUint64=Rs;Tt.prototype.visitFloat=cm;Tt.prototype.visitFloat16=cm;Tt.prototype.visitFloat32=cm;Tt.prototype.visitFloat64=cm;Tt.prototype.visitUtf8=Oa;Tt.prototype.visitLargeUtf8=Oa;Tt.prototype.visitBinary=Oa;Tt.prototype.visitLargeBinary=Oa;Tt.prototype.visitFixedSizeBinary=i$;Tt.prototype.visitDate=Qb;Tt.prototype.visitDateDay=Qb;Tt.prototype.visitDateMillisecond=Qb;Tt.prototype.visitTimestamp=Zf;Tt.prototype.visitTimestampSecond=Zf;Tt.prototype.visitTimestampMillisecond=Zf;Tt.prototype.visitTimestampMicrosecond=Zf;Tt.prototype.visitTimestampNanosecond=Zf;Tt.prototype.visitTime=Jf;Tt.prototype.visitTimeSecond=Jf;Tt.prototype.visitTimeMillisecond=Jf;Tt.prototype.visitTimeMicrosecond=Jf;Tt.prototype.visitTimeNanosecond=Jf;Tt.prototype.visitDecimal=Oa;Tt.prototype.visitList=r$;Tt.prototype.visitStruct=s$;Tt.prototype.visitUnion=Zb;Tt.prototype.visitDenseUnion=Zb;Tt.prototype.visitSparseUnion=Zb;Tt.prototype.visitDictionary=o$;Tt.prototype.visitInterval=Jb;Tt.prototype.visitIntervalDayTime=Jb;Tt.prototype.visitIntervalYearMonth=Jb;Tt.prototype.visitDuration=td;Tt.prototype.visitDurationSecond=td;Tt.prototype.visitDurationMillisecond=td;Tt.prototype.visitDurationMicrosecond=td;Tt.prototype.visitDurationNanosecond=td;Tt.prototype.visitFixedSizeList=a$;Tt.prototype.visitMap=l$;const Oo=new Tt;function n_(e,t){return Oo.compareSchemas(e,t)}function v0(e,t){return u$(e,t.map(n=>n.data.concat()))}function u$(e,t){const n=[...e.fields],i=[],r={numBatches:t.reduce((y,v)=>Math.max(y,v.length),0)};let o=0,a=0,u=-1;const c=t.length;let p,g=[];for(;r.numBatches-- >0;){for(a=Number.POSITIVE_INFINITY,u=-1;++u<c;)g[u]=p=t[u].shift(),a=Math.min(a,p?p.length:a);Number.isFinite(a)&&(g=c$(n,a,g,t,r),a>0&&(i[o++]=Kt({type:new Kn(n),length:a,nullCount:0,children:g.slice()})))}return[e=e.assign(n),i.map(y=>new oi(e,y))]}function c$(e,t,n,i,r){var o;const a=(t+63&-64)>>3;for(let u=-1,c=i.length;++u<c;){const p=n[u],g=p==null?void 0:p.length;if(g>=t)g===t?n[u]=p:(n[u]=p.slice(0,t),r.numBatches=Math.max(r.numBatches,i[u].unshift(p.slice(t,g-t))));else{const y=e[u];e[u]=y.clone({nullable:!0}),n[u]=(o=p==null?void 0:p._changeLengthAndBackfillNullBitmap(t))!==null&&o!==void 0?o:Kt({type:y.type,length:t,nullCount:t,nullBitmap:new Uint8Array(a)})}}return n}var SD;class qn{constructor(...t){var n,i;if(t.length===0)return this.batches=[],this.schema=new le([]),this._offsets=[0],this;let r,o;t[0]instanceof le&&(r=t.shift()),t.at(-1)instanceof Uint32Array&&(o=t.pop());const a=c=>{if(c){if(c instanceof oi)return[c];if(c instanceof qn)return c.batches;if(c instanceof ce){if(c.type instanceof Kn)return[new oi(new le(c.type.children),c)]}else{if(Array.isArray(c))return c.flatMap(p=>a(p));if(typeof c[Symbol.iterator]=="function")return[...c].flatMap(p=>a(p));if(typeof c=="object"){const p=Object.keys(c),g=p.map(b=>new ae([c[b]])),y=r??new le(p.map((b,k)=>new Ae(String(b),g[k].type,g[k].nullable))),[,v]=v0(y,g);return v.length===0?[new oi(c)]:v}}}return[]},u=t.flatMap(c=>a(c));if(r=(i=r??((n=u[0])===null||n===void 0?void 0:n.schema))!==null&&i!==void 0?i:new le([]),!(r instanceof le))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const c of u){if(!(c instanceof oi))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!n_(r,c.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=r,this.batches=u,this._offsets=o??hD(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=dD(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}at(t){return this.get($b(t,this.numRows))}set(t,n){}indexOf(t,n){return-1}[Symbol.iterator](){return this.batches.length>0?Kb.visit(new ae(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,i=this.data.concat(t.flatMap(({data:r})=>r));return new qn(n,i.map(r=>new oi(n,r)))}slice(t,n){const i=this.schema;[t,n]=cD({length:this.numRows},t,n);const r=pD(this.data,this._offsets,t,n);return new qn(i,r.map(o=>new oi(i,o)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(i=>i.children[t]);if(n.length===0){const{type:i}=this.schema.fields[t],r=Kt({type:i,length:0,nullCount:0});n.push(r._changeLengthAndBackfillNullBitmap(this.numRows))}return new ae(n)}return null}setChild(t,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(r=>r.name===t),n)}setChildAt(t,n){let i=this.schema,r=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new ae([Kt({type:new Lo,length:this.numRows})]));const o=i.fields.slice(),a=o[t].clone({type:n.type}),u=this.schema.fields.map((c,p)=>this.getChildAt(p));[o[t],u[t]]=[a,n],[i,r]=v0(i,u)}return new qn(i,r)}select(t){const n=this.schema.fields.reduce((i,r,o)=>i.set(r.name,o),new Map);return this.selectAt(t.map(i=>n.get(i)).filter(i=>i>-1))}selectAt(t){const n=this.schema.selectAt(t),i=this.batches.map(r=>r.selectAt(t));return new qn(n,i)}assign(t){const n=this.schema.fields,[i,r]=t.schema.fields.reduce((u,c,p)=>{const[g,y]=u,v=n.findIndex(b=>b.name===c.name);return~v?y[v]=p:g.push(p),u},[[],[]]),o=this.schema.assign(t.schema),a=[...n.map((u,c)=>[c,r[c]]).map(([u,c])=>c===void 0?this.getChildAt(u):t.getChildAt(c)),...i.map(u=>t.getChildAt(u))].filter(Boolean);return new qn(...v0(o,a))}}SD=Symbol.toStringTag;qn[SD]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=dg(qb),e.get=dg(pi.getVisitFn(W.Struct)),e.set=gD(Xi.getVisitFn(W.Struct)),e.indexOf=mD(hg.getVisitFn(W.Struct)),"Table"))(qn.prototype);var kD;let oi=class zc{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof le))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Kt({nullCount:0,type:new Kn(this.schema.fields),children:this.schema.fields.map(n=>Kt({type:n.type,nullCount:0}))})]=t,!(this.data instanceof ce))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=HE(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:i,children:r,length:o}=Object.keys(n).reduce((c,p,g)=>(c.children[g]=n[p],c.length=Math.max(c.length,n[p].length),c.fields[g]=Ae.new({name:p,type:n[p].type,nullable:!0}),c),{length:0,fields:new Array,children:new Array}),a=new le(i),u=Kt({type:new Kn(i),length:o,children:r,nullCount:0});[this.schema,this.data]=HE(a,u.children,o);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=ED(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return pi.visit(this.data,t)}at(t){return this.get($b(t,this.numRows))}set(t,n){return Xi.visit(this.data,t,n)}indexOf(t,n){return hg.visit(this.data,t,n)}[Symbol.iterator](){return Kb.visit(new ae([this.data]))}toArray(){return[...this]}concat(...t){return new qn(this.schema,[this,...t])}slice(t,n){const[i]=new ae([this.data]).slice(t,n).data;return new zc(this.schema,i)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new ae([this.data.children[t]]):null}setChild(t,n){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(r=>r.name===t),n)}setChildAt(t,n){let i=this.schema,r=this.data;if(t>-1&&t<this.numCols){n||(n=new ae([Kt({type:new Lo,length:this.numRows})]));const o=i.fields.slice(),a=r.children.slice(),u=o[t].clone({type:n.type});[o[t],a[t]]=[u,n.data[0]],i=new le(o,new Map(this.schema.metadata)),r=Kt({type:new Kn(o),children:a})}return new zc(i,r)}select(t){const n=this.schema.select(t),i=new Kn(n.fields),r=[];for(const o of t){const a=this.schema.fields.findIndex(u=>u.name===o);~a&&(r[a]=this.data.children[a])}return new zc(n,Kt({type:i,length:this.numRows,children:r}))}selectAt(t){const n=this.schema.selectAt(t),i=t.map(o=>this.data.children[o]).filter(Boolean),r=Kt({type:new Kn(n.fields),length:this.numRows,children:i});return new zc(n,r)}};kD=Symbol.toStringTag;oi[kD]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(oi.prototype);function HE(e,t,n=t.reduce((i,r)=>Math.max(i,r.length),0)){var i;const r=[...e.fields],o=[...t],a=(n+63&-64)>>3;for(const[u,c]of e.fields.entries()){const p=t[u];(!p||p.length!==n)&&(r[u]=c.clone({nullable:!0}),o[u]=(i=p==null?void 0:p._changeLengthAndBackfillNullBitmap(n))!==null&&i!==void 0?i:Kt({type:c.type,length:n,nullCount:n,nullBitmap:new Uint8Array(a)}))}return[e.assign(r),Kt({type:new Kn(r),length:n,children:o})]}function ED(e,t,n=new Map){var i,r;if(((i=e==null?void 0:e.length)!==null&&i!==void 0?i:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let o=-1,a=e.length;++o<a;){const{type:u}=e[o],c=t[o];for(const p of[c,...((r=c==null?void 0:c.dictionary)===null||r===void 0?void 0:r.data)||[]])ED(u.children,p==null?void 0:p.children,n);if(bt.isDictionary(u)){const{id:p}=u;if(!n.has(p))c!=null&&c.dictionary&&n.set(p,c.dictionary);else if(n.get(p)!==c.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class tw extends oi{constructor(t){const n=t.fields.map(r=>Kt({type:r.type})),i=Kt({type:new Kn(t.fields),nullCount:0,children:n});super(t,i)}}let eo=class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new Ir).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+ue),(n||new Ir).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Qe.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):se.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const i=this.bb.__offset(this.bb_pos,12);return i?(n||new fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Qe.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,se.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let i=n.length-1;i>=0;i--)t.addOffset(n[i]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,i,r,o,a){return Ir.startMessage(t),Ir.addVersion(t,n),Ir.addHeaderType(t,i),Ir.addHeader(t,r),Ir.addBodyLength(t,o),Ir.addCustomMetadata(t,a),Ir.endMessage(t)}};class f$ extends Yt{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return LE.startNull(n),LE.endNull(n)}visitInt(t,n){return wi.startInt(n),wi.addBitWidth(n,t.bitWidth),wi.addIsSigned(n,t.isSigned),wi.endInt(n)}visitFloat(t,n){return Rr.startFloatingPoint(n),Rr.addPrecision(n,t.precision),Rr.endFloatingPoint(n)}visitBinary(t,n){return TE.startBinary(n),TE.endBinary(n)}visitLargeBinary(t,n){return IE.startLargeBinary(n),IE.endLargeBinary(n)}visitBool(t,n){return ME.startBool(n),ME.endBool(n)}visitUtf8(t,n){return NE.startUtf8(n),NE.endUtf8(n)}visitLargeUtf8(t,n){return AE.startLargeUtf8(n),AE.endLargeUtf8(n)}visitDecimal(t,n){return fl.startDecimal(n),fl.addScale(n,t.scale),fl.addPrecision(n,t.precision),fl.addBitWidth(n,t.bitWidth),fl.endDecimal(n)}visitDate(t,n){return $h.startDate(n),$h.addUnit(n,t.unit),$h.endDate(n)}visitTime(t,n){return Bi.startTime(n),Bi.addUnit(n,t.unit),Bi.addBitWidth(n,t.bitWidth),Bi.endTime(n)}visitTimestamp(t,n){const i=t.timezone&&n.createString(t.timezone)||void 0;return zi.startTimestamp(n),zi.addUnit(n,t.unit),i!==void 0&&zi.addTimezone(n,i),zi.endTimestamp(n)}visitInterval(t,n){return Fr.startInterval(n),Fr.addUnit(n,t.unit),Fr.endInterval(n)}visitDuration(t,n){return jh.startDuration(n),jh.addUnit(n,t.unit),jh.endDuration(n)}visitList(t,n){return DE.startList(n),DE.endList(n)}visitStruct(t,n){return da.startStruct_(n),da.endStruct_(n)}visitUnion(t,n){si.startTypeIdsVector(n,t.typeIds.length);const i=si.createTypeIdsVector(n,t.typeIds);return si.startUnion(n),si.addMode(n,t.mode),si.addTypeIds(n,i),si.endUnion(n)}visitDictionary(t,n){const i=this.visit(t.indices,n);return _s.startDictionaryEncoding(n),_s.addId(n,BigInt(t.id)),_s.addIsOrdered(n,t.isOrdered),i!==void 0&&_s.addIndexType(n,i),_s.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Yh.startFixedSizeBinary(n),Yh.addByteWidth(n,t.byteWidth),Yh.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return qh.startFixedSizeList(n),qh.addListSize(n,t.listSize),qh.endFixedSizeList(n)}visitMap(t,n){return Kh.startMap(n),Kh.addKeysSorted(n,t.keysSorted),Kh.endMap(n)}}const _0=new f$;function d$(e,t=new Map){return new le(p$(e,t),Qh(e.metadata),t)}function CD(e){return new Ci(e.count,TD(e.columns),MD(e.columns))}function h$(e){return new Yr(CD(e.data),e.id,e.isDelta)}function p$(e,t){return(e.fields||[]).filter(Boolean).map(n=>Ae.fromJSON(n,t))}function WE(e,t){return(e.children||[]).filter(Boolean).map(n=>Ae.fromJSON(n,t))}function TD(e){return(e||[]).reduce((t,n)=>[...t,new Ro(n.count,g$(n.VALIDITY)),...TD(n.children)],[])}function MD(e,t=[]){for(let n=-1,i=(e||[]).length;++n<i;){const r=e[n];r.VALIDITY&&t.push(new zr(t.length,r.VALIDITY.length)),r.TYPE_ID&&t.push(new zr(t.length,r.TYPE_ID.length)),r.OFFSET&&t.push(new zr(t.length,r.OFFSET.length)),r.DATA&&t.push(new zr(t.length,r.DATA.length)),t=MD(r.children,t)}return t}function g$(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function m$(e,t){let n,i,r,o,a,u;return!t||!(o=e.dictionary)?(a=$E(e,WE(e,t)),r=new Ae(e.name,a,e.nullable,Qh(e.metadata))):t.has(n=o.id)?(i=(i=o.indexType)?VE(i):new Rf,u=new uu(t.get(n),i,n,o.isOrdered),r=new Ae(e.name,u,e.nullable,Qh(e.metadata))):(i=(i=o.indexType)?VE(i):new Rf,t.set(n,a=$E(e,WE(e,t))),u=new uu(a,i,n,o.isOrdered),r=new Ae(e.name,u,e.nullable,Qh(e.metadata))),r||null}function Qh(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function VE(e){return new Aa(e.isSigned,e.bitWidth)}function $E(e,t){const n=e.type.name;switch(n){case"NONE":return new Lo;case"null":return new Lo;case"binary":return new Kp;case"largebinary":return new Gp;case"utf8":return new Xp;case"largeutf8":return new Qp;case"bool":return new Zp;case"list":return new sg((t||[])[0]);case"struct":return new Kn(t||[]);case"struct_":return new Kn(t||[])}switch(n){case"int":{const i=e.type;return new Aa(i.isSigned,i.bitWidth)}case"floatingpoint":{const i=e.type;return new qp(Pn[i.precision])}case"decimal":{const i=e.type;return new Jp(i.scale,i.precision,i.bitWidth)}case"date":{const i=e.type;return new tg(Gi[i.unit])}case"time":{const i=e.type;return new eg(It[i.unit],i.bitWidth)}case"timestamp":{const i=e.type;return new ng(It[i.unit],i.timezone)}case"interval":{const i=e.type;return new ig(jr[i.unit])}case"duration":{const i=e.type;return new rg(It[i.unit])}case"union":{const i=e.type,[r,...o]=(i.mode+"").toLowerCase(),a=r.toUpperCase()+o.join("");return new og(Un[a],i.typeIds||[],t||[])}case"fixedsizebinary":{const i=e.type;return new ag(i.byteWidth)}case"fixedsizelist":{const i=e.type;return new lg(i.listSize,(t||[])[0])}case"map":{const i=e.type;return new ug((t||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var y$=$2,v$=au;class Gn{static fromJSON(t,n){const i=new Gn(0,Qe.V5,n);return i._createHeader=_$(t,n),i}static decode(t){t=new v$(Qt(t));const n=eo.getRootAsMessage(t),i=n.bodyLength(),r=n.version(),o=n.headerType(),a=new Gn(i,r,o);return a._createHeader=b$(n,o),a}static encode(t){const n=new y$;let i=-1;return t.isSchema()?i=le.encode(n,t.header()):t.isRecordBatch()?i=Ci.encode(n,t.header()):t.isDictionaryBatch()&&(i=Yr.encode(n,t.header())),eo.startMessage(n),eo.addVersion(n,Qe.V5),eo.addHeader(n,i),eo.addHeaderType(n,t.headerType),eo.addBodyLength(n,BigInt(t.bodyLength)),eo.finishMessageBuffer(n,eo.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof le)return new Gn(0,Qe.V5,se.Schema,t);if(t instanceof Ci)return new Gn(n,Qe.V5,se.RecordBatch,t);if(t instanceof Yr)return new Gn(n,Qe.V5,se.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===se.Schema}isRecordBatch(){return this.headerType===se.RecordBatch}isDictionaryBatch(){return this.headerType===se.DictionaryBatch}constructor(t,n,i,r){this._version=n,this._headerType=i,this.body=new Uint8Array(0),r&&(this._createHeader=()=>r),this._bodyLength=_e(t)}}class Ci{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,i){this._nodes=n,this._buffers=i,this._length=_e(t)}}class Yr{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,i=!1){this._data=t,this._isDelta=i,this._id=_e(n)}}class zr{constructor(t,n){this.offset=_e(t),this.length=_e(n)}}class Ro{constructor(t,n){this.length=_e(t),this.nullCount=_e(n)}}function _$(e,t){return()=>{switch(t){case se.Schema:return le.fromJSON(e);case se.RecordBatch:return Ci.fromJSON(e);case se.DictionaryBatch:return Yr.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${se[t]}, type: ${t} }`)}}function b$(e,t){return()=>{switch(t){case se.Schema:return le.decode(e.header(new Dr),new Map,e.version());case se.RecordBatch:return Ci.decode(e.header(new hs),e.version());case se.DictionaryBatch:return Yr.decode(e.header(new ul),e.version())}throw new Error(`Unrecognized Message type: { name: ${se[t]}, type: ${t} }`)}}Ae.encode=D$;Ae.decode=I$;Ae.fromJSON=m$;le.encode=A$;le.decode=w$;le.fromJSON=d$;Ci.encode=L$;Ci.decode=x$;Ci.fromJSON=CD;Yr.encode=N$;Yr.decode=S$;Yr.fromJSON=h$;Ro.encode=O$;Ro.decode=E$;zr.encode=R$;zr.decode=k$;function w$(e,t=new Map,n=Qe.V5){const i=M$(e,t);return new le(i,Zh(e),t,n)}function x$(e,t=Qe.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Ci(e.length(),C$(e),T$(e,t))}function S$(e,t=Qe.V5){return new Yr(Ci.decode(e.data(),t),e.id(),e.isDelta())}function k$(e){return new zr(e.offset(),e.length())}function E$(e){return new Ro(e.length(),e.nullCount())}function C$(e){const t=[];for(let n,i=-1,r=-1,o=e.nodesLength();++i<o;)(n=e.nodes(i))&&(t[++r]=Ro.decode(n));return t}function T$(e,t){const n=[];for(let i,r=-1,o=-1,a=e.buffersLength();++r<a;)(i=e.buffers(r))&&(t<Qe.V4&&(i.bb_pos+=8*(r+1)),n[++o]=zr.decode(i));return n}function M$(e,t){const n=[];for(let i,r=-1,o=-1,a=e.fieldsLength();++r<a;)(i=e.fields(r))&&(n[++o]=Ae.decode(i,t));return n}function jE(e,t){const n=[];for(let i,r=-1,o=-1,a=e.childrenLength();++r<a;)(i=e.children(r))&&(n[++o]=Ae.decode(i,t));return n}function I$(e,t){let n,i,r,o,a,u;return!t||!(u=e.dictionary())?(r=qE(e,jE(e,t)),i=new Ae(e.name(),r,e.nullable(),Zh(e))):t.has(n=_e(u.id()))?(o=(o=u.indexType())?YE(o):new Rf,a=new uu(t.get(n),o,n,u.isOrdered()),i=new Ae(e.name(),a,e.nullable(),Zh(e))):(o=(o=u.indexType())?YE(o):new Rf,t.set(n,r=qE(e,jE(e,t))),a=new uu(r,o,n,u.isOrdered()),i=new Ae(e.name(),a,e.nullable(),Zh(e))),i||null}function Zh(e){const t=new Map;if(e)for(let n,i,r=-1,o=Math.trunc(e.customMetadataLength());++r<o;)(n=e.customMetadata(r))&&(i=n.key())!=null&&t.set(i,n.value());return t}function YE(e){return new Aa(e.isSigned(),e.bitWidth())}function qE(e,t){const n=e.typeType();switch(n){case we.NONE:return new Lo;case we.Null:return new Lo;case we.Binary:return new Kp;case we.LargeBinary:return new Gp;case we.Utf8:return new Xp;case we.LargeUtf8:return new Qp;case we.Bool:return new Zp;case we.List:return new sg((t||[])[0]);case we.Struct_:return new Kn(t||[])}switch(n){case we.Int:{const i=e.type(new wi);return new Aa(i.isSigned(),i.bitWidth())}case we.FloatingPoint:{const i=e.type(new Rr);return new qp(i.precision())}case we.Decimal:{const i=e.type(new fl);return new Jp(i.scale(),i.precision(),i.bitWidth())}case we.Date:{const i=e.type(new $h);return new tg(i.unit())}case we.Time:{const i=e.type(new Bi);return new eg(i.unit(),i.bitWidth())}case we.Timestamp:{const i=e.type(new zi);return new ng(i.unit(),i.timezone())}case we.Interval:{const i=e.type(new Fr);return new ig(i.unit())}case we.Duration:{const i=e.type(new jh);return new rg(i.unit())}case we.Union:{const i=e.type(new si);return new og(i.mode(),i.typeIdsArray()||[],t||[])}case we.FixedSizeBinary:{const i=e.type(new Yh);return new ag(i.byteWidth())}case we.FixedSizeList:{const i=e.type(new qh);return new lg(i.listSize(),(t||[])[0])}case we.Map:{const i=e.type(new Kh);return new ug((t||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${we[n]}" (${n})`)}function A$(e,t){const n=t.fields.map(o=>Ae.encode(e,o));Dr.startFieldsVector(e,n.length);const i=Dr.createFieldsVector(e,n),r=t.metadata&&t.metadata.size>0?Dr.createCustomMetadataVector(e,[...t.metadata].map(([o,a])=>{const u=e.createString(`${o}`),c=e.createString(`${a}`);return fn.startKeyValue(e),fn.addKey(e,u),fn.addValue(e,c),fn.endKeyValue(e)})):-1;return Dr.startSchema(e),Dr.addFields(e,i),Dr.addEndianness(e,F$?lu.Little:lu.Big),r!==-1&&Dr.addCustomMetadata(e,r),Dr.endSchema(e)}function D$(e,t){let n=-1,i=-1,r=-1;const o=t.type;let a=t.typeId;bt.isDictionary(o)?(a=o.dictionary.typeId,r=_0.visit(o,e),i=_0.visit(o.dictionary,e)):i=_0.visit(o,e);const u=(o.children||[]).map(g=>Ae.encode(e,g)),c=Ni.createChildrenVector(e,u),p=t.metadata&&t.metadata.size>0?Ni.createCustomMetadataVector(e,[...t.metadata].map(([g,y])=>{const v=e.createString(`${g}`),b=e.createString(`${y}`);return fn.startKeyValue(e),fn.addKey(e,v),fn.addValue(e,b),fn.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Ni.startField(e),Ni.addType(e,i),Ni.addTypeType(e,a),Ni.addChildren(e,c),Ni.addNullable(e,!!t.nullable),n!==-1&&Ni.addName(e,n),r!==-1&&Ni.addDictionary(e,r),p!==-1&&Ni.addCustomMetadata(e,p),Ni.endField(e)}function L$(e,t){const n=t.nodes||[],i=t.buffers||[];hs.startNodesVector(e,n.length);for(const a of n.slice().reverse())Ro.encode(e,a);const r=e.endVector();hs.startBuffersVector(e,i.length);for(const a of i.slice().reverse())zr.encode(e,a);const o=e.endVector();return hs.startRecordBatch(e),hs.addLength(e,BigInt(t.length)),hs.addNodes(e,r),hs.addBuffers(e,o),hs.endRecordBatch(e)}function N$(e,t){const n=Ci.encode(e,t.data);return ul.startDictionaryBatch(e),ul.addId(e,BigInt(t.id)),ul.addIsDelta(e,t.isDelta),ul.addData(e,n),ul.endDictionaryBatch(e)}function O$(e,t){return q2.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function R$(e,t){return Y2.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const F$=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),ew=e=>`Expected ${se[e]} Message in stream, but was null or length 0.`,nw=e=>`Header pointer of flatbuffer-encoded ${se[e]} Message is null or length 0.`,ID=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,AD=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`;class DD{constructor(t){this.source=t instanceof gg?t:new gg(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Be:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(ew(t));return n.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const n=Qt(this.source.read(t));if(n.byteLength<t)throw new Error(AD(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(t=!1){const n=se.Schema,i=this.readMessage(n),r=i==null?void 0:i.header();if(t&&!r)throw new Error(nw(n));return r}readMetadataLength(){const t=this.source.read(fm),n=t&&new au(t),i=(n==null?void 0:n.readInt32(0))||0;return{done:i===0,value:i}}readMetadata(t){const n=this.source.read(t);if(!n)return Be;if(n.byteLength<t)throw new Error(ID(t,n.byteLength));return{done:!1,value:Gn.decode(n)}}}class P${constructor(t,n){this.source=t instanceof cu?t:B2(t)?new mg(t,n):new cu(t)}[Symbol.asyncIterator](){return this}next(){return Pt(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Be:t})}throw(t){return Pt(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return Pt(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return Pt(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(ew(t));return n.value})}readMessageBody(t){return Pt(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const n=Qt(yield this.source.read(t));if(n.byteLength<t)throw new Error(AD(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return Pt(this,arguments,void 0,function*(t=!1){const n=se.Schema,i=yield this.readMessage(n),r=i==null?void 0:i.header();if(t&&!r)throw new Error(nw(n));return r})}readMetadataLength(){return Pt(this,void 0,void 0,function*(){const t=yield this.source.read(fm),n=t&&new au(t),i=(n==null?void 0:n.readInt32(0))||0;return{done:i===0,value:i}})}readMetadata(t){return Pt(this,void 0,void 0,function*(){const n=yield this.source.read(t);if(!n)return Be;if(n.byteLength<t)throw new Error(ID(t,n.byteLength));return{done:!1,value:Gn.decode(n)}})}}class B$ extends DD{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof zE?t:new zE(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Gn.fromJSON(t.schema,se.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const n=t.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:Gn.fromJSON(n,se.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const n=t.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:Gn.fromJSON(n,se.RecordBatch)}}return this._body=[],Be}readMessageBody(t){return n(this._body);function n(i){return(i||[]).reduce((r,o)=>[...r,...o.VALIDITY&&[o.VALIDITY]||[],...o.TYPE_ID&&[o.TYPE_ID]||[],...o.OFFSET&&[o.OFFSET]||[],...o.DATA&&[o.DATA]||[],...n(o.children)],[])}}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(ew(t));return n.value}readSchema(){const t=se.Schema,n=this.readMessage(t),i=n==null?void 0:n.header();if(!n||!i)throw new Error(nw(t));return i}}const fm=4,i_="ARROW1",Pf=new Uint8Array(i_.length);for(let e=0;e<i_.length;e+=1)Pf[e]=i_.codePointAt(e);function iw(e,t=0){for(let n=-1,i=Pf.length;++n<i;)if(Pf[n]!==e[t+n])return!1;return!0}const ed=Pf.length,LD=ed+fm,z$=ed*2+fm;class ji extends Gb{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const n=this._impl.open(t);return Ia(n)?n.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Ri.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Ri.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof ji?t:qv(t)?V$(t):B2(t)?Y$(t):Ia(t)?(()=>Pt(this,void 0,void 0,function*(){return yield ji.from(yield t)}))():z2(t)||Bb(t)||U2(t)||mu(t)?j$(new cu(t)):$$(new gg(t))}static readAll(t){return t instanceof ji?t.isSync()?KE(t):GE(t):qv(t)||ArrayBuffer.isView(t)||Qf(t)||P2(t)?KE(t):GE(t)}}class yg extends ji{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Br(this,arguments,function*(){yield Wt(yield*Vh(_a(this[Symbol.iterator]())))})}}class vg extends ji{constructor(t){super(t),this._impl=t}readAll(){return Pt(this,void 0,void 0,function*(){var t,n,i,r;const o=new Array;try{for(var a=!0,u=_a(this),c;c=yield u.next(),t=c.done,!t;a=!0){r=c.value,a=!1;const p=r;o.push(p)}}catch(p){n={error:p}}finally{try{!a&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(n)throw n.error}}return o})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class ND extends yg{constructor(t){super(t),this._impl=t}}class U$ extends vg{constructor(t){super(t),this._impl=t}}class OD{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,n){const i=this._loadVectors(t,n,this.schema.fields),r=Kt({type:new Kn(this.schema.fields),length:t.length,children:i});return new oi(this.schema,r)}_loadDictionaryBatch(t,n){const{id:i,isDelta:r}=t,{dictionaries:o,schema:a}=this,u=o.get(i),c=a.dictionaries.get(i),p=this._loadVectors(t.data,n,[c]);return(u&&r?u.concat(new ae(p)):new ae(p)).memoize()}_loadVectors(t,n,i){return new xD(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(i)}}class _g extends OD{constructor(t,n){super(n),this._reader=qv(t)?new B$(this._handle=t):new DD(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=FD(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Be}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Be}next(){if(this.closed)return Be;let t;const{_reader:n}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),r=n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,r)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),r=n.readMessageBody(t.bodyLength),o=this._loadDictionaryBatch(i,r);this.dictionaries.set(i.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new tw(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class bg extends OD{constructor(t,n){super(n),this._reader=new P$(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Pt(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return Pt(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=FD(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return Pt(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Be})}return(t){return Pt(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Be})}next(){return Pt(this,void 0,void 0,function*(){if(this.closed)return Be;let t;const{_reader:n}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),r=yield n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,r)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),r=yield n.readMessageBody(t.bodyLength),o=this._loadDictionaryBatch(i,r);this.dictionaries.set(i.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new tw(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return Pt(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class RD extends _g{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,n){super(t instanceof UE?t:new UE(t),n)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var n;if(this.closed)return null;this._footer||this.open();const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const r=this._reader.readMessage(se.RecordBatch);if(r!=null&&r.isRecordBatch()){const o=r.header(),a=this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(o,a)}}return null}_readDictionaryBatch(t){var n;const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const r=this._reader.readMessage(se.DictionaryBatch);if(r!=null&&r.isDictionaryBatch()){const o=r.header(),a=this._reader.readMessageBody(r.bodyLength),u=this._loadDictionaryBatch(o,a);this.dictionaries.set(o.id,u)}}}_readFooter(){const{_handle:t}=this,n=t.size-LD,i=t.readInt32(n),r=t.readAt(n-i,i);return Ff.decode(r)}_readNextMessageAndValidate(t){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class H$ extends bg{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...n){const i=typeof n[0]!="number"?n.shift():void 0,r=n[0]instanceof Map?n.shift():void 0;super(t instanceof mg?t:new mg(t,i),r)}isFile(){return!0}isAsync(){return!0}open(t){const n=Object.create(null,{open:{get:()=>super.open}});return Pt(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const i of this._footer.dictionaryBatches())i&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,t)})}readRecordBatch(t){return Pt(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());const i=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const r=yield this._reader.readMessage(se.RecordBatch);if(r!=null&&r.isRecordBatch()){const o=r.header(),a=yield this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(o,a)}}return null})}_readDictionaryBatch(t){return Pt(this,void 0,void 0,function*(){var n;const i=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const r=yield this._reader.readMessage(se.DictionaryBatch);if(r!=null&&r.isDictionaryBatch()){const o=r.header(),a=yield this._reader.readMessageBody(r.bodyLength),u=this._loadDictionaryBatch(o,a);this.dictionaries.set(o.id,u)}}})}_readFooter(){return Pt(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const n=t.size-LD,i=yield t.readInt32(n),r=yield t.readAt(n-i,i);return Ff.decode(r)})}_readNextMessageAndValidate(t){return Pt(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(t)}return null})}}class W$ extends _g{constructor(t,n){super(t,n)}_loadVectors(t,n,i){return new e$(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(i)}}function FD(e,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:e.autoDestroy}function*KE(e){const t=ji.from(e);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function GE(e){return Br(this,arguments,function*(){const n=yield Wt(ji.from(e));try{if(!(yield Wt(n.open({autoDestroy:!1}))).closed)do yield yield Wt(n);while(!(yield Wt(n.reset().open())).closed)}finally{yield Wt(n.cancel())}})}function V$(e){return new yg(new W$(e))}function $$(e){const t=e.peek(ed+7&-8);return t&&t.byteLength>=4?iw(t)?new ND(new RD(e.read())):new yg(new _g(e)):new yg(new _g(function*(){}()))}function j$(e){return Pt(this,void 0,void 0,function*(){const t=yield e.peek(ed+7&-8);return t&&t.byteLength>=4?iw(t)?new ND(new RD(yield e.read())):new vg(new bg(e)):new vg(new bg(function(){return Br(this,arguments,function*(){})}()))})}function Y$(e){return Pt(this,void 0,void 0,function*(){const{size:t}=yield e.stat(),n=new mg(e,t);return t>=z$&&iw(yield n.readAt(0,ed+7&-8))?new U$(new H$(n)):new vg(new bg(n))})}class He extends Yt{static assemble(...t){const n=r=>r.flatMap(o=>Array.isArray(o)?n(o):o instanceof oi?o.data.children:o.data),i=new He;return i.visitMany(n(t)),i}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof ae)return this.visitMany(t.data),this;const{type:n}=t;if(!bt.isDictionary(n)){const{length:i}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(bt.isUnion(n))this.nodes.push(new Ro(i,0));else{const{nullCount:r}=t;bt.isNull(n)||gr.call(this,r<=0?new Uint8Array(0):cg(t.offset,i,t.nullBitmap)),this.nodes.push(new Ro(i,r))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function gr(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new zr(this._byteLength,t)),this._byteLength+=t,this}function q$(e){var t;const{type:n,length:i,typeIds:r,valueOffsets:o}=e;if(gr.call(this,r),n.mode===Un.Sparse)return r_.call(this,e);if(n.mode===Un.Dense){if(e.offset<=0)return gr.call(this,o),r_.call(this,e);{const a=new Int32Array(i),u=Object.create(null),c=Object.create(null);for(let p,g,y=-1;++y<i;)(p=r[y])!==void 0&&((g=u[p])===void 0&&(g=u[p]=o[y]),a[y]=o[y]-g,c[p]=((t=c[p])!==null&&t!==void 0?t:0)+1);gr.call(this,a),this.visitMany(e.children.map((p,g)=>{const y=n.typeIds[g],v=u[y],b=c[y];return p.slice(v,Math.min(i,b))}))}}return this}function K$(e){let t;return e.nullCount>=e.length?gr.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?gr.call(this,cg(e.offset,e.length,t)):gr.call(this,fg(e.values))}function Fs(e){return gr.call(this,e.values.subarray(0,e.length*e.stride))}function dm(e){const{length:t,values:n,valueOffsets:i}=e,r=_e(i[0]),o=_e(i[t]),a=Math.min(o-r,n.byteLength-r);return gr.call(this,W2(-r,t+1,i)),gr.call(this,n.subarray(r,r+a)),this}function rw(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:i,[t]:r}=n;return gr.call(this,W2(-i,t+1,n)),this.visit(e.children[0].slice(i,r-i))}return this.visit(e.children[0])}function r_(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}He.prototype.visitBool=K$;He.prototype.visitInt=Fs;He.prototype.visitFloat=Fs;He.prototype.visitUtf8=dm;He.prototype.visitLargeUtf8=dm;He.prototype.visitBinary=dm;He.prototype.visitLargeBinary=dm;He.prototype.visitFixedSizeBinary=Fs;He.prototype.visitDate=Fs;He.prototype.visitTimestamp=Fs;He.prototype.visitTime=Fs;He.prototype.visitDecimal=Fs;He.prototype.visitList=rw;He.prototype.visitStruct=r_;He.prototype.visitUnion=q$;He.prototype.visitInterval=Fs;He.prototype.visitDuration=Fs;He.prototype.visitFixedSizeList=rw;He.prototype.visitMap=rw;class PD extends Gb{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new Xh,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,hi(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return Ia(t)?t.then(n=>this.writeAll(n)):mu(t)?lw(this,t):aw(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof Xh?this._sink=t:(this._sink=new Xh,t&&EW(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&CW(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!n_(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof qn&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof oi&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!n_(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof oi?t instanceof tw||this._writeRecordBatch(t):t instanceof qn?this.writeAll(t.batches):Qf(t)&&this.writeAll(t)}_writeMessage(t,n=8){const i=n-1,r=Gn.encode(t),o=r.byteLength,a=this._writeLegacyIpcFormat?4:8,u=o+a+i&~i,c=u-o-a;return t.headerType===se.RecordBatch?this._recordBatchBlocks.push(new No(u,t.bodyLength,this._position)):t.headerType===se.DictionaryBatch&&this._dictionaryBlocks.push(new No(u,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(u-a)),o>0&&this._write(r),this._writePadding(c)}_write(t){if(this._started){const n=Qt(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Gn.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Pf)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:i,bufferRegions:r,buffers:o}=He.assemble(t),a=new Ci(t.numRows,i,r),u=Gn.from(a,n);return this._writeDictionaries(t)._writeMessage(u)._writeBodyBuffers(o)}_writeDictionaryBatch(t,n,i=!1){const{byteLength:r,nodes:o,bufferRegions:a,buffers:u}=He.assemble(new ae([t])),c=new Ci(t.length,o,a),p=new Yr(c,n,i),g=Gn.from(p,r);return this._writeMessage(g)._writeBodyBuffers(u)}_writeBodyBuffers(t){let n,i,r;for(let o=-1,a=t.length;++o<a;)(n=t[o])&&(i=n.byteLength)>0&&(this._write(n),(r=(i+7&-8)-i)>0&&this._writePadding(r));return this}_writeDictionaries(t){var n,i;for(const[r,o]of t.dictionaries){const a=(n=o==null?void 0:o.data)!==null&&n!==void 0?n:[],u=this._seenDictionaries.get(r),c=(i=this._dictionaryDeltaOffsets.get(r))!==null&&i!==void 0?i:0;if(!u||u.data[0]!==a[0])for(const[p,g]of a.entries())this._writeDictionaryBatch(g,r,p>0);else if(c<a.length)for(const p of a.slice(c))this._writeDictionaryBatch(p,r,!0);this._seenDictionaries.set(r,o),this._dictionaryDeltaOffsets.set(r,a.length)}return this}}class sw extends PD{static writeAll(t,n){const i=new sw(n);return Ia(t)?t.then(r=>i.writeAll(r)):mu(t)?lw(i,t):aw(i,t)}}class ow extends PD{static writeAll(t){const n=new ow;return Ia(t)?t.then(i=>n.writeAll(i)):mu(t)?lw(n,t):aw(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(t,n,i=!1){if(!i&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(t,n,i)}_writeFooter(t){const n=Ff.encode(new Ff(t,Qe.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function aw(e,t){let n=t;t instanceof qn&&(n=t.batches,e.reset(void 0,t.schema));for(const i of n)e.write(i);return e.finish()}function lw(e,t){return Pt(this,void 0,void 0,function*(){var n,i,r,o,a,u,c;try{for(n=!0,i=_a(t);r=yield i.next(),o=r.done,!o;n=!0){c=r.value,n=!1;const p=c;e.write(p)}}catch(p){a={error:p}}finally{try{!n&&!o&&(u=i.return)&&(yield u.call(i))}finally{if(a)throw a.error}}return e.finish()})}function G$(e,t="stream"){return(t==="stream"?sw:ow).writeAll(e).toUint8Array(!0)}var X$=Object.create,BD=Object.defineProperty,Q$=Object.getOwnPropertyDescriptor,Z$=Object.getOwnPropertyNames,J$=Object.getPrototypeOf,tj=Object.prototype.hasOwnProperty,ej=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),nj=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Z$(t))!tj.call(e,r)&&r!==n&&BD(e,r,{get:()=>t[r],enumerable:!(i=Q$(t,r))||i.enumerable});return e},ij=(e,t,n)=>(n=e!=null?X$(J$(e)):{},nj(t||!e||!e.__esModule?BD(n,"default",{value:e,enumerable:!0}):n,e)),rj=ej((e,t)=>{t.exports=Worker}),sj=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.AUTOMATIC=1]="AUTOMATIC",e[e.READ_ONLY=2]="READ_ONLY",e[e.READ_WRITE=3]="READ_WRITE",e))(sj||{}),oj=(e=>(e[e.IDENTIFIER=0]="IDENTIFIER",e[e.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",e[e.STRING_CONSTANT=2]="STRING_CONSTANT",e[e.OPERATOR=3]="OPERATOR",e[e.KEYWORD=4]="KEYWORD",e[e.COMMENT=5]="COMMENT",e))(oj||{}),aj=(e=>(e[e.NONE=0]="NONE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR",e))(aj||{}),lj=(e=>(e[e.NONE=0]="NONE",e[e.CONNECT=1]="CONNECT",e[e.DISCONNECT=2]="DISCONNECT",e[e.OPEN=3]="OPEN",e[e.QUERY=4]="QUERY",e[e.INSTANTIATE=5]="INSTANTIATE",e))(lj||{}),uj=(e=>(e[e.NONE=0]="NONE",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR",e[e.START=3]="START",e[e.RUN=4]="RUN",e[e.CAPTURE=5]="CAPTURE",e))(uj||{}),cj=(e=>(e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",e))(cj||{}),fj=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}},dj=(e=>(e[e.SUCCESS=0]="SUCCESS",e))(dj||{}),hj=class{constructor(e,t){this._bindings=e,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.runQuery(this._conn,e),n=ji.from(t);return console.assert(n.isSync(),"Reader is not sync"),console.assert(n.isFile(),"Reader is not file"),new qn(n)}async send(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.startPendingQuery(this._conn,e);for(;t==null;)t=await this._bindings.pollPendingQuery(this._conn);let n=new zD(this._bindings,this._conn,t),i=await ji.from(n);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let t=await this._bindings.createPrepared(this._conn,e);return new pj(this._bindings,this._conn,t)}async insertArrowTable(e,t){let n=G$(e,"stream");await this.insertArrowFromIPCStream(n,t)}async insertArrowFromIPCStream(e,t){await this._bindings.insertArrowFromIPCStream(this._conn,e,t)}async insertCSVFromPath(e,t){await this._bindings.insertCSVFromPath(this._conn,e,t)}async insertJSONFromPath(e,t){await this._bindings.insertJSONFromPath(this._conn,e,t)}},zD=class{constructor(e,t,n){this.db=e,this.conn=t,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return this._inFlight!=null?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},pj=class{constructor(e,t,n){this.bindings=e,this.connectionId=t,this.statementId=n}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let t=await this.bindings.runPrepared(this.connectionId,this.statementId,e),n=ji.from(t);return console.assert(n.isSync()),console.assert(n.isFile()),new qn(n)}async send(...e){let t=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),n=new zD(this.bindings,this.connectionId,t),i=await ji.from(n);return console.assert(i.isAsync()),console.assert(i.isStream()),i}},gj=(e=>(e.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",e.CLOSE_PREPARED="CLOSE_PREPARED",e.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",e.CONNECT="CONNECT",e.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",e.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",e.CREATE_PREPARED="CREATE_PREPARED",e.DISCONNECT="DISCONNECT",e.DROP_FILE="DROP_FILE",e.DROP_FILES="DROP_FILES",e.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",e.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",e.FLUSH_FILES="FLUSH_FILES",e.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",e.GET_TABLE_NAMES="GET_TABLE_NAMES",e.GET_VERSION="GET_VERSION",e.GLOB_FILE_INFOS="GLOB_FILE_INFOS",e.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",e.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",e.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",e.INSTANTIATE="INSTANTIATE",e.OPEN="OPEN",e.PING="PING",e.POLL_PENDING_QUERY="POLL_PENDING_QUERY",e.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",e.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",e.REGISTER_FILE_URL="REGISTER_FILE_URL",e.RESET="RESET",e.RUN_PREPARED="RUN_PREPARED",e.RUN_QUERY="RUN_QUERY",e.SEND_PREPARED="SEND_PREPARED",e.START_PENDING_QUERY="START_PENDING_QUERY",e.TOKENIZE="TOKENIZE",e))(gj||{}),mj=(e=>(e.CONNECTION_INFO="CONNECTION_INFO",e.ERROR="ERROR",e.FEATURE_FLAGS="FEATURE_FLAGS",e.FILE_BUFFER="FILE_BUFFER",e.FILE_INFOS="FILE_INFOS",e.FILE_SIZE="FILE_SIZE",e.FILE_STATISTICS="FILE_STATISTICS",e.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",e.LOG="LOG",e.OK="OK",e.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",e.QUERY_PLAN="QUERY_PLAN",e.QUERY_RESULT="QUERY_RESULT",e.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",e.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",e.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",e.REGISTERED_FILE="REGISTERED_FILE",e.SCRIPT_TOKENS="SCRIPT_TOKENS",e.SUCCESS="SUCCESS",e.TABLE_NAMES="TABLE_NAMES",e.VERSION_STRING="VERSION_STRING",e))(mj||{}),Jt=class{constructor(e,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=t,this.promise=new Promise((n,i)=>{this.promiseResolver=n,this.promiseRejecter=i})}};function Jh(e){switch(e.typeId){case W.Binary:return{sqlType:"binary"};case W.Bool:return{sqlType:"bool"};case W.Date:return{sqlType:"date"};case W.DateDay:return{sqlType:"date32[d]"};case W.DateMillisecond:return{sqlType:"date64[ms]"};case W.Decimal:{let t=e;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case W.Float:return{sqlType:"float"};case W.Float16:return{sqlType:"float16"};case W.Float32:return{sqlType:"float32"};case W.Float64:return{sqlType:"float64"};case W.Int:return{sqlType:"int32"};case W.Int16:return{sqlType:"int16"};case W.Int32:return{sqlType:"int32"};case W.Int64:return{sqlType:"int64"};case W.Uint16:return{sqlType:"uint16"};case W.Uint32:return{sqlType:"uint32"};case W.Uint64:return{sqlType:"uint64"};case W.Uint8:return{sqlType:"uint8"};case W.IntervalDayTime:return{sqlType:"interval[dt]"};case W.IntervalYearMonth:return{sqlType:"interval[m]"};case W.List:return{sqlType:"list",valueType:Jh(e.valueType)};case W.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:e.byteWidth};case W.Null:return{sqlType:"null"};case W.Utf8:return{sqlType:"utf8"};case W.Struct:return{sqlType:"struct",fields:e.children.map(t=>s_(t.name,t.type))};case W.Map:{let t=e;return{sqlType:"map",keyType:Jh(t.keyType),valueType:Jh(t.valueType)}}case W.Time:return{sqlType:"time[s]"};case W.TimeMicrosecond:return{sqlType:"time[us]"};case W.TimeMillisecond:return{sqlType:"time[ms]"};case W.TimeNanosecond:return{sqlType:"time[ns]"};case W.TimeSecond:return{sqlType:"time[s]"};case W.Timestamp:return{sqlType:"timestamp",timezone:e.timezone||void 0};case W.TimestampSecond:return{sqlType:"timestamp[s]",timezone:e.timezone||void 0};case W.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:e.timezone||void 0};case W.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:e.timezone||void 0};case W.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(e.toString()))}function s_(e,t){let n=Jh(t);return n.name=e,n}var yj=new TextEncoder,vj=class{constructor(e,t=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),t!=null&&this.attach(t)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,n)=>{this._workerShutdownResolver=t})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,t=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let n=this._nextMessageId++;return this._pendingRequests.set(n,e),this._worker.postMessage({messageId:n,type:e.type,data:e.data},t),await e.promise}onMessage(e){var t;let n=e.data;switch(n.type){case"LOG":{this._logger.log(n.data);return}case"INSTANTIATE_PROGRESS":{for(let r of this._onInstantiationProgress)r(n.data);return}}let i=this._pendingRequests.get(n.requestId);if(!i){console.warn("unassociated response: [".concat(n.requestId,", ").concat(n.type.toString(),"]"));return}if(this._pendingRequests.delete(n.requestId),n.type=="ERROR"){let r=new Error(n.data.message);r.name=n.data.name,(t=Object.getOwnPropertyDescriptor(r,"stack"))!=null&&t.writable&&(r.stack=n.data.stack),i.promiseRejecter(r);return}switch(i.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(n.type=="OK"){i.promiseResolver(n.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],n.type=="OK"){i.promiseResolver(n.data);return}break;case"GLOB_FILE_INFOS":if(n.type=="FILE_INFOS"){i.promiseResolver(n.data);return}break;case"GET_VERSION":if(n.type=="VERSION_STRING"){i.promiseResolver(n.data);return}break;case"GET_FEATURE_FLAGS":if(n.type=="FEATURE_FLAGS"){i.promiseResolver(n.data);return}break;case"GET_TABLE_NAMES":if(n.type=="TABLE_NAMES"){i.promiseResolver(n.data);return}break;case"TOKENIZE":if(n.type=="SCRIPT_TOKENS"){i.promiseResolver(n.data);return}break;case"COPY_FILE_TO_BUFFER":if(n.type=="FILE_BUFFER"){i.promiseResolver(n.data);return}break;case"EXPORT_FILE_STATISTICS":if(n.type=="FILE_STATISTICS"){i.promiseResolver(n.data);return}break;case"CONNECT":if(n.type=="CONNECTION_INFO"){i.promiseResolver(n.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(n.type=="QUERY_RESULT"){i.promiseResolver(n.data);return}break;case"SEND_PREPARED":if(n.type=="QUERY_RESULT_HEADER"){i.promiseResolver(n.data);return}break;case"START_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(n.data);return}break;case"POLL_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(n.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],n.type=="SUCCESS"){i.promiseResolver(n.data);return}break;case"FETCH_QUERY_RESULTS":if(n.type=="QUERY_RESULT_CHUNK"){i.promiseResolver(n.data);return}break;case"CREATE_PREPARED":if(n.type=="PREPARED_STATEMENT_ID"){i.promiseResolver(n.data);return}break}i.promiseRejecter(new Error("unexpected response type: ".concat(n.type.toString())))}onError(e){console.error(e),console.error("error in duckdb worker: ".concat(e.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let e=new Jt("RESET",null);return await this.postTask(e)}async ping(){let e=new Jt("PING",null);await this.postTask(e)}async dropFile(e){let t=new Jt("DROP_FILE",e);return await this.postTask(t)}async dropFiles(){let e=new Jt("DROP_FILES",null);return await this.postTask(e)}async flushFiles(){let e=new Jt("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,t=null,n=i=>{}){this._onInstantiationProgress.push(n);let i=new Jt("INSTANTIATE",[e,t]);return await this.postTask(i)}async getVersion(){let e=new Jt("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new Jt("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){let t=new Jt("OPEN",e);await this.postTask(t)}async tokenize(e){let t=new Jt("TOKENIZE",e);return await this.postTask(t)}async connectInternal(){let e=new Jt("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new hj(this,e)}async disconnect(e){let t=new Jt("DISCONNECT",e);await this.postTask(t)}async runQuery(e,t){let n=new Jt("RUN_QUERY",[e,t]);return await this.postTask(n)}async startPendingQuery(e,t){let n=new Jt("START_PENDING_QUERY",[e,t]);return await this.postTask(n)}async pollPendingQuery(e){let t=new Jt("POLL_PENDING_QUERY",e);return await this.postTask(t)}async cancelPendingQuery(e){let t=new Jt("CANCEL_PENDING_QUERY",e);return await this.postTask(t)}async fetchQueryResults(e){let t=new Jt("FETCH_QUERY_RESULTS",e);return await this.postTask(t)}async getTableNames(e,t){let n=new Jt("GET_TABLE_NAMES",[e,t]);return await this.postTask(n)}async createPrepared(e,t){let n=new Jt("CREATE_PREPARED",[e,t]);return await this.postTask(n)}async closePrepared(e,t){let n=new Jt("CLOSE_PREPARED",[e,t]);await this.postTask(n)}async runPrepared(e,t,n){let i=new Jt("RUN_PREPARED",[e,t,n]);return await this.postTask(i)}async sendPrepared(e,t,n){let i=new Jt("SEND_PREPARED",[e,t,n]);return await this.postTask(i)}async globFiles(e){let t=new Jt("GLOB_FILE_INFOS",e);return await this.postTask(t)}async registerFileText(e,t){let n=yj.encode(t);await this.registerFileBuffer(e,n)}async registerFileURL(e,t,n,i){t===void 0&&(t=e);let r=new Jt("REGISTER_FILE_URL",[e,t,n,i]);await this.postTask(r)}async registerEmptyFileBuffer(e){}async registerFileBuffer(e,t){let n=new Jt("REGISTER_FILE_BUFFER",[e,t]);await this.postTask(n,[t.buffer])}async registerFileHandle(e,t,n,i){let r=new Jt("REGISTER_FILE_HANDLE",[e,t,n,i]);await this.postTask(r,[])}async collectFileStatistics(e,t){let n=new Jt("COLLECT_FILE_STATISTICS",[e,t]);await this.postTask(n,[])}async exportFileStatistics(e){let t=new Jt("EXPORT_FILE_STATISTICS",e);return await this.postTask(t,[])}async copyFileToBuffer(e){let t=new Jt("COPY_FILE_TO_BUFFER",e);return await this.postTask(t)}async copyFileToPath(e,t){let n=new Jt("COPY_FILE_TO_PATH",[e,t]);await this.postTask(n)}async insertArrowFromIPCStream(e,t,n){if(t.length==0)return;let i=new Jt("INSERT_ARROW_FROM_IPC_STREAM",[e,t,n]);await this.postTask(i,[t.buffer])}async insertCSVFromPath(e,t,n){if(n.columns!==void 0){let r=[];for(let o in n.columns){let a=n.columns[o];r.push(s_(o,a))}n.columnsFlat=r,delete n.columns}let i=new Jt("IMPORT_CSV_FROM_PATH",[e,t,n]);await this.postTask(i)}async insertJSONFromPath(e,t,n){if(n.columns!==void 0){let r=[];for(let o in n.columns){let a=n.columns[o];r.push(s_(o,a))}n.columnsFlat=r,delete n.columns}let i=new Jt("IMPORT_JSON_FROM_PATH",[e,t,n]);await this.postTask(i)}},_j=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),bj=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),wj=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),xj=()=>(async e=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Sj={name:"@duckdb/duckdb-wasm",version:"1.29.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^17.0.0"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0",esbuild:"^0.20.2",eslint:"^8.57.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.34.0","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.2","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.11.0",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.3","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.5",puppeteer:"^22.8.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.13",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/tests-*","!dist/duckdb-browser-mvp.worker.js.map","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-node-blocking.d.ts",import:"./dist/duckdb-node-blocking.mjs",require:"./dist/duckdb-node-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},uw=Sj.version.split(".");uw[0];uw[1];uw[2];var kj=()=>typeof navigator>"u",b0=null,w0=null,x0=null,S0=null,k0=null;async function Ej(){return b0==null&&(b0=typeof BigInt64Array<"u"),w0==null&&(w0=await bj()),x0==null&&(x0=await xj()),S0==null&&(S0=await wj()),k0==null&&(k0=await _j()),{bigInt64Array:b0,crossOriginIsolated:kj()||globalThis.crossOriginIsolated||!1,wasmExceptions:w0,wasmSIMD:S0,wasmThreads:x0,wasmBulkMemory:k0}}async function Cj(e){let t=await Ej();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&e.coi)return{mainModule:e.coi.mainModule,mainWorker:e.coi.mainWorker,pthreadWorker:e.coi.pthreadWorker};if(e.eh)return{mainModule:e.eh.mainModule,mainWorker:e.eh.mainWorker,pthreadWorker:null}}return{mainModule:e.mvp.mainModule,mainWorker:e.mvp.mainWorker,pthreadWorker:null}}ij(rj());function Tj(){let e=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}Tj();var UD=(e=>(e[e.BUFFER=0]="BUFFER",e[e.NODE_FS=1]="NODE_FS",e[e.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",e[e.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",e[e.HTTP=4]="HTTP",e[e.S3=5]="S3",e))(UD||{});let tp,o_;function Mj(){return"/duck-quanvas/"}async function Ij(){const e=Mj(),t={mvp:{mainModule:`${e}duckdb-mvp.wasm`,mainWorker:`${e}duckdb-browser-mvp.worker.js`},eh:{mainModule:`${e}duckdb-eh.wasm`,mainWorker:`${e}duckdb-browser-eh.worker.js`}},n=await Cj(t),i=new Worker(n.mainWorker),r=new fj;tp=new vj(r,i),await tp.instantiate(n.mainModule),o_=await tp.connect()}const Aj={fileUpload:T8,editor:L8,chart:wW},Dj=[{id:"1",type:"fileUpload",data:{label:"File Upload"},position:{x:250,y:5},style:{width:180,height:80}},{id:"2",type:"editor",data:{label:"SQL Editor"},position:{x:100,y:100},style:{width:300,height:300}},{id:"3",type:"chart",data:{label:"Chart"},position:{x:450,y:100},style:{width:300,height:300}}],Lj=[{id:"e1-2",source:"1",target:"2",animated:!0},{id:"e2-3",source:"2",target:"3",animated:!0}];function Nj(){const[e,t,n]=n8(Dj),[i,r,o]=i8(Lj);Z.useEffect(()=>{Ij()},[]);const a=Z.useCallback(async c=>{try{await tp.registerFileHandle(c.name,c,UD.BROWSER_FILEREADER,!0),await o_.query(`CREATE TABLE csv_data AS SELECT * FROM read_csv_auto('${c.name}')`),t(p=>p.map(g=>g.id==="2"?{...g,data:{...g.data,result:"CSV file loaded successfully. You can now run queries on the 'csv_data' table."}}:g))}catch(p){console.error("Error loading CSV:",p),t(g=>g.map(y=>y.id==="2"?{...y,data:{...y.data,result:`Error loading CSV: ${p.message}`}}:y))}},[t]),u=Z.useCallback(async c=>{try{const g=(await o_.query(c)).toArray(),y=b=>typeof b=="bigint"?b.toString():b instanceof Date?b.toISOString():ArrayBuffer.isView(b)?Array.from(b):b??null,v=g.map(b=>Object.fromEntries(Object.entries(b).map(([k,T])=>[k,y(T)])));t(b=>b.map(k=>{if(k.id==="2")return{...k,data:{...k.data,result:JSON.stringify(v,null,2)}};if(k.id==="3"){const T=v.map(S=>Object.values(S)[0]),D=v.map(S=>Object.values(S)[1]),w={labels:T,datasets:[{label:"Query Result",data:D,backgroundColor:"rgba(75, 192, 192, 0.6)"}]};return{...k,data:{...k.data,chartData:w}}}return k}))}catch(p){t(g=>g.map(y=>y.id==="2"?{...y,data:{...y.data,result:`Error: ${p.message}`}}:y))}},[t]);return Z.useEffect(()=>{t(c=>c.map(p=>p.id==="1"?{...p,data:{...p.data,onFileUpload:a}}:p.id==="2"?{...p,data:{...p.data,onRunQuery:u}}:p))},[t,a,u]),yn("div",{style:{width:"100vw",height:"100vh"},children:xg(NI,{nodes:e,edges:i,onNodesChange:n,onEdgesChange:o,nodeTypes:Aj,fitView:!0,children:[yn(C8,{}),yn(b8,{}),yn(h8,{})]})})}E0.createRoot(document.getElementById("root")).render(yn(nt.StrictMode,{children:yn(Nj,{})}));
